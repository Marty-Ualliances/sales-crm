module.exports=[99570,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11011),e=a.i(187),f=a.i(68114);let g=(0,e.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=c.forwardRef(({className:a,variant:c,size:e,asChild:h=!1,...i},j)=>{let k=h?d.Slot:"button";return(0,b.jsx)(k,{className:(0,f.cn)(g({variant:c,size:e,className:a})),ref:j,...i})});h.displayName="Button",a.s(["Button",()=>h])},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},10448,a=>{"use strict";let b=(0,a.i(70106).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],10448)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},46842,a=>{"use strict";let b=(0,a.i(70106).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},82167,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(41675),e=a.i(15618),f=a.i(81560),g=a.i(10448),h=a.i(96221),i=a.i(41710),j=a.i(46842),k=a.i(70106);let l=(0,k.default)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var m=a.i(33508),n=a.i(16201);let o=(0,k.default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var p=a.i(86304),q=a.i(99570);a.i(84225);var r=a.i(89381),s=a.i(80317);let t={title:"",description:"",date:new Date().toISOString().split("T")[0],time:"09:00",duration:30,leadId:"",leadName:"",agenda:"",confirmationSent:!1,nextStep:"",outcome:""};function u(){let{data:a=[],isLoading:k}=(0,r.useMeetings)(),{data:u=[]}=(0,s.useLeads)(),v=(0,r.useCreateMeeting)(),w=(0,r.useDeleteMeeting)(),x=(0,r.useUpdateMeeting)(),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)({...t}),[E,F]=(0,c.useState)("all"),G=new Date().toISOString().split("T")[0],H=(0,c.useMemo)(()=>{let b=[...a];return"today"===E?b=b.filter(a=>a.date===G):"upcoming"===E&&(b=b.filter(a=>a.date>=G&&"scheduled"===a.status)),b.sort((a,b)=>a.date===b.date?a.time<b.time?-1:1:a.date<b.date?-1:1)},[a,E,G]),I=(0,c.useMemo)(()=>a.filter(a=>a.date===G),[a,G]),J=async()=>{if(!C.title||!C.date||!C.time)return;let a=C.leadName;if(C.leadId){let b=u.find(a=>a.id===C.leadId);a=b?.name||""}let b={...C,leadName:a};A?await x.mutateAsync({id:A,data:b}):await v.mutateAsync(b),D({...t}),z(!1),B(null)},K=async a=>{confirm("Delete this meeting?")&&await w.mutateAsync(a)},L=async(a,b)=>{await x.mutateAsync({id:a,data:{status:b}})};return k?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Meetings"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[I.length," meeting",1!==I.length?"s":""," scheduled today"]})]}),(0,b.jsxs)(q.Button,{onClick:()=>{D({...t}),B(null),z(!0)},children:[(0,b.jsx)(e.Plus,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})]}),(0,b.jsx)("div",{className:"flex gap-2",children:["all","today","upcoming"].map(a=>(0,b.jsx)("button",{onClick:()=>F(a),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${E===a?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:"all"===a?"All Meetings":"today"===a?"Today":"Upcoming"},a))}),y&&(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6 shadow-card",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-foreground",children:A?"Edit Meeting":"Schedule New Meeting"}),(0,b.jsx)("button",{onClick:()=>{z(!1),B(null)},className:"text-muted-foreground hover:text-foreground",children:(0,b.jsx)(m.X,{className:"h-5 w-5"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Title *"}),(0,b.jsx)("input",{className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:C.title,onChange:a=>D(b=>({...b,title:a.target.value})),placeholder:"Meeting title..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Date *"}),(0,b.jsx)("input",{type:"date",className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:C.date,onChange:a=>D(b=>({...b,date:a.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Time *"}),(0,b.jsx)("input",{type:"time",className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:C.time,onChange:a=>D(b=>({...b,time:a.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Duration (min)"}),(0,b.jsx)("input",{type:"number",className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:C.duration,onChange:a=>D(b=>({...b,duration:Number(a.target.value)||30}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Attach Lead (optional)"}),(0,b.jsxs)("select",{className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:C.leadId,onChange:a=>D(b=>({...b,leadId:a.target.value})),children:[(0,b.jsx)("option",{value:"",children:"No lead attached"}),u.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," — ",a.companyName||a.email]},a.id))]})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Description / Prep Notes"}),(0,b.jsx)("textarea",{className:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm min-h-[60px]",value:C.description,onChange:a=>D(b=>({...b,description:a.target.value})),placeholder:"Internal prep notes..."})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Agenda (sent to prospect)"}),(0,b.jsx)("textarea",{className:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm min-h-[80px]",value:C.agenda,onChange:a=>D(b=>({...b,agenda:a.target.value})),placeholder:"1. Introductions 2. Pain points 3. Solution overview 4. Next steps..."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"confirmationSent",checked:C.confirmationSent,onChange:a=>D(b=>({...b,confirmationSent:a.target.checked})),className:"h-4 w-4 rounded border-border text-primary"}),(0,b.jsx)("label",{htmlFor:"confirmationSent",className:"text-sm text-foreground cursor-pointer",children:"Confirmation email sent to prospect"})]}),A&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Next Step"}),(0,b.jsx)("input",{className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:C.nextStep,onChange:a=>D(b=>({...b,nextStep:a.target.value})),placeholder:"What happens after this meeting?"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Outcome / Notes"}),(0,b.jsx)("textarea",{className:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm min-h-[60px]",value:C.outcome,onChange:a=>D(b=>({...b,outcome:a.target.value})),placeholder:"What happened? What was agreed?"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end mt-4 gap-2",children:[(0,b.jsx)(q.Button,{variant:"outline",onClick:()=>{z(!1),B(null)},children:"Cancel"}),(0,b.jsx)(q.Button,{onClick:J,disabled:!C.title||!C.date||!C.time,children:A?"Update":"Schedule"})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:0===H.length?(0,b.jsxs)("div",{className:"rounded-xl border border-dashed border-border p-12 text-center",children:[(0,b.jsx)(d.Calendar,{className:"h-10 w-10 text-muted-foreground mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No meetings found"})]}):H.map(a=>(0,b.jsx)("div",{className:"rounded-xl border border-border bg-card p-5 shadow-card hover:shadow-card-hover transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-foreground truncate",children:a.title}),(0,b.jsx)(p.Badge,{variant:"completed"===a.status?"default":"cancelled"===a.status?"destructive":"secondary",className:"text-xs",children:a.status})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted-foreground",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(d.Calendar,{className:"h-3.5 w-3.5"}),a.date]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(i.Clock,{className:"h-3.5 w-3.5"}),a.time," (",a.duration,"min)"]}),a.createdByName&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(j.User,{className:"h-3.5 w-3.5"}),a.createdByName]}),a.leadName&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(l,{className:"h-3.5 w-3.5"}),"Lead: ",a.leadName]})]}),a.description&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:a.description}),a.agenda&&(0,b.jsxs)("div",{className:"mt-2 rounded-md bg-secondary/40 px-2.5 py-1.5",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-0.5",children:"Agenda"}),(0,b.jsx)("p",{className:"text-xs text-foreground whitespace-pre-line",children:a.agenda})]}),"completed"===a.status&&a.nextStep&&(0,b.jsxs)("div",{className:"mt-2 flex items-start gap-1.5",children:[(0,b.jsx)(n.CheckCircle,{className:"h-3.5 w-3.5 text-emerald-500 mt-0.5 shrink-0"}),(0,b.jsxs)("p",{className:"text-xs text-foreground",children:[(0,b.jsx)("span",{className:"font-medium",children:"Next step:"})," ",a.nextStep]})]}),"completed"===a.status&&!a.nextStep&&(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-1.5 rounded-md bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-900/40 px-2.5 py-1.5",children:[(0,b.jsx)(o,{className:"h-3.5 w-3.5 text-amber-500 shrink-0"}),(0,b.jsx)("p",{className:"text-xs text-amber-700 dark:text-amber-400 font-medium",children:"No next step recorded — edit to add one"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:["scheduled"===a.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>L(a.id,"completed"),className:"p-1.5 rounded-md text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-950 transition-colors",title:"Mark completed",children:(0,b.jsx)(n.CheckCircle,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>L(a.id,"cancelled"),className:"p-1.5 rounded-md text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-950 transition-colors",title:"Cancel",children:(0,b.jsx)(o,{className:"h-4 w-4"})})]}),(0,b.jsx)("button",{onClick:()=>{D({title:a.title,description:a.description||"",date:a.date,time:a.time,duration:a.duration||30,leadId:a.leadId||"",leadName:a.leadName||"",agenda:a.agenda||"",confirmationSent:a.confirmationSent||!1,nextStep:a.nextStep||"",outcome:a.outcome||""}),B(a.id),z(!0)},className:"p-1.5 rounded-md text-muted-foreground hover:bg-muted transition-colors",title:"Edit",children:(0,b.jsx)(g.Edit2,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>K(a.id),className:"p-1.5 rounded-md text-red-500 hover:bg-red-50 dark:hover:bg-red-950 transition-colors",title:"Delete",children:(0,b.jsx)(f.Trash2,{className:"h-4 w-4"})})]})]})},a.id))})]})}a.s(["default",()=>u],82167)}];

//# sourceMappingURL=_37fc4e7e._.js.map