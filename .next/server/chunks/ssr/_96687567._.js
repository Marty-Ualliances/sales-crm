module.exports=[99570,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11011),e=a.i(187),f=a.i(68114);let g=(0,e.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=c.forwardRef(({className:a,variant:c,size:e,asChild:h=!1,...i},j)=>{let k=h?d.Slot:"button";return(0,b.jsx)(k,{className:(0,f.cn)(g({variant:c,size:e,className:a})),ref:j,...i})});h.displayName="Button",a.s(["Button",()=>h])},10448,a=>{"use strict";let b=(0,a.i(70106).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],10448)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},84505,a=>{"use strict";let b=(0,a.i(70106).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);a.s(["Download",()=>b],84505)},25015,a=>{"use strict";let b=(0,a.i(70106).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);a.s(["Play",()=>b],25015)},7827,86228,33441,a=>{"use strict";var b=a.i(72131);a.i(87924);var c=b.createContext(void 0);function d(a){let d=b.useContext(c);return a||d||"ltr"}a.s(["useDirection",()=>d],7827);var e=0;function f(){b.useEffect(()=>{let a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",a[0]??g()),document.body.insertAdjacentElement("beforeend",a[1]??g()),e++,()=>{1===e&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),e--}},[])}function g(){let a=document.createElement("span");return a.setAttribute("data-radix-focus-guard",""),a.tabIndex=0,a.style.outline="none",a.style.opacity="0",a.style.position="fixed",a.style.pointerEvents="none",a}a.s(["useFocusGuards",()=>f],86228);let h=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>h],33441)},50522,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(187),g=a.i(68114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],70430)},67552,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>b],67552)},13749,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],13749)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},99471,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131),e=a.i(38246),f=a.i(25015),g=a.i(84505),h=a.i(87532),i=a.i(13749),j=a.i(50522),k=a.i(96221),l=a.i(10448),m=a.i(99570),n=a.i(14574),o=a.i(66718),p=a.i(70430),q=a.i(29246),r=a.i(80701);a.i(84225);var s=a.i(80873),t=a.i(23292);let u={Completed:"bg-success/10 text-success border-success/20",Missed:"bg-destructive/10 text-destructive border-destructive/20","Follow-up":"bg-warning/10 text-warning border-warning/20"},v=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-indigo-500"];function w(){let{data:a=[],isLoading:w}=(0,s.useCalls)(),[x,y]=(0,d.useState)(""),[z,A]=(0,d.useState)("all"),[B,C]=(0,d.useState)(1),[D,E]=(0,d.useState)(!1),[F,G]=(0,d.useState)(null),[H,I]=(0,d.useState)({status:"",notes:"",duration:""}),J=((0,c.usePathname)()??"").startsWith("/sdr")?"/sdr":"/admin",K=a.filter(a=>{let b=!x||a.leadName.toLowerCase().includes(x.toLowerCase())||a.agentName.toLowerCase().includes(x.toLowerCase()),c="all"===z||a.status===z;return b&&c}),L=Math.ceil(K.length/8),M=K.slice((B-1)*8,8*B),N=async()=>{try{t.toast.success("Call updated successfully"),E(!1),G(null)}catch(a){t.toast.error("Failed to update call")}};return w?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Call History"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[a.length," total calls"]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(h.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by lead or agent name...",value:x,onChange:a=>{y(a.target.value),C(1)},className:"w-full h-9 rounded-lg border border-input bg-background pl-9 pr-3 text-sm text-foreground placeholder:text-muted-foreground"})]}),(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:["all","Completed","Missed","Follow-up"].map(a=>(0,b.jsx)(m.Button,{variant:z===a?"default":"outline",size:"sm",onClick:()=>{A(a),C(1)},children:"all"===a?"All":a},a))})]}),(0,b.jsx)("div",{className:"rounded-xl border border-border bg-card shadow-card overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-border bg-secondary/50",children:[(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground",children:"Lead"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground hidden md:table-cell",children:"Agent"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground",children:"Date & Time"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground hidden sm:table-cell",children:"Duration"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground",children:"Status"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground hidden lg:table-cell",children:"Notes"}),(0,b.jsx)("th",{className:"text-right px-4 py-3 font-medium text-muted-foreground",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:M.map(a=>(0,b.jsxs)("tr",{className:"border-b border-border/50 hover:bg-secondary/30 transition-colors",children:[(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full text-white text-xs font-bold ring-2 ring-white/80 transition-transform hover:scale-110 ${v[(a.leadName||"").charCodeAt(0)%v.length]}`,children:(a.leadName||"??").split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)}),(0,b.jsx)("div",{children:a.leadId?(0,b.jsx)(e.default,{href:`${J}/leads/${a.leadId}`,className:"font-medium text-foreground hover:text-primary transition-colors underline-offset-2 hover:underline",children:a.leadName}):(0,b.jsx)("span",{className:"font-medium text-foreground",children:a.leadName})})]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-muted-foreground hidden md:table-cell",children:a.agentName}),(0,b.jsxs)("td",{className:"px-4 py-3 text-muted-foreground",children:[(0,b.jsx)("div",{children:a.date}),(0,b.jsx)("div",{className:"text-xs",children:a.time})]}),(0,b.jsx)("td",{className:"px-4 py-3 text-muted-foreground hidden sm:table-cell",children:a.duration}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium ${u[a.status]}`,children:a.status})}),(0,b.jsx)("td",{className:"px-4 py-3 text-muted-foreground hidden lg:table-cell max-w-[200px] truncate",children:a.notes}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[a.hasRecording&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-primary hover:bg-primary/10",children:(0,b.jsx)(f.Play,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(m.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:bg-secondary",children:(0,b.jsx)(g.Download,{className:"h-3.5 w-3.5"})})]}),(0,b.jsx)(m.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:bg-secondary",onClick:b=>{b.stopPropagation(),G(a),I({status:a.status,notes:a.notes,duration:a.duration}),E(!0)},children:(0,b.jsx)(l.Edit2,{className:"h-3.5 w-3.5"})})]})})]},a.id))})]})})}),L>1&&(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",(B-1)*8+1,"â€“",Math.min(8*B,K.length)," of ",K.length]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(m.Button,{variant:"outline",size:"sm",disabled:1===B,onClick:()=>C(a=>a-1),children:(0,b.jsx)(i.ChevronLeft,{className:"h-4 w-4"})}),(0,b.jsx)(m.Button,{variant:"outline",size:"sm",disabled:B===L,onClick:()=>C(a=>a+1),children:(0,b.jsx)(j.ChevronRight,{className:"h-4 w-4"})})]})]}),(0,b.jsx)(n.Dialog,{open:D,onOpenChange:E,children:(0,b.jsxs)(n.DialogContent,{children:[(0,b.jsxs)(n.DialogHeader,{children:[(0,b.jsx)(n.DialogTitle,{children:"Edit Call"}),(0,b.jsxs)(n.DialogDescription,{children:["Update call details for ",F?.leadName]})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{htmlFor:"status",children:"Status"}),(0,b.jsxs)(r.Select,{value:H.status,onValueChange:a=>I({...H,status:a}),children:[(0,b.jsx)(r.SelectTrigger,{children:(0,b.jsx)(r.SelectValue,{})}),(0,b.jsxs)(r.SelectContent,{children:[(0,b.jsx)(r.SelectItem,{value:"Completed",children:"Completed"}),(0,b.jsx)(r.SelectItem,{value:"Missed",children:"Missed"}),(0,b.jsx)(r.SelectItem,{value:"Follow-up",children:"Follow-up"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{htmlFor:"duration",children:"Duration"}),(0,b.jsx)(o.Input,{id:"duration",placeholder:"e.g., 5:30",value:H.duration,onChange:a=>I({...H,duration:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{htmlFor:"notes",children:"Notes"}),(0,b.jsx)(q.Textarea,{id:"notes",placeholder:"Add call notes...",value:H.notes,onChange:a=>I({...H,notes:a.target.value}),rows:4})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(m.Button,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),(0,b.jsx)(m.Button,{onClick:N,children:"Save Changes"})]})]})})]})}a.s(["default",()=>w])}];

//# sourceMappingURL=_96687567._.js.map