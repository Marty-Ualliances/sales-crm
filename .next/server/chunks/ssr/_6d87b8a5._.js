module.exports=[99570,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11011),e=a.i(187),f=a.i(68114);let g=(0,e.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=c.forwardRef(({className:a,variant:c,size:e,asChild:h=!1,...i},j)=>{let k=h?d.Slot:"button";return(0,b.jsx)(k,{className:(0,f.cn)(g({variant:c,size:e,className:a})),ref:j,...i})});h.displayName="Button",a.s(["Button",()=>h])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},32860,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],32860)},84505,a=>{"use strict";let b=(0,a.i(70106).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);a.s(["Download",()=>b],84505)},73320,a=>{"use strict";let b=(0,a.i(70106).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);a.s(["Upload",()=>b],73320)},98316,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(73320),e=a.i(24722),f=a.i(16201),g=a.i(92e3),h=a.i(32860),i=a.i(96221),j=a.i(84505),k=a.i(99570),l=a.i(86304);a.i(84225);var m=a.i(80317);let n=["Date","Source","Name","Title","Company Name","Email","Work Direct Phone","Home Phone","Mobile Phone","Corporate Phone","Other Phone","Company Phone","Employees","Person LinkedIn URL","Website","Company LinkedIn URL","City","State","Assigned","Status","Notes"];function o(){let[a,o]=(0,c.useState)("upload"),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(null),z=(0,m.useImportCSV)(),A=a=>{let b=[],c="",d=!1;for(let e=0;e<a.length;e++){let f=a[e];'"'===f?d&&'"'===a[e+1]?(c+='"',e++):d=!d:","!==f||d?c+=f:(b.push(c.trim()),c="")}return b.push(c.trim()),b},B=a=>{w(a);let b=new FileReader;b.onload=a=>{let b,c;q(c=A((b=(a.target?.result).trim().split(/\r?\n/))[0]).map(a=>a.replace(/^"|"$/g,""))),s(b.slice(1).filter(a=>a.trim()).map(a=>{let b=A(a).map(a=>a.replace(/^"|"$/g,"")),d={};return c.forEach((a,c)=>d[a]=b[c]||""),d})),o("preview")},b.readAsText(a)},C=(0,c.useCallback)(a=>{a.preventDefault(),u(!1);let b=a.dataTransfer.files[0];b?.name.endsWith(".csv")&&B(b)},[]),D=async()=>{if(v){o("importing");try{let a=await z.mutateAsync(v);y(a),o("done")}catch(a){y({imported:0,errors:1,errorDetails:[{row:0,error:a.message}]}),o("done")}}};return(0,b.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"CSV Upload"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Import leads in bulk from a CSV file"})]}),(0,b.jsxs)(k.Button,{variant:"outline",size:"sm",onClick:()=>{let a=new Blob([n.join(",")+"\n"],{type:"text/csv"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download="leads_template.csv",c.click(),URL.revokeObjectURL(b)},children:[(0,b.jsx)(j.Download,{className:"h-4 w-4 mr-2"}),"Download Template"]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:["Upload","Preview","Importing","Done"].map((c,d)=>{let e=["upload","preview","importing","done"].indexOf(a);return(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`flex h-7 w-7 items-center justify-center rounded-full text-xs font-medium ${d<=e?"gradient-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:d<e?(0,b.jsx)(f.CheckCircle,{className:"h-4 w-4"}):d+1}),(0,b.jsx)("span",{className:`text-sm hidden sm:inline ${d<=e?"text-foreground":"text-muted-foreground"}`,children:c}),d<3&&(0,b.jsx)(h.ArrowRight,{className:"h-4 w-4 text-muted-foreground"})]},c)})}),"upload"===a&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{onDragOver:a=>{a.preventDefault(),u(!0)},onDragLeave:()=>u(!1),onDrop:C,className:`rounded-xl border-2 border-dashed p-12 text-center transition-colors ${t?"border-primary bg-accent":"border-border bg-card"}`,children:[(0,b.jsx)(d.Upload,{className:"h-10 w-10 mx-auto mb-4 text-muted-foreground"}),(0,b.jsx)("p",{className:"text-lg font-medium text-foreground mb-2",children:"Drop your CSV file here"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"or click to browse"}),(0,b.jsx)("input",{type:"file",accept:".csv",className:"hidden",id:"csv-input",onChange:a=>a.target.files?.[0]&&B(a.target.files[0])}),(0,b.jsxs)(k.Button,{onClick:()=>document.getElementById("csv-input")?.click(),children:[(0,b.jsx)(e.FileSpreadsheet,{className:"h-4 w-4 mr-2"}),"Select CSV File"]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-card p-4 shadow-card",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Expected CSV Columns"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1.5",children:n.map(a=>(0,b.jsx)(l.Badge,{variant:"secondary",className:"text-xs",children:a},a))}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:'Column headers are auto-matched. Only "Name" is required — all other fields are optional.'})]})]}),"preview"===a&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-card shadow-card overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-semibold text-foreground",children:["Preview (",r.length," leads)"]}),(0,b.jsxs)(l.Badge,{variant:"secondary",children:[p.length," columns detected"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-border bg-secondary/50",children:[p.slice(0,8).map(a=>(0,b.jsx)("th",{className:"text-left px-4 py-2 text-xs font-medium text-muted-foreground whitespace-nowrap",children:a},a)),p.length>8&&(0,b.jsx)("th",{className:"text-left px-4 py-2 text-xs font-medium text-muted-foreground",children:"..."})]})}),(0,b.jsx)("tbody",{children:r.slice(0,5).map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-border/50",children:[p.slice(0,8).map(c=>(0,b.jsx)("td",{className:"px-4 py-2 text-muted-foreground whitespace-nowrap max-w-[150px] truncate",children:a[c]||"—"},c)),p.length>8&&(0,b.jsx)("td",{className:"px-4 py-2 text-muted-foreground",children:"..."})]},c))})]})}),r.length>5&&(0,b.jsxs)("div",{className:"px-4 py-2 text-xs text-muted-foreground border-t border-border",children:["...and ",r.length-5," more rows"]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(k.Button,{variant:"outline",onClick:()=>{o("upload"),w(null),s([]),q([])},children:"Back"}),(0,b.jsxs)(k.Button,{onClick:D,className:"gradient-primary border-0",children:["Import ",r.length," Leads",(0,b.jsx)(h.ArrowRight,{className:"h-4 w-4 ml-2"})]})]})]}),"importing"===a&&(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-card p-12 text-center shadow-card",children:[(0,b.jsx)(i.Loader2,{className:"h-12 w-12 mx-auto mb-4 text-primary animate-spin"}),(0,b.jsx)("h2",{className:"text-xl font-bold text-foreground mb-2",children:"Importing Leads..."}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Processing ",r.length," rows. Please wait."]})]}),"done"===a&&x&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:`rounded-xl border p-8 text-center ${x.imported>0?"border-success/30 bg-success/5":"border-destructive/30 bg-destructive/5"}`,children:[x.imported>0?(0,b.jsx)(f.CheckCircle,{className:"h-12 w-12 mx-auto mb-4 text-success"}):(0,b.jsx)(g.AlertCircle,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),(0,b.jsx)("h2",{className:"text-xl font-bold text-foreground mb-2",children:x.imported>0?"Import Complete!":"Import Failed"}),(0,b.jsxs)("p",{className:"text-muted-foreground mb-1",children:[x.imported," leads imported successfully."]}),x.errors>0&&(0,b.jsxs)("p",{className:"text-sm text-destructive",children:[x.errors," rows had errors."]})]}),x.errorDetails&&x.errorDetails.length>0&&(0,b.jsxs)("div",{className:"rounded-xl border border-destructive/20 bg-card p-4 shadow-card",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-destructive mb-2",children:"Error Details"}),(0,b.jsx)("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:x.errorDetails.map((a,c)=>(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,b.jsxs)("span",{className:"text-destructive font-medium",children:["Row ",a.row,":"]})," ",a.error]},c))})]}),(0,b.jsx)(k.Button,{onClick:()=>{o("upload"),w(null),s([]),q([]),y(null)},children:"Upload Another File"})]})]})}a.s(["default",()=>o])}];

//# sourceMappingURL=_6d87b8a5._.js.map