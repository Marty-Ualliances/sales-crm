{"version":3,"sources":["../../../../src/features/leads/pages/LeadDetailPage.tsx","../../../../node_modules/lucide-react/src/icons/shield-check.ts","../../../../node_modules/lucide-react/src/icons/globe.ts","../../../../node_modules/lucide-react/src/icons/map-pin.ts"],"sourcesContent":["'use client';\nimport { usePathname, useParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { ArrowLeft, Phone, Mail, User, Calendar, FileText, RefreshCw, Loader2, Building2, MapPin, Globe, Linkedin, Users, CheckCircle, PhoneCall, Send, ShieldCheck, AlertTriangle, Tag } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { useLead, useCalls, useCompleteFollowUp, useUpdateLead, useLeads, useCreateCall } from '@/hooks/useApi';\nimport { useAuth } from '@/features/auth/context/AuthContext';\nimport { LeadStatus } from '@/features/leads/types/leads';\nimport { getStageBadgeClass, PIPELINE_STAGES, PRIORITIES, getPriorityBadgeClass, SEGMENTS, SOURCE_CHANNELS, checkQualityGate } from '@/features/leads/constants/pipeline';\nimport { CADENCE_TEMPLATES, TOUCH_TYPE_CONFIG, getCadenceTasks } from '@/features/leads/constants/cadences';\nimport { toast } from 'sonner';\nimport { useState } from 'react';\n\n/** Strips non-digit chars (keeps leading +) for tel: URI */\nfunction toTelUri(phone: string): string {\n  return `tel:${phone.replace(/[^+\\d]/g, '')}`;\n}\n\nconst activityIcons: Record<string, any> = {\n  'call': Phone,\n  'follow-up': Calendar,\n  'note': FileText,\n  'status-change': RefreshCw,\n  'email': Send,\n  'linkedin': Linkedin,\n  'cadence-touch': CheckCircle,\n};\n\nconst activityColors: Record<string, string> = {\n  'call': 'bg-success/10 text-success',\n  'follow-up': 'bg-warning/10 text-warning',\n  'note': 'bg-muted text-muted-foreground',\n  'status-change': 'bg-primary/10 text-primary',\n  'email': 'bg-blue-100/50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400',\n  'linkedin': 'bg-sky-100/50 text-sky-600 dark:bg-sky-900/30 dark:text-sky-400',\n  'cadence-touch': 'bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400',\n};\n\nexport default function LeadDetailPage() {\n  const params = useParams();\n  const leadId = params?.leadId as string | undefined;\n  const { data: lead, isLoading } = useLead(leadId ?? '');\n  const { data: allCalls = [] } = useCalls();\n  const completeFollowUp = useCompleteFollowUp();\n  const updateLead = useUpdateLead();\n  const createCall = useCreateCall();\n  const { user } = useAuth();\n  const { data: allLeads = [] } = useLeads();\n  const [editingNotes, setEditingNotes] = useState(false);\n  const [notes, setNotes] = useState('');\n  const [nextStepPrompt, setNextStepPrompt] = useState<{ status: LeadStatus } | null>(null);\n  const [nextStepDate, setNextStepDate] = useState('');\n  const [nextStepNote, setNextStepNote] = useState('');\n  const [activeTab, setActiveTab] = useState<'team' | 'activity'>('team');\n\n  const pathname = usePathname() ?? '';\n  const basePath = pathname.startsWith('/sdr') ? '/sdr' :\n    pathname.startsWith('/hr') ? '/hr' :\n      pathname.startsWith('/leadgen') ? '/leadgen' : '/admin';\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-20\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  if (!lead) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-20\">\n        <h2 className=\"text-xl font-bold text-foreground mb-2\">Lead not found</h2>\n        <Link href={`${basePath}/leads`}><Button variant=\"outline\">Back to Leads</Button></Link>\n      </div>\n    );\n  }\n\n  const leadCalls = allCalls.filter((c: any) => c.leadId === lead.id || c.leadId === lead._id);\n\n  const handleCall = async (phoneToCall?: string) => {\n    const phoneNumber = phoneToCall || lead.phone || lead.companyPhone;\n    if (!phoneNumber) {\n      toast.error('No phone number available');\n      return;\n    }\n\n    try {\n      await createCall.mutateAsync({\n        leadId: lead.id || lead._id,\n        leadName: lead.name,\n        agentName: user?.name || 'Unknown',\n        date: new Date(),\n        time: new Date().toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n        duration: '0 min',\n        status: 'Completed',\n        notes: 'Call initiated from Lead Details',\n        hasRecording: false,\n      });\n    } catch (error) {\n      console.error('Failed to log call:', error);\n    }\n\n    // Open the system dialer\n    window.location.href = toTelUri(phoneNumber);\n    toast.success('Call logged and opening dialer...');\n  };\n\n  const handleCompleteFollowUp = async () => {\n    try {\n      await completeFollowUp.mutateAsync(lead.id);\n      toast.success('Follow-up completed');\n    } catch {\n      toast.error('Failed to complete follow-up');\n    }\n  };\n\n  const NEXT_STEP_STAGES: LeadStatus[] = ['Qualified', 'Meeting Booked', 'Meeting Completed', 'Proposal Sent', 'Negotiation'];\n\n  const handleStatusChange = async (status: LeadStatus) => {\n    if (NEXT_STEP_STAGES.includes(status)) {\n      setNextStepDate('');\n      setNextStepNote('');\n      setNextStepPrompt({ status });\n      return;\n    }\n    try {\n      await updateLead.mutateAsync({ id: lead.id, data: { status } });\n      toast.success(`Status changed to ${status}`);\n    } catch {\n      toast.error('Failed to update status');\n    }\n  };\n\n  const confirmStatusWithNextStep = async () => {\n    if (!nextStepPrompt) return;\n    try {\n      const updateData: any = { status: nextStepPrompt.status };\n      if (nextStepDate) updateData.nextFollowUp = nextStepDate;\n      if (nextStepNote) {\n        updateData.activities = [...(lead.activities || []), {\n          type: 'note',\n          description: `Next step: ${nextStepNote}`,\n          timestamp: new Date().toISOString(),\n          agent: lead.assignedAgent || 'User',\n        }];\n      }\n      await updateLead.mutateAsync({ id: lead.id, data: updateData });\n      toast.success(`Status changed to ${nextStepPrompt.status}`);\n    } catch {\n      toast.error('Failed to update status');\n    } finally {\n      setNextStepPrompt(null);\n    }\n  };\n\n  const handleSaveNotes = async () => {\n    try {\n      let currentUserName = 'Current User';\n      try {\n        const storedUser = localStorage.getItem('insurelead_user');\n        if (storedUser) {\n          const parsed = JSON.parse(storedUser);\n          currentUserName = parsed.name || 'Current User';\n        }\n      } catch (e) { }\n\n      const newActivity = {\n        type: 'note',\n        description: notes,\n        timestamp: new Date().toISOString(),\n        agent: currentUserName,\n      };\n      await updateLead.mutateAsync({\n        id: lead.id,\n        data: {\n          activities: [newActivity, ...(lead.activities || [])]\n        }\n      });\n      setEditingNotes(false);\n      setNotes('');\n      toast.success('Notes saved');\n    } catch {\n      toast.error('Failed to save notes');\n    }\n  };\n\n  const handleFieldUpdate = async (data: any) => {\n    try {\n      await updateLead.mutateAsync({ id: lead.id, data });\n      toast.success('Updated');\n    } catch {\n      toast.error('Failed to update');\n    }\n  };\n\n  const handleQualificationToggle = async (field: 'rightPerson' | 'realNeed' | 'timing') => {\n    const current = lead.qualification || { rightPerson: false, realNeed: false, timing: false, qualifiedAt: null, qualifiedBy: '' };\n    const updated = { ...current, [field]: !current[field] };\n    // If all 3 are now true and weren't before, mark qualifiedAt\n    if (updated.rightPerson && updated.realNeed && updated.timing && !current.qualifiedAt) {\n      updated.qualifiedAt = new Date().toISOString() as any;\n      updated.qualifiedBy = lead.assignedAgent;\n    }\n    await handleFieldUpdate({ qualification: updated });\n  };\n\n  const checkCadenceTouch = async (touchIdx: number) => {\n    if (!lead.cadence) return;\n    const updatedTouches = [...lead.cadence.touches];\n    updatedTouches[touchIdx] = { ...updatedTouches[touchIdx], completed: true, completedAt: new Date().toISOString() };\n\n    // Create activity\n    const touch = updatedTouches[touchIdx];\n    const activityDesc = `Cadence touch completed: ${touch.type} (Day ${touch.day})`;\n\n    // Optimistic update\n    try {\n      await updateLead.mutateAsync({\n        id: lead.id,\n        data: {\n          cadence: { ...lead.cadence, touches: updatedTouches },\n          activities: [...(lead.activities || []), {\n            type: 'cadence-touch',\n            description: activityDesc,\n            timestamp: new Date().toISOString(),\n            agent: lead.assignedAgent || 'System',\n          }]\n        }\n      });\n      toast.success('Touch completed');\n    } catch {\n      toast.error('Failed to update cadence');\n    }\n  };\n\n  const qualityGate = checkQualityGate(lead);\n  const cadenceTasks = getCadenceTasks(lead.cadence);\n  const cadenceTemplate = lead.cadence ? CADENCE_TEMPLATES.find(t => t.key === lead.cadence!.type) : null;\n\n  // All phone numbers for display\n  const phones = [\n    { label: 'Work Direct', value: lead.workDirectPhone },\n    { label: 'Mobile', value: lead.mobilePhone },\n    { label: 'Home', value: lead.homePhone },\n    { label: 'Corporate', value: lead.corporatePhone },\n    { label: 'Company', value: lead.companyPhone },\n    { label: 'Other', value: lead.otherPhone },\n  ].filter(p => p.value);\n\n  // Warning: Meeting Completed with no next step\n  const showNoNextStepWarning =\n    (lead.status === 'Meeting Completed' || lead.status === 'Negotiation') &&\n    !lead.nextFollowUp;\n\n  // Normalize activities and stageHistory into a single timeline\n  const combinedHistory = [\n    ...(lead.activities || []),\n    ...(lead.stageHistory || []).map((sh: any, idx: number) => ({\n      id: `sh-${idx}-${sh.enteredAt}`,\n      type: 'status-change',\n      description: `Status changed to ${sh.stage}`,\n      timestamp: sh.enteredAt,\n      agent: sh.agent || 'System',\n    }))\n  ].sort((a: any, b: any) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n\n  const noteActivities = combinedHistory.filter((a: any) => a.type === 'note');\n  const nonNoteActivities = combinedHistory.filter((a: any) => a.type !== 'note');\n\n  return (\n    <div className=\"space-y-6\">\n      {/* No next-step warning */}\n      {showNoNextStepWarning && (\n        <div className=\"flex items-center gap-3 rounded-xl border border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-900/40 px-4 py-3\">\n          <AlertTriangle className=\"h-4 w-4 text-amber-600 shrink-0\" />\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm font-semibold text-amber-800 dark:text-amber-300\">No next step set</p>\n            <p className=\"text-xs text-amber-700 dark:text-amber-400\">This lead is in <strong>{lead.status}</strong> but has no follow-up date. Set one below to keep the deal moving.</p>\n          </div>\n        </div>\n      )}\n\n      {/* Next-step modal */}\n      {nextStepPrompt && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-foreground/40 backdrop-blur-sm p-4\">\n          <div className=\"w-full max-w-md rounded-2xl border border-border bg-card p-6 shadow-xl space-y-4\">\n            <h2 className=\"text-lg font-bold text-foreground\">Set Next Step</h2>\n            <p className=\"text-sm text-muted-foreground\">\n              Moving to <span className=\"font-semibold text-foreground\">{nextStepPrompt.status}</span> — define what happens next to keep momentum.\n            </p>\n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"block text-xs font-medium text-muted-foreground mb-1\">Follow-up Date</label>\n                <input\n                  type=\"date\"\n                  value={nextStepDate}\n                  onChange={e => setNextStepDate(e.target.value)}\n                  className=\"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm text-foreground\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-xs font-medium text-muted-foreground mb-1\">Next Step Note</label>\n                <input\n                  value={nextStepNote}\n                  onChange={e => setNextStepNote(e.target.value)}\n                  placeholder=\"e.g. Send proposal, Book demo, Follow up on budget...\"\n                  className=\"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm text-foreground placeholder:text-muted-foreground\"\n                />\n              </div>\n            </div>\n            <div className=\"flex gap-2 justify-end pt-2\">\n              <Button variant=\"outline\" onClick={() => setNextStepPrompt(null)}>Skip</Button>\n              <Button onClick={confirmStatusWithNextStep} disabled={updateLead.isPending}>\n                {updateLead.isPending ? 'Saving...' : 'Confirm & Save'}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3\">\n        <div className=\"flex items-center gap-3\">\n          <Link href={`${basePath}/leads`}>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-9 w-9\"><ArrowLeft className=\"h-4 w-4\" /></Button>\n          </Link>\n          <div>\n            <h1 className=\"text-xl sm:text-2xl font-bold text-foreground\">{lead.name}</h1>\n            <p className=\"text-sm text-muted-foreground\">\n              {lead.title && `${lead.title} · `}{lead.companyName || 'Lead Details'}\n            </p>\n          </div>\n        </div>\n        <div className=\"flex gap-2 ml-12 sm:ml-0\">\n          {lead.phone && (\n            <Button size=\"sm\" onClick={() => handleCall(lead.phone)}>\n              <PhoneCall className=\"h-4 w-4 mr-1\" />\n              Call Now\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* ── Company Card — Full Width ── */}\n      <div className=\"rounded-xl border border-border bg-card shadow-card p-4 sm:p-8\">\n        <div className=\"flex items-start gap-4 mb-5\">\n          <div className=\"flex h-14 w-14 items-center justify-center rounded-2xl bg-primary/10 shrink-0\">\n            <Building2 className=\"h-7 w-7 text-primary\" />\n          </div>\n          <div className=\"min-w-0 flex-1\">\n            <h3 className=\"text-xl font-bold text-foreground truncate\">{lead.companyName || 'Unknown Company'}</h3>\n          </div>\n          <select\n            value={lead.status}\n            onChange={(e) => handleStatusChange(e.target.value as LeadStatus)}\n            className={`cursor-pointer appearance-none outline-none inline-flex items-center rounded-full border px-3 py-1.5 text-xs font-semibold shrink-0 ${getStageBadgeClass(lead.status)}`}\n            style={{ paddingRight: '1rem' }}\n          >\n            {PIPELINE_STAGES.map(s => (\n              <option key={s.key} value={s.key} className=\"bg-background text-foreground\">{s.label}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4 pt-5 border-t border-border\">\n          {lead.employees && (\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                <Users className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n              <div>\n                <p className=\"text-xs text-muted-foreground\">Employees</p>\n                <p className=\"text-sm font-semibold text-foreground\">{lead.employees}</p>\n              </div>\n            </div>\n          )}\n          {lead.website && (\n            <div className=\"flex items-center gap-3 min-w-0\">\n              <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                <Globe className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n              <div className=\"min-w-0\">\n                <p className=\"text-xs text-muted-foreground\">Website</p>\n                <a href={lead.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sm font-semibold text-primary hover:underline truncate block\">{lead.website.replace(/^https?:\\/\\//, '')}</a>\n              </div>\n            </div>\n          )}\n          {lead.companyLinkedinUrl && (\n            <div className=\"flex items-center gap-3 min-w-0\">\n              <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                <Linkedin className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n              <div className=\"min-w-0\">\n                <p className=\"text-xs text-muted-foreground\">LinkedIn</p>\n                <a href={lead.companyLinkedinUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sm font-semibold text-primary hover:underline truncate block\">Company Page</a>\n              </div>\n            </div>\n          )}\n          {lead.companyPhone && (\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                <Phone className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n              <div>\n                <p className=\"text-xs text-muted-foreground\">Company Phone</p>\n                <button onClick={() => handleCall(lead.companyPhone)} className=\"text-sm font-semibold text-primary hover:underline\">{lead.companyPhone}</button>\n              </div>\n            </div>\n          )}\n          {((lead as any).address || lead.city || lead.state) && (\n            <div className=\"flex items-center gap-3 col-span-2 sm:col-span-4\">\n              <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                <MapPin className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n              <div className=\"min-w-0 flex-1\">\n                <p className=\"text-xs text-muted-foreground\">Address</p>\n                <p className=\"text-sm font-semibold text-foreground truncate\">\n                  {[(lead as any).address, lead.city, lead.state].filter(Boolean).join(', ')}\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"mt-8\">\n        <div className=\"border-b border-border\">\n          <div className=\"flex space-x-8 px-2\">\n            <button\n              onClick={() => setActiveTab('team')}\n              className={`pb-4 text-sm font-medium transition-colors relative ${activeTab === 'team' ? 'text-primary' : 'text-muted-foreground hover:text-foreground'}`}\n            >\n              Team & Qualifications\n              {activeTab === 'team' && (\n                <span className=\"absolute bottom-0 left-0 w-full h-0.5 bg-primary rounded-t-full\" />\n              )}\n            </button>\n            <button\n              onClick={() => setActiveTab('activity')}\n              className={`pb-4 text-sm font-medium transition-colors relative ${activeTab === 'activity' ? 'text-primary' : 'text-muted-foreground hover:text-foreground'}`}\n            >\n              Activity & Notes\n              {activeTab === 'activity' && (\n                <span className=\"absolute bottom-0 left-0 w-full h-0.5 bg-primary rounded-t-full\" />\n              )}\n            </button>\n          </div>\n        </div>\n\n        <div className=\"pt-6\">\n          {activeTab === 'team' ? (\n            <div className=\"space-y-6\">\n              {/* ── Person Profile Card ── */}\n              <div className=\"rounded-xl border border-border bg-card shadow-card p-4 sm:p-8 space-y-5\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"flex h-14 w-14 items-center justify-center rounded-full bg-primary text-primary-foreground text-lg font-bold shrink-0\">\n                    {lead.name?.split(' ').map((n: string) => n[0]).join('').slice(0, 2) || 'LD'}\n                  </div>\n                  <div className=\"min-w-0 flex-1\">\n                    <h3 className=\"text-xl font-bold text-foreground\">{lead.name}</h3>\n                    {lead.title && <p className=\"text-sm text-muted-foreground mt-0.5\">{lead.title}</p>}\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-5 border-t border-border\">\n                  {lead.email && (\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                        <Mail className=\"h-4 w-4 text-muted-foreground\" />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <p className=\"text-xs text-muted-foreground\">Email</p>\n                        <p className=\"text-sm font-medium text-foreground truncate\">{lead.email}</p>\n                      </div>\n                    </div>\n                  )}\n                  {lead.assignedAgent && (\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                        <User className=\"h-4 w-4 text-muted-foreground\" />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <p className=\"text-xs text-muted-foreground\">Assigned Agent</p>\n                        <p className=\"text-sm font-medium text-foreground truncate\">{lead.assignedAgent}</p>\n                      </div>\n                    </div>\n                  )}\n                  {lead.date && (\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                        <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <p className=\"text-xs text-muted-foreground\">Date Added</p>\n                        <p className=\"text-sm font-medium text-foreground\">{lead.date}</p>\n                      </div>\n                    </div>\n                  )}\n                  {lead.source && (\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                        <RefreshCw className=\"h-4 w-4 text-muted-foreground\" />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <p className=\"text-xs text-muted-foreground\">Source</p>\n                        <p className=\"text-sm font-medium text-foreground\">{lead.source}</p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Company Team - Full Width */}\n              {lead.companyName && (() => {\n                const teamMembers = allLeads.filter((l: any) =>\n                  l.companyName === lead.companyName && (l.id || l._id) !== (lead.id || lead._id)\n                );\n                return (\n                  <div className=\"rounded-xl border border-border bg-card shadow-card p-6 space-y-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <h3 className=\"text-lg font-semibold text-foreground\">Company Team</h3>\n                      <span className=\"text-xs text-muted-foreground\">{teamMembers.length} contact{teamMembers.length !== 1 ? 's' : ''}</span>\n                    </div>\n                    {teamMembers.length > 0 ? (\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n                        {teamMembers.map((member: any) => (\n                          <Link\n                            key={member.id || member._id}\n                            href={`${basePath}/leads/${member.id || member._id}`}\n                            className=\"flex items-center gap-3 p-3 rounded-lg border border-border hover:bg-secondary/50 transition-colors\"\n                          >\n                            <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-secondary text-foreground text-sm font-medium shrink-0\">\n                              {member.name?.split(' ').map((n: string) => n[0]).join('').slice(0, 2) || '??'}\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <p className=\"text-sm font-semibold text-foreground truncate\">{member.name}</p>\n                              <p className=\"text-xs text-muted-foreground truncate\">{member.title || 'No title'}</p>\n                            </div>\n                            <span className={`inline-flex items-center rounded-full border px-2 py-0.5 text-[10px] font-medium shrink-0 ${getStageBadgeClass(member.status)}`}>\n                              {member.status}\n                            </span>\n                          </Link>\n                        ))}\n                      </div>\n                    ) : (\n                      <p className=\"text-sm text-muted-foreground\">No other contacts from {lead.companyName} yet.</p>\n                    )}\n                  </div>\n                );\n              })()}\n\n              <div className=\"grid md:grid-cols-2 gap-6\">\n                {/* Lead Classification & Qualification */}\n                <div className=\"rounded-xl border border-border bg-card shadow-card p-6 space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-foreground\">Classification & Qualification</h3>\n\n                  {/* Priority */}\n                  <div>\n                    <p className=\"text-xs text-muted-foreground mb-1.5\">Priority</p>\n                    <div className=\"flex gap-1.5\">\n                      {PRIORITIES.map(p => (\n                        <button\n                          key={p.key}\n                          onClick={() => handleFieldUpdate({ priority: p.key })}\n                          className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold transition-all ${lead.priority === p.key ? p.badgeClass + ' ring-2 ring-offset-1 ring-current' : 'bg-muted/50 text-muted-foreground border-border hover:bg-muted'\n                            }`}\n                        >\n                          {p.label}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Segment */}\n                  <div>\n                    <p className=\"text-xs text-muted-foreground mb-1.5\">Segment</p>\n                    <select\n                      value={lead.segment || ''}\n                      onChange={e => handleFieldUpdate({ segment: e.target.value })}\n                      className=\"w-full h-8 rounded-lg border border-input bg-background px-2 text-sm text-foreground\"\n                    >\n                      <option value=\"\">— Select —</option>\n                      {SEGMENTS.map(s => <option key={s} value={s}>{s}</option>)}\n                    </select>\n                  </div>\n\n                  {/* Source Channel */}\n                  <div>\n                    <p className=\"text-xs text-muted-foreground mb-1.5\">Source Channel</p>\n                    <select\n                      value={lead.sourceChannel || ''}\n                      onChange={e => handleFieldUpdate({ sourceChannel: e.target.value })}\n                      className=\"w-full h-8 rounded-lg border border-input bg-background px-2 text-sm text-foreground\"\n                    >\n                      <option value=\"\">— Select —</option>\n                      {SOURCE_CHANNELS.map(s => <option key={s} value={s}>{s}</option>)}\n                    </select>\n                  </div>\n\n                  {/* Quality Gate */}\n                  <div className=\"pt-3 border-t border-border\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      {qualityGate.pass ? (\n                        <ShieldCheck className=\"h-4 w-4 text-emerald-500\" />\n                      ) : (\n                        <AlertTriangle className=\"h-4 w-4 text-amber-500\" />\n                      )}\n                      <p className=\"text-xs font-semibold text-muted-foreground uppercase tracking-wide\">\n                        Quality Gate {qualityGate.pass ? '✓ Passed' : `— ${qualityGate.missing.length} missing`}\n                      </p>\n                    </div>\n                    {!qualityGate.pass && (\n                      <ul className=\"text-xs text-amber-600 dark:text-amber-400 space-y-0.5 ml-6 list-disc\">\n                        {qualityGate.missing.map(m => <li key={m}>{m}</li>)}\n                      </ul>\n                    )}\n                  </div>\n\n                  {/* Qualification — 3 Yes Rule */}\n                  <div className=\"pt-3 border-t border-border\">\n                    <p className=\"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-2\">3 Yes Rule</p>\n                    {[\n                      { key: 'rightPerson' as const, label: 'Right Person — Decision maker?' },\n                      { key: 'realNeed' as const, label: 'Real Need — Admin/quoting/COIs pain?' },\n                      { key: 'timing' as const, label: 'Timing — Open to change 30-90 days?' },\n                    ].map(q => (\n                      <label key={q.key} className=\"flex items-center gap-2.5 py-1.5 cursor-pointer group\">\n                        <input\n                          type=\"checkbox\"\n                          checked={lead.qualification?.[q.key] || false}\n                          onChange={() => handleQualificationToggle(q.key)}\n                          className=\"h-4 w-4 rounded border-border text-primary focus:ring-primary\"\n                        />\n                        <span className=\"text-sm text-foreground group-hover:text-primary transition-colors\">{q.label}</span>\n                      </label>\n                    ))}\n                    {lead.qualification?.qualifiedAt && (\n                      <p className=\"text-xs text-emerald-600 dark:text-emerald-400 mt-1\">\n                        ✓ Qualified on {new Date(lead.qualification.qualifiedAt).toLocaleDateString()} by {lead.qualification.qualifiedBy}\n                      </p>\n                    )}\n                  </div>\n                </div>\n\n                {/* Phone Numbers */}\n                {phones.length > 0 && (\n                  <div className=\"rounded-xl border border-border bg-card shadow-card p-6 space-y-3\">\n                    <h3 className=\"text-lg font-semibold text-foreground\">Phone Numbers</h3>\n                    {phones.map(p => (\n                      <div key={p.label} className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-secondary\">\n                            <Phone className=\"h-4 w-4 text-muted-foreground\" />\n                          </div>\n                          <div>\n                            <p className=\"text-xs text-muted-foreground\">{p.label}</p>\n                            <a href={toTelUri(p.value)} className=\"text-sm font-medium text-primary hover:underline\">{p.value}</a>\n                          </div>\n                        </div>\n                        <a href={toTelUri(p.value)} title=\"Call this number\">\n                          <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-primary\">\n                            <PhoneCall className=\"h-3.5 w-3.5\" />\n                          </Button>\n                        </a>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          ) : (\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              <div className=\"space-y-6\">\n                {/* Notes Entry */}\n                <div className=\"rounded-xl border border-border bg-card shadow-card p-6 space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-foreground\">Add Note</h3>\n                  <div className=\"space-y-2\">\n                    <textarea\n                      value={notes}\n                      onChange={(e) => setNotes(e.target.value)}\n                      placeholder=\"Type a note (visible across all panels)...\"\n                      className=\"w-full h-24 rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground resize-none focus:outline-none focus:ring-2 focus:ring-primary\"\n                    />\n                    <div className=\"flex justify-end\">\n                      <Button size=\"sm\" onClick={handleSaveNotes} disabled={!notes.trim()}>\n                        Post Note\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Global Notes History */}\n                <div className=\"rounded-xl border border-border bg-card shadow-card p-6 space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-foreground\">Global Notes History</h3>\n                  <div className=\"space-y-4\">\n                    {noteActivities.map((note: any) => (\n                      <div key={note.id || note.timestamp} className=\"p-4 bg-secondary/30 rounded-lg border border-border/50\">\n                        <p className=\"text-sm text-foreground whitespace-pre-wrap\">{note.description}</p>\n                        <p className=\"text-xs text-muted-foreground mt-2 font-medium flex items-center gap-1.5\">\n                          <span className=\"flex h-4 w-4 items-center justify-center rounded-full bg-primary/20 text-[8px] text-primary\">{note.agent?.[0] || '?'}</span>\n                          {note.agent} · {new Date(note.timestamp).toLocaleString()}\n                        </p>\n                      </div>\n                    ))}\n                    {noteActivities.length === 0 && (\n                      <p className=\"text-sm text-muted-foreground\">No notes recorded yet.</p>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"space-y-6\">\n                {/* Activity Timeline */}\n                <div className=\"rounded-xl border border-border bg-card shadow-card p-6\">\n                  <h3 className=\"text-lg font-semibold text-foreground mb-4\">Activity History</h3>\n                  <div className=\"space-y-4 max-h-[400px] overflow-y-auto pr-2\">\n                    {nonNoteActivities.map((activity: any) => {\n                      const Icon = activityIcons[activity.type] || FileText;\n                      return (\n                        <div key={activity.id || activity.timestamp} className=\"flex items-start gap-3\">\n                          <div className={`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg ${activityColors[activity.type] || 'bg-muted text-muted-foreground'}`}>\n                            <Icon className=\"h-4 w-4\" />\n                          </div>\n                          <div className=\"flex-1\">\n                            <p className=\"text-sm text-foreground\">{activity.description}</p>\n                            <p className=\"text-xs text-muted-foreground mt-0.5\">\n                              {activity.agent} · {new Date(activity.timestamp).toLocaleString()}\n                            </p>\n                          </div>\n                        </div>\n                      );\n                    })}\n                    {nonNoteActivities.length === 0 && (\n                      <p className=\"text-sm text-muted-foreground\">No activities recorded yet.</p>\n                    )}\n                  </div>\n                </div>\n\n                {/* Call History */}\n                <div className=\"rounded-xl border border-border bg-card shadow-card p-6\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"text-lg font-semibold text-foreground\">Call Logs</h3>\n                    <span className=\"text-sm text-muted-foreground\">{leadCalls.length} calls</span>\n                  </div>\n                  {leadCalls.length > 0 ? (\n                    <div className=\"space-y-3 max-h-[300px] overflow-y-auto pr-2\">\n                      {leadCalls.map((call: any) => (\n                        <Link key={call.id} href={`${basePath}/calls/${call.id}`} className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-secondary/50 transition-colors\">\n                          <div className={`flex h-8 w-8 items-center justify-center rounded-lg ${call.status === 'Completed' ? 'bg-success/10 text-success' : call.status === 'Missed' ? 'bg-destructive/10 text-destructive' : 'bg-warning/10 text-warning'}`}>\n                            <Phone className=\"h-4 w-4\" />\n                          </div>\n                          <div className=\"flex-1\">\n                            <p className=\"text-sm font-medium text-foreground\">{call.date} at {call.time} — {call.duration}</p>\n                            <p className=\"text-xs text-muted-foreground\">{call.notes}</p>\n                          </div>\n                          <span className={`inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium ${call.status === 'Completed' ? 'bg-success/10 text-success border-success/20' : call.status === 'Missed' ? 'bg-destructive/10 text-destructive border-destructive/20' : 'bg-warning/10 text-warning border-warning/20'}`}>\n                            {call.status}\n                          </span>\n                        </Link>\n                      ))}\n                    </div>\n                  ) : (\n                    <p className=\"text-sm text-muted-foreground\">No calls recorded yet.</p>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div >\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ShieldCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+CiAgPHBhdGggZD0ibTkgMTIgMiAyIDQtNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/shield-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ShieldCheck = createLucideIcon('ShieldCheck', [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n]);\n\nexport default ShieldCheck;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Globe\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMmExNC41IDE0LjUgMCAwIDAgMCAyMCAxNC41IDE0LjUgMCAwIDAgMC0yMCIgLz4KICA8cGF0aCBkPSJNMiAxMmgyMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/globe\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Globe = createLucideIcon('Globe', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20', key: '13o1zl' }],\n  ['path', { d: 'M2 12h20', key: '9i4pu4' }],\n]);\n\nexport default Globe;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA0Ljk5My01LjUzOSAxMC4xOTMtNy4zOTkgMTEuNzk5YTEgMSAwIDAgMS0xLjIwMiAwQzkuNTM5IDIwLjE5MyA0IDE0Ljk5MyA0IDEwYTggOCAwIDAgMSAxNiAwIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('MapPin', [\n  [\n    'path',\n    {\n      d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0',\n      key: '1r0f0z',\n    },\n  ],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n]);\n\nexport default MapPin;\n"],"names":[],"mappings":"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","ignoreList":[1,2,3]}