module.exports=[12646,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(66718),e=a.i(86304),f=a.i(14574);a.i(84225);var g=a.i(38163),h=a.i(30535),i=a.i(87532),j=a.i(60246),k=a.i(17371),l=a.i(63519),m=a.i(67453),n=a.i(96221),o=a.i(72162),p=a.i(33508),q=a.i(99570),r=a.i(97532),s=a.i(86570);function t(){let[a,t]=(0,c.useState)(""),[v,w]=(0,c.useState)("all"),[x,y]=(0,c.useState)("all"),[z,A]=(0,c.useState)(null),{data:B=[]}=(0,h.useAgents)(),[C,D]=(0,c.useState)("all"),[E,F]=(0,c.useState)(!1),G=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=a=>{G.current&&!G.current.contains(a.target)&&F(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let{data:H=[],isLoading:I}=(0,g.useHRLeads)({status:v,search:a||void 0,agent:"all"===x?void 0:x}),J=(0,c.useMemo)(()=>"all"===C?H:H.filter(a=>a.priority===C),[H,C]),K=+("all"!==v)+ +("all"!==C)+ +("all"!==x);if(I)return(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)(n.Loader2,{className:"h-8 w-8 animate-spin text-primary"})});let L=J.filter(a=>"Closed Won"===a.status).length,M=J.filter(a=>!s.TERMINAL_STAGES.includes(a.status)).length;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"animate-slide-up",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground shimmer-text",children:"Lead Tracker"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"See who added each lead, who called them, and who closed them"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)("div",{className:"animate-slide-up stagger-1",children:(0,b.jsx)(r.default,{title:"Total Leads",value:J.length,icon:j.Users})}),(0,b.jsx)("div",{className:"animate-slide-up stagger-2",children:(0,b.jsx)(r.default,{title:"Active",value:M,icon:k.UserPlus})}),(0,b.jsx)("div",{className:"animate-slide-up stagger-3",children:(0,b.jsx)(r.default,{title:"Closed",value:L,icon:m.CheckCircle2,variant:"success"})}),(0,b.jsx)("div",{className:"animate-slide-up stagger-4",children:(0,b.jsx)(r.default,{title:"Total Calls",value:J.reduce((a,b)=>a+(b.callCount||0),0),icon:l.Phone})})]}),(0,b.jsxs)("div",{className:"flex gap-3 items-center animate-slide-up stagger-5",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(d.Input,{placeholder:"Search leads, agents...",value:a,onChange:a=>t(a.target.value),className:"pl-9"})]}),(0,b.jsxs)("div",{className:"relative",ref:G,children:[(0,b.jsxs)(q.Button,{variant:"outline",className:"h-10 gap-2 px-4",onClick:()=>F(!E),children:[(0,b.jsx)(o.SlidersHorizontal,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Filters"}),K>0&&(0,b.jsx)("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-primary text-primary-foreground text-xs font-bold",children:K})]}),E&&(0,b.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl border border-border bg-card shadow-elevated z-50 overflow-hidden animate-slide-up",children:[(0,b.jsx)("div",{className:"px-4 py-3 border-b border-border bg-secondary/30",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground",children:"Filters"}),K>0&&(0,b.jsx)("button",{onClick:()=>{w("all"),D("all"),y("all")},className:"text-xs text-primary hover:underline font-medium",children:"Clear all"})]})}),(0,b.jsxs)("div",{className:"p-4 space-y-4 text-left",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-2",children:"Team Member"}),(0,b.jsxs)("select",{value:x,onChange:a=>y(a.target.value),className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm text-foreground",children:[(0,b.jsx)("option",{value:"all",children:"All Users"}),B.map(a=>(0,b.jsx)("option",{value:a.name,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-2",children:"Status"}),(0,b.jsxs)("select",{value:v,onChange:a=>w(a.target.value),className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm text-foreground",children:[(0,b.jsx)("option",{value:"all",children:"All Statuses"}),s.PIPELINE_STAGES.map(a=>(0,b.jsx)("option",{value:a.key,children:a.label},a.key))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-2",children:"Priority"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>D("all"),className:`flex-1 h-9 rounded-lg border text-sm font-medium transition-colors ${"all"===C?"bg-primary text-primary-foreground border-primary":"border-input bg-background text-foreground hover:bg-secondary"}`,children:"All"}),s.PRIORITY_KEYS.map(a=>(0,b.jsx)("button",{onClick:()=>D(a),className:`flex-1 h-9 rounded-lg border text-sm font-medium transition-colors ${C===a?"bg-primary text-primary-foreground border-primary":"border-input bg-background text-foreground hover:bg-secondary"}`,children:a},a))]})]})]})]})]})]}),K>0&&(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:["all"!==v&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 rounded-full border border-primary/20 bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:["Status: ",v,(0,b.jsx)("button",{onClick:()=>w("all"),className:"hover:text-primary/70 transition-colors",children:(0,b.jsx)(p.X,{className:"h-3 w-3"})})]}),"all"!==C&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 rounded-full border border-primary/20 bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:["Priority: ",C,(0,b.jsx)("button",{onClick:()=>D("all"),className:"hover:text-primary/70 transition-colors",children:(0,b.jsx)(p.X,{className:"h-3 w-3"})})]}),"all"!==x&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 rounded-full border border-primary/20 bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:["User: ",x,(0,b.jsx)("button",{onClick:()=>y("all"),className:"hover:text-primary/70 transition-colors",children:(0,b.jsx)(p.X,{className:"h-3 w-3"})})]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-card shadow-card p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(j.Users,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("h2",{className:"text-lg font-semibold text-foreground",children:["All Leads (",J.length,")"]})]}),0===J.length?(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center py-12",children:"No leads found"}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b text-left",children:[(0,b.jsx)("th",{className:"pb-3 font-semibold text-muted-foreground",children:"Lead Name"}),(0,b.jsx)("th",{className:"pb-3 font-semibold text-muted-foreground",children:"Company"}),(0,b.jsx)("th",{className:"pb-3 font-semibold text-muted-foreground",children:"Status"}),(0,b.jsx)("th",{className:"pb-3 font-semibold text-muted-foreground",children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(k.UserPlus,{className:"h-3.5 w-3.5"}),"Added By"]})}),(0,b.jsx)("th",{className:"pb-3 font-semibold text-muted-foreground",children:"Assigned To"}),(0,b.jsx)("th",{className:"pb-3 font-semibold text-muted-foreground",children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(l.Phone,{className:"h-3.5 w-3.5"}),"Called By"]})}),(0,b.jsx)("th",{className:"pb-3 font-semibold text-muted-foreground",children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(m.CheckCircle2,{className:"h-3.5 w-3.5"}),"Closed By"]})}),(0,b.jsx)("th",{className:"pb-3 font-semibold text-muted-foreground text-center",children:"Calls"})]})}),(0,b.jsx)("tbody",{children:J.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b last:border-0 hover:bg-muted/50 transition-colors animate-slide-up cursor-pointer",style:{animationDelay:`${40*c}ms`},onClick:()=>A(a),children:[(0,b.jsx)("td",{className:"py-3",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.email})]})}),(0,b.jsx)("td",{className:"py-3 text-muted-foreground",children:a.companyName||"—"}),(0,b.jsx)("td",{className:"py-3",children:(0,b.jsx)(e.Badge,{variant:"secondary",className:(0,s.getStageBadgeClass)(a.status),children:a.status})}),(0,b.jsx)("td",{className:"py-3",children:a.addedBy?(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-700",children:[(0,b.jsx)(k.UserPlus,{className:"h-3 w-3"}),a.addedBy]}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"—"})}),(0,b.jsx)("td",{className:"py-3",children:(0,b.jsx)("span",{className:"text-xs font-medium",children:a.assignedAgent||"—"})}),(0,b.jsx)("td",{className:"py-3",children:a.callAgents&&a.callAgents.length>0?(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.callAgents.map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-violet-100 px-2.5 py-0.5 text-xs font-medium text-violet-700",children:[(0,b.jsx)(l.Phone,{className:"h-3 w-3"}),a]},a))}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"No calls"})}),(0,b.jsx)("td",{className:"py-3",children:a.closedBy?(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-100 px-2.5 py-0.5 text-xs font-medium text-emerald-700",children:[(0,b.jsx)(m.CheckCircle2,{className:"h-3 w-3"}),a.closedBy]}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"—"})}),(0,b.jsx)("td",{className:"py-3 text-center font-medium",children:a.callCount||0})]},a.id))})]})})]}),(0,b.jsx)(f.Dialog,{open:!!z,onOpenChange:a=>!a&&A(null),children:(0,b.jsxs)(f.DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,b.jsx)(f.DialogHeader,{children:(0,b.jsxs)(f.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Users,{className:"h-5 w-5 text-primary"}),z?.name," — Lead Details"]})}),z&&(0,b.jsx)(u,{lead:z})]})})]})}function u({lead:a}){return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"rounded-xl border border-border bg-card p-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsx)(v,{label:"Name",value:a.name}),(0,b.jsx)(v,{label:"Email",value:a.email}),(0,b.jsx)(v,{label:"Company",value:a.companyName}),(0,b.jsx)(v,{label:"Phone",value:a.phone}),(0,b.jsx)(v,{label:"City",value:a.city}),(0,b.jsx)(v,{label:"State",value:a.state}),(0,b.jsx)(v,{label:"Source",value:a.source}),(0,b.jsx)(v,{label:"Status",value:a.status}),(0,b.jsx)(v,{label:"Assigned To",value:a.assignedAgent}),a.closedAt&&(0,b.jsx)(v,{label:"Closed Date",value:a.closedAt})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold mb-3 text-foreground",children:"Attribution"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-blue-50/50 p-3 text-center",children:[(0,b.jsx)(k.UserPlus,{className:"h-4 w-4 text-blue-600 mx-auto mb-1"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Added By"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:a.addedBy||"—"})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-violet-50/50 p-3 text-center",children:[(0,b.jsx)(l.Phone,{className:"h-4 w-4 text-violet-600 mx-auto mb-1"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Called By"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:a.callAgents?.join(", ")||"—"})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-emerald-50/50 p-3 text-center",children:[(0,b.jsx)(m.CheckCircle2,{className:"h-4 w-4 text-emerald-600 mx-auto mb-1"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Closed By"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:a.closedBy||"—"})]})]})]}),a.callHistory?.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold mb-3 text-foreground",children:["Call History (",a.callHistory.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:a.callHistory.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-xl border border-border p-3 text-sm hover:bg-muted/30 transition-colors",children:[(0,b.jsx)(l.Phone,{className:"h-4 w-4 text-muted-foreground shrink-0"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:a.agentName}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.date," · ",a.duration]})]}),(0,b.jsx)(e.Badge,{variant:"secondary",className:"Completed"===a.status?"bg-emerald-100 text-emerald-700":"Missed"===a.status?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700",children:a.status})]},c))})]}),a.activities?.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold mb-3 text-foreground",children:"Activity Log"}),(0,b.jsx)("div",{className:"space-y-2",children:a.activities.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-3 rounded-xl border border-border p-3 text-sm hover:bg-muted/30 transition-colors",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary mt-1.5 shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:a.description}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-0.5",children:[a.agent," · ",a.timestamp]})]})]},c))})]}),a.notes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold mb-2 text-foreground",children:"Notes"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground bg-muted/50 rounded-xl p-3",children:a.notes})]})]})}function v({label:a,value:c}){return(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a}),(0,b.jsx)("p",{className:"font-medium",children:c||"—"})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=src_features_hr_pages_HRLeadTracker_tsx_880b8c0b._.js.map