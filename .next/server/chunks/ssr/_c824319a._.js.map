{"version":3,"sources":["../../../../src/components/ui/button.tsx","../../../../node_modules/lucide-react/src/icons/circle-check-big.ts","../../../../src/features/follow-ups/pages/FollowUpsPage.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CircleCheckBig\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuODAxIDEwQTEwIDEwIDAgMSAxIDE3IDMuMzM1IiAvPgogIDxwYXRoIGQ9Im05IDExIDMgM0wyMiA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check-big\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheckBig = createLucideIcon('CircleCheckBig', [\n  ['path', { d: 'M21.801 10A10 10 0 1 1 17 3.335', key: 'yps3ct' }],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n]);\n\nexport default CircleCheckBig;\n","'use client';\nimport { useState } from 'react';\nimport { AlertTriangle, CheckCircle, Clock, Filter, Loader2 } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { useLeads, useCompleteFollowUp } from '@/hooks/useApi';\nimport { toast } from 'sonner';\n\nexport default function FollowUpsPage() {\n  const { data: leads = [], isLoading } = useLeads();\n  const today = new Date().toISOString().split('T')[0];\n  const [filter, setFilter] = useState<'all' | 'overdue' | 'today' | 'upcoming'>('all');\n  const completeFollowUp = useCompleteFollowUp();\n\n  const followUpLeads = leads\n    .filter((l: any) => l.nextFollowUp && l.status !== 'Closed Won' && l.status !== 'Closed Lost')\n    .sort((a: any, b: any) => (a.nextFollowUp! > b.nextFollowUp! ? 1 : -1));\n\n  const filtered = followUpLeads.filter(l => {\n    if (filter === 'overdue') return l.nextFollowUp! < today;\n    if (filter === 'today') return l.nextFollowUp === today;\n    if (filter === 'upcoming') return l.nextFollowUp! > today;\n    return true;\n  });\n\n  const overdueCount = followUpLeads.filter(l => l.nextFollowUp! < today).length;\n\n  const handleComplete = async (leadId: string, leadName: string) => {\n    try {\n      await completeFollowUp.mutateAsync(leadId);\n      toast.success(`Follow-up with ${leadName} completed`);\n    } catch {\n      toast.error('Failed to complete follow-up');\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-20\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-foreground\">Follow-up Pending</h1>\n        <p className=\"text-sm text-muted-foreground mt-1\">{followUpLeads.length} follow-ups • {overdueCount} overdue</p>\n      </div>\n\n      {/* Filter tabs */}\n      <div className=\"flex gap-2 flex-wrap\">\n        {(['all', 'overdue', 'today', 'upcoming'] as const).map(f => (\n          <Button key={f} variant={filter === f ? 'default' : 'outline'} size=\"sm\" onClick={() => setFilter(f)}\n            className={filter === f && f === 'overdue' ? 'bg-destructive text-destructive-foreground hover:bg-destructive/90' : ''}>\n            {f === 'overdue' && <AlertTriangle className=\"h-3.5 w-3.5 mr-1\" />}\n            {f.charAt(0).toUpperCase() + f.slice(1)}\n            {f === 'overdue' && overdueCount > 0 && <Badge variant=\"secondary\" className=\"ml-1.5 text-xs h-5 px-1.5\">{overdueCount}</Badge>}\n          </Button>\n        ))}\n      </div>\n\n      {/* Follow-up cards */}\n      <div className=\"space-y-3\">\n        {filtered.map(lead => {\n          const isOverdue = lead.nextFollowUp! < today;\n          const isToday = lead.nextFollowUp === today;\n          return (\n            <div key={lead.id} className={`rounded-xl border bg-card p-4 shadow-card flex items-center justify-between gap-4 ${isOverdue ? 'border-destructive/30 bg-destructive/5' : 'border-border'}`}>\n              <div className=\"flex items-center gap-4 min-w-0\">\n                <div className={`flex h-10 w-10 shrink-0 items-center justify-center rounded-full text-sm font-medium ${isOverdue ? 'bg-destructive/10 text-destructive' : 'bg-accent text-accent-foreground'}`}>\n                  {isOverdue ? <AlertTriangle className=\"h-4 w-4\" /> : <Clock className=\"h-4 w-4\" />}\n                </div>\n                <div className=\"min-w-0\">\n                  <p className=\"font-medium text-foreground\">{lead.name}</p>\n                  <p className=\"text-xs text-muted-foreground\">{lead.assignedAgent} • {lead.phone}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-3 shrink-0\">\n                <div className=\"text-right hidden sm:block\">\n                  <p className={`text-sm font-medium ${isOverdue ? 'text-destructive' : isToday ? 'text-primary' : 'text-foreground'}`}>\n                    {isOverdue ? 'OVERDUE' : isToday ? 'TODAY' : lead.nextFollowUp}\n                  </p>\n                  <p className=\"text-xs text-muted-foreground\">{lead.nextFollowUp}</p>\n                </div>\n                <Button size=\"sm\" variant={isOverdue ? 'destructive' : 'default'}\n                  onClick={() => handleComplete(lead.id, lead.name)}\n                  disabled={completeFollowUp.isPending}>\n                  <CheckCircle className=\"h-3.5 w-3.5 mr-1\" />\n                  {completeFollowUp.isPending ? 'Completing...' : 'Complete'}\n                </Button>\n              </div>\n            </div>\n          );\n        })}\n        {filtered.length === 0 && (\n          <div className=\"text-center py-12 text-muted-foreground\">\n            <Clock className=\"h-10 w-10 mx-auto mb-3 opacity-30\" />\n            <p>No follow-ups in this category</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[1]}