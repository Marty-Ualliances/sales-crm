module.exports=[99570,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11011),e=a.i(187),f=a.i(68114);let g=(0,e.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=c.forwardRef(({className:a,variant:c,size:e,asChild:h=!1,...i},j)=>{let k=h?d.Slot:"button";return(0,b.jsx)(k,{className:(0,f.cn)(g({variant:c,size:e,className:a})),ref:j,...i})});h.displayName="Button",a.s(["Button",()=>h])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},10448,a=>{"use strict";let b=(0,a.i(70106).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],10448)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},5784,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},7827,86228,33441,a=>{"use strict";var b=a.i(72131);a.i(87924);var c=b.createContext(void 0);function d(a){let d=b.useContext(c);return a||d||"ltr"}a.s(["useDirection",()=>d],7827);var e=0;function f(){b.useEffect(()=>{let a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",a[0]??g()),document.body.insertAdjacentElement("beforeend",a[1]??g()),e++,()=>{1===e&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),e--}},[])}function g(){let a=document.createElement("span");return a.setAttribute("data-radix-focus-guard",""),a.tabIndex=0,a.style.outline="none",a.style.opacity="0",a.style.position="fixed",a.style.pointerEvents="none",a}a.s(["useFocusGuards",()=>f],86228);let h=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>h],33441)},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(187),g=a.i(68114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],70430)},67552,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>b],67552)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},78158,a=>{"use strict";var b=a.i(87924);a.i(84225);var c=a.i(80873),d=a.i(89822),e=a.i(63519);let f=(0,a.i(70106).default)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);var g=a.i(87532),h=a.i(96221),i=a.i(10448),j=a.i(86304),k=a.i(99570),l=a.i(14574),m=a.i(66718),n=a.i(70430),o=a.i(29246),p=a.i(80701),q=a.i(38246),r=a.i(72131),s=a.i(23292);function t(){let{user:a}=(0,d.useAuth)(),{data:t=[],isLoading:u}=(0,c.useCalls)(),v=t.filter(b=>b.agentName===a?.name),[w,x]=(0,r.useState)(""),[y,z]=(0,r.useState)("all"),[A,B]=(0,r.useState)(!1),[C,D]=(0,r.useState)(null),[E,F]=(0,r.useState)({status:"",notes:"",duration:""}),G=v.filter(a=>{let b=!w||a.leadName?.toLowerCase().includes(w.toLowerCase())||a.notes?.toLowerCase().includes(w.toLowerCase()),c="all"===y||a.status===y;return b&&c}),H=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-indigo-500"];return u?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"My Calls"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[v.length," calls total"]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)("input",{type:"text",placeholder:"Search calls...",value:w,onChange:a=>x(a.target.value),className:"w-full h-9 rounded-lg border border-input bg-background pl-9 pr-3 text-sm text-foreground placeholder:text-muted-foreground"})]}),(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:["all","Completed","Missed","Follow-up"].map(a=>(0,b.jsx)(k.Button,{variant:y===a?"default":"outline",size:"sm",onClick:()=>z(a),children:"all"===a?"All":a},a))})]}),(0,b.jsx)("div",{className:"rounded-xl border border-border bg-card shadow-card overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-border bg-secondary/30",children:[(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground",children:"Lead"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground",children:"Date"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground",children:"Time"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground hidden sm:table-cell",children:"Duration"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground",children:"Status"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground hidden lg:table-cell",children:"Notes"}),(0,b.jsx)("th",{className:"text-right px-4 py-3 font-medium text-muted-foreground",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:0===G.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:7,className:"text-center py-12 text-muted-foreground",children:[(0,b.jsx)(e.Phone,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),(0,b.jsx)("p",{children:"No calls found"})]})}):G.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-border hover:bg-secondary/20 transition-all duration-200",style:{animationDelay:`${40*c}ms`},children:[(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-full text-white text-xs font-bold shadow ring-2 ring-white/80 transition-transform hover:scale-110 ${H[(a.leadName||"").charCodeAt(0)%H.length]}`,children:(a.leadName||"??").split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)}),(0,b.jsxs)("div",{children:[a.leadId?(0,b.jsx)(q.default,{href:`/sdr/leads/${a.leadId}`,className:"font-medium text-foreground hover:text-primary transition-colors underline-offset-2 hover:underline",children:a.leadName}):(0,b.jsx)("span",{className:"font-medium text-foreground",children:a.leadName}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.agentName})]})]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-muted-foreground",children:a.date}),(0,b.jsx)("td",{className:"px-4 py-3 text-muted-foreground",children:a.time}),(0,b.jsx)("td",{className:"px-4 py-3 text-muted-foreground hidden sm:table-cell",children:a.duration}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)(j.Badge,{variant:"outline",className:`text-xs ${(a=>{switch(a){case"Completed":return"bg-success/10 text-success border-success/20";case"Missed":return"bg-destructive/10 text-destructive border-destructive/20";case"Follow-up":return"bg-warning/10 text-warning border-warning/20";default:return"bg-secondary text-foreground"}})(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"px-4 py-3 text-muted-foreground hidden lg:table-cell max-w-[200px] truncate",children:a.notes}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[a.hasRecording&&(0,b.jsx)(k.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary hover:bg-primary/10",children:(0,b.jsx)(f,{className:"h-4 w-4"})}),(0,b.jsx)(k.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:bg-secondary hover:text-foreground",onClick:b=>{b.stopPropagation(),D(a),F({status:a.status,notes:a.notes||"",duration:a.duration||""}),B(!0)},title:"Edit call",children:(0,b.jsx)(i.Edit2,{className:"h-3.5 w-3.5"})})]})})]},a.id))})]})})}),(0,b.jsx)(l.Dialog,{open:A,onOpenChange:B,children:(0,b.jsxs)(l.DialogContent,{className:"sm:max-w-[425px]",children:[(0,b.jsxs)(l.DialogHeader,{children:[(0,b.jsx)(l.DialogTitle,{children:"Edit Call"}),(0,b.jsxs)(l.DialogDescription,{children:["Update call details for ",(0,b.jsx)("strong",{children:C?.leadName})]})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{children:"Status"}),(0,b.jsxs)(p.Select,{value:E.status,onValueChange:a=>F({...E,status:a}),children:[(0,b.jsx)(p.SelectTrigger,{children:(0,b.jsx)(p.SelectValue,{})}),(0,b.jsxs)(p.SelectContent,{children:[(0,b.jsx)(p.SelectItem,{value:"Completed",children:"Completed"}),(0,b.jsx)(p.SelectItem,{value:"Missed",children:"Missed"}),(0,b.jsx)(p.SelectItem,{value:"Follow-up",children:"Follow-up"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{children:"Duration"}),(0,b.jsx)(m.Input,{placeholder:"e.g. 5:30",value:E.duration,onChange:a=>F({...E,duration:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{children:"Notes"}),(0,b.jsx)(o.Textarea,{placeholder:"Add call notes...",value:E.notes,onChange:a=>F({...E,notes:a.target.value}),rows:4})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(k.Button,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),(0,b.jsx)(k.Button,{onClick:()=>{s.toast.success("Call updated successfully"),B(!1),D(null)},className:"gradient-primary border-0",children:"Save Changes"})]})]})})]})}a.s(["default",()=>t],78158)}];

//# sourceMappingURL=_d6d0453b._.js.map