{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBAAO,8OAAC;QAAK,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAC/F;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/leads/constants/pipeline.ts"],"sourcesContent":["/**\r\n * Pipeline stage definitions — single source of truth.\r\n * Import from here instead of hardcoding status strings.\r\n */\r\n\r\nexport const PIPELINE_STAGES = [\r\n    { key: 'New Lead', label: 'New Lead', color: 'bg-slate-400', textColor: 'text-slate-700', badgeClass: 'bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-900 dark:text-slate-300' },\r\n    { key: 'Working', label: 'Working', color: 'bg-blue-400', textColor: 'text-blue-700', badgeClass: 'bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900 dark:text-blue-300' },\r\n    { key: 'Connected', label: 'Connected', color: 'bg-cyan-400', textColor: 'text-cyan-700', badgeClass: 'bg-cyan-100 text-cyan-700 border-cyan-200 dark:bg-cyan-900 dark:text-cyan-300' },\r\n    { key: 'Qualified', label: 'Qualified', color: 'bg-violet-400', textColor: 'text-violet-700', badgeClass: 'bg-violet-100 text-violet-700 border-violet-200 dark:bg-violet-900 dark:text-violet-300' },\r\n    { key: 'Meeting Booked', label: 'Meeting Booked', color: 'bg-amber-400', textColor: 'text-amber-700', badgeClass: 'bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900 dark:text-amber-300' },\r\n    { key: 'Meeting Completed', label: 'Meeting Completed', color: 'bg-indigo-400', textColor: 'text-indigo-700', badgeClass: 'bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900 dark:text-indigo-300' },\r\n    { key: 'Proposal Sent', label: 'Proposal Sent', color: 'bg-orange-400', textColor: 'text-orange-700', badgeClass: 'bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900 dark:text-orange-300' },\r\n    { key: 'Negotiation', label: 'Negotiation', color: 'bg-pink-400', textColor: 'text-pink-700', badgeClass: 'bg-pink-100 text-pink-700 border-pink-200 dark:bg-pink-900 dark:text-pink-300' },\r\n    { key: 'Closed Won', label: 'Closed Won', color: 'bg-emerald-500', textColor: 'text-emerald-700', badgeClass: 'bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900 dark:text-emerald-300' },\r\n    { key: 'Closed Lost', label: 'Closed Lost', color: 'bg-red-400', textColor: 'text-red-700', badgeClass: 'bg-red-100 text-red-700 border-red-200 dark:bg-red-900 dark:text-red-300' },\r\n    { key: 'Nurture', label: 'Nurture', color: 'bg-teal-400', textColor: 'text-teal-700', badgeClass: 'bg-teal-100 text-teal-700 border-teal-200 dark:bg-teal-900 dark:text-teal-300' },\r\n] as const;\r\n\r\n/** All valid pipeline stage keys */\r\nexport type PipelineStageKey = typeof PIPELINE_STAGES[number]['key'];\r\n\r\n/** All stage keys as a plain array (useful for enums / dropdowns) */\r\nexport const STAGE_KEYS = PIPELINE_STAGES.map(s => s.key);\r\n\r\n/** Lookup helpers */\r\nexport const getStage = (key: string) => PIPELINE_STAGES.find(s => s.key === key);\r\nexport const getStageBadgeClass = (key: string) => getStage(key)?.badgeClass ?? 'bg-muted text-muted-foreground border-border';\r\nexport const getStageColor = (key: string) => getStage(key)?.color ?? 'bg-gray-400';\r\n\r\n/** Terminal stages (no further action expected) */\r\nexport const TERMINAL_STAGES: PipelineStageKey[] = ['Closed Won', 'Closed Lost', 'Nurture'];\r\n\r\n/** Stages where meetings are relevant */\r\nexport const MEETING_STAGES: PipelineStageKey[] = ['Meeting Booked', 'Meeting Completed'];\r\n\r\n/** Stages that trigger auto-recording flag on calls */\r\nexport const RECORDING_FLAG_STAGES: PipelineStageKey[] = ['Meeting Completed', 'Negotiation', 'Closed Won'];\r\n\r\n/* ── Lead Priorities (§6) ── */\r\nexport const PRIORITIES = [\r\n    { key: 'A', label: 'A – High', color: 'bg-red-500', badgeClass: 'bg-red-100 text-red-700 border-red-200 dark:bg-red-900 dark:text-red-300' },\r\n    { key: 'B', label: 'B – Medium', color: 'bg-amber-500', badgeClass: 'bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900 dark:text-amber-300' },\r\n    { key: 'C', label: 'C – Low', color: 'bg-slate-400', badgeClass: 'bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-800 dark:text-slate-300' },\r\n] as const;\r\nexport type LeadPriority = typeof PRIORITIES[number]['key'];\r\nexport const PRIORITY_KEYS: LeadPriority[] = ['A', 'B', 'C'];\r\nexport const getPriorityBadgeClass = (key: string) => PRIORITIES.find(p => p.key === key)?.badgeClass ?? 'bg-muted text-muted-foreground border-border';\r\n\r\n/* ── Segments ── */\r\nexport const SEGMENTS = ['Insurance', 'Accounting', 'Finance', 'Healthcare', 'Legal', 'Other'] as const;\r\nexport type LeadSegment = typeof SEGMENTS[number];\r\n\r\n/* ── Source Channels (§4) ── */\r\nexport const SOURCE_CHANNELS = [\r\n    'Cold – High Fit',\r\n    'Warm – Engaged',\r\n    'Cold – Quick Sourced',\r\n    'Cold – Bulk Data',\r\n    'CSV Import',\r\n    'Manual',\r\n    'LinkedIn',\r\n    'Referral',\r\n    'Other',\r\n] as const;\r\nexport type SourceChannel = typeof SOURCE_CHANNELS[number];\r\n\r\n/* ── Quality Gate (§5) — required fields before SDR assignment ── */\r\nexport const QUALITY_GATE_FIELDS = [\r\n    { field: 'companyName', label: 'Company Name' },\r\n    { field: 'websiteOrLinkedin', label: 'Website or LinkedIn URL', check: (l: any) => !!(l.website || l.companyLinkedinUrl || l.personLinkedinUrl) },\r\n    { field: 'state', label: 'Location (State)' },\r\n    { field: 'segment', label: 'Segment' },\r\n    { field: 'nameOrTitle', label: 'Decision-maker Name or Title', check: (l: any) => !!(l.name && (l.title || l.name)) },\r\n    { field: 'emailOrPhone', label: 'Valid Email or Phone', check: (l: any) => !!(l.email || l.workDirectPhone || l.mobilePhone || l.homePhone) },\r\n    { field: 'sourceChannel', label: 'Source Channel' },\r\n] as const;\r\n\r\nexport function checkQualityGate(lead: any): { pass: boolean; missing: string[] } {\r\n    const missing: string[] = [];\r\n    for (const rule of QUALITY_GATE_FIELDS) {\r\n        if ('check' in rule && rule.check) {\r\n            if (!rule.check(lead)) missing.push(rule.label);\r\n        } else {\r\n            if (!lead[rule.field]) missing.push(rule.label);\r\n        }\r\n    }\r\n    return { pass: missing.length === 0, missing };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/leads/constants/cadences.ts"],"sourcesContent":["/**\r\n * Cadence System — Touch Templates (§7-8)\r\n *\r\n * Cold 14-day cadence:  structured 7-touch over 14 days\r\n * Warm fast cadence:    accelerated 5-touch over 3 days\r\n */\r\n\r\nexport interface CadenceTouch {\r\n    day: number;\r\n    type: 'call' | 'email' | 'linkedin';\r\n    label: string;\r\n}\r\n\r\nexport interface CadenceTemplate {\r\n    key: string;\r\n    label: string;\r\n    description: string;\r\n    touches: CadenceTouch[];\r\n}\r\n\r\nexport const COLD_14DAY: CadenceTemplate = {\r\n    key: 'cold-14day',\r\n    label: 'Cold 14-Day',\r\n    description: 'Standard cold outreach — 7 touches over 14 days',\r\n    touches: [\r\n        { day: 1, type: 'call', label: 'Initial Call' },\r\n        { day: 1, type: 'email', label: 'Intro Email' },\r\n        { day: 2, type: 'call', label: 'Follow-up Call' },\r\n        { day: 2, type: 'linkedin', label: 'LinkedIn Connect' },\r\n        { day: 4, type: 'call', label: 'Check-in Call' },\r\n        { day: 4, type: 'email', label: 'Value Prop Email' },\r\n        { day: 6, type: 'call', label: 'Persistence Call' },\r\n        { day: 8, type: 'email', label: 'Value CTA Email' },\r\n        { day: 10, type: 'call', label: 'Re-engage Call' },\r\n        { day: 14, type: 'email', label: 'Breakup Email' },\r\n    ],\r\n};\r\n\r\nexport const WARM_FAST: CadenceTemplate = {\r\n    key: 'warm-fast',\r\n    label: 'Warm Fast',\r\n    description: 'Accelerated outreach for warm/engaged leads — 5 touches in 3 days',\r\n    touches: [\r\n        { day: 0, type: 'call', label: 'Immediate Call' },\r\n        { day: 0, type: 'email', label: 'Quick Follow-up Email' },\r\n        { day: 1, type: 'call', label: 'Next Morning Call' },\r\n        { day: 1, type: 'linkedin', label: 'LinkedIn Message' },\r\n        { day: 2, type: 'call', label: 'Close Call' },\r\n        { day: 3, type: 'email', label: 'Last Touch Email' },\r\n    ],\r\n};\r\n\r\nexport const CADENCE_TEMPLATES: CadenceTemplate[] = [COLD_14DAY, WARM_FAST];\r\n\r\nexport const TOUCH_TYPE_CONFIG = {\r\n    call: { icon: 'Phone', color: 'text-emerald-500', bg: 'bg-emerald-100 dark:bg-emerald-900/40' },\r\n    email: { icon: 'Send', color: 'text-blue-500', bg: 'bg-blue-100 dark:bg-blue-900/40' },\r\n    linkedin: { icon: 'Linkedin', color: 'text-sky-500', bg: 'bg-sky-100 dark:bg-sky-900/40' },\r\n} as const;\r\n\r\n/** Calculate which touches are due today or overdue given the cadence start date */\r\nexport function getCadenceTasks(\r\n    cadence: { type: string; startedAt: string; touches: { day: number; type: string; completed: boolean; completedAt?: string }[] } | undefined\r\n) {\r\n    if (!cadence?.startedAt || !cadence.touches) return { due: [], overdue: [], upcoming: [], progress: 0 };\r\n\r\n    const start = new Date(cadence.startedAt);\r\n    const now = new Date();\r\n    const elapsedDays = Math.floor((now.getTime() - start.getTime()) / 86400000);\r\n\r\n    const template = CADENCE_TEMPLATES.find(t => t.key === cadence.type);\r\n    const due: typeof cadence.touches = [];\r\n    const overdue: typeof cadence.touches = [];\r\n    const upcoming: typeof cadence.touches = [];\r\n\r\n    cadence.touches.forEach((touch, idx) => {\r\n        if (touch.completed) return;\r\n        const touchMeta = template?.touches[idx];\r\n        const touchDay = touchMeta?.day ?? touch.day;\r\n        if (touchDay < elapsedDays) overdue.push(touch);\r\n        else if (touchDay === elapsedDays) due.push(touch);\r\n        else upcoming.push(touch);\r\n    });\r\n\r\n    const completedCount = cadence.touches.filter(t => t.completed).length;\r\n    const progress = cadence.touches.length > 0 ? Math.round((completedCount / cadence.touches.length) * 100) : 0;\r\n\r\n    return { due, overdue, upcoming, progress };\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;;;AAeM,MAAM,aAA8B;IACvC,KAAK;IACL,OAAO;IACP,aAAa;IACb,SAAS;QACL;YAAE,KAAK;YAAG,MAAM;YAAQ,OAAO;QAAe;QAC9C;YAAE,KAAK;YAAG,MAAM;YAAS,OAAO;QAAc;QAC9C;YAAE,KAAK;YAAG,MAAM;YAAQ,OAAO;QAAiB;QAChD;YAAE,KAAK;YAAG,MAAM;YAAY,OAAO;QAAmB;QACtD;YAAE,KAAK;YAAG,MAAM;YAAQ,OAAO;QAAgB;QAC/C;YAAE,KAAK;YAAG,MAAM;YAAS,OAAO;QAAmB;QACnD;YAAE,KAAK;YAAG,MAAM;YAAQ,OAAO;QAAmB;QAClD;YAAE,KAAK;YAAG,MAAM;YAAS,OAAO;QAAkB;QAClD;YAAE,KAAK;YAAI,MAAM;YAAQ,OAAO;QAAiB;QACjD;YAAE,KAAK;YAAI,MAAM;YAAS,OAAO;QAAgB;KACpD;AACL;AAEO,MAAM,YAA6B;IACtC,KAAK;IACL,OAAO;IACP,aAAa;IACb,SAAS;QACL;YAAE,KAAK;YAAG,MAAM;YAAQ,OAAO;QAAiB;QAChD;YAAE,KAAK;YAAG,MAAM;YAAS,OAAO;QAAwB;QACxD;YAAE,KAAK;YAAG,MAAM;YAAQ,OAAO;QAAoB;QACnD;YAAE,KAAK;YAAG,MAAM;YAAY,OAAO;QAAmB;QACtD;YAAE,KAAK;YAAG,MAAM;YAAQ,OAAO;QAAa;QAC5C;YAAE,KAAK;YAAG,MAAM;YAAS,OAAO;QAAmB;KACtD;AACL;AAEO,MAAM,oBAAuC;IAAC;IAAY;CAAU;AAEpE,MAAM,oBAAoB;IAC7B,MAAM;QAAE,MAAM;QAAS,OAAO;QAAoB,IAAI;IAAwC;IAC9F,OAAO;QAAE,MAAM;QAAQ,OAAO;QAAiB,IAAI;IAAkC;IACrF,UAAU;QAAE,MAAM;QAAY,OAAO;QAAgB,IAAI;IAAgC;AAC7F;AAGO,SAAS,gBACZ,OAA4I;IAE5I,IAAI,CAAC,SAAS,aAAa,CAAC,QAAQ,OAAO,EAAE,OAAO;QAAE,KAAK,EAAE;QAAE,SAAS,EAAE;QAAE,UAAU,EAAE;QAAE,UAAU;IAAE;IAEtG,MAAM,QAAQ,IAAI,KAAK,QAAQ,SAAS;IACxC,MAAM,MAAM,IAAI;IAChB,MAAM,cAAc,KAAK,KAAK,CAAC,CAAC,IAAI,OAAO,KAAK,MAAM,OAAO,EAAE,IAAI;IAEnE,MAAM,WAAW,kBAAkB,IAAI,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK,QAAQ,IAAI;IACnE,MAAM,MAA8B,EAAE;IACtC,MAAM,UAAkC,EAAE;IAC1C,MAAM,WAAmC,EAAE;IAE3C,QAAQ,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO;QAC5B,IAAI,MAAM,SAAS,EAAE;QACrB,MAAM,YAAY,UAAU,OAAO,CAAC,IAAI;QACxC,MAAM,WAAW,WAAW,OAAO,MAAM,GAAG;QAC5C,IAAI,WAAW,aAAa,QAAQ,IAAI,CAAC;aACpC,IAAI,aAAa,aAAa,IAAI,IAAI,CAAC;aACvC,SAAS,IAAI,CAAC;IACvB;IAEA,MAAM,iBAAiB,QAAQ,OAAO,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,EAAE,MAAM;IACtE,MAAM,WAAW,QAAQ,OAAO,CAAC,MAAM,GAAG,IAAI,KAAK,KAAK,CAAC,AAAC,iBAAiB,QAAQ,OAAO,CAAC,MAAM,GAAI,OAAO;IAE5G,OAAO;QAAE;QAAK;QAAS;QAAU;IAAS;AAC9C"}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/leads/pages/LeadDetailPage.tsx"],"sourcesContent":["'use client';\nimport { usePathname, useParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { ArrowLeft, Phone, Mail, User, Calendar, FileText, RefreshCw, Loader2, Building2, MapPin, Globe, Linkedin, Users, CheckCircle, PhoneCall, Send, ShieldCheck, AlertTriangle, Tag } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { useLead, useCalls, useCompleteFollowUp, useUpdateLead, useLeads, useCreateCall } from '@/hooks/useApi';\nimport { useAuth } from '@/features/auth/context/AuthContext';\nimport { LeadStatus } from '@/features/leads/types/leads';\nimport { getStageBadgeClass, PIPELINE_STAGES, PRIORITIES, getPriorityBadgeClass, SEGMENTS, SOURCE_CHANNELS, checkQualityGate } from '@/features/leads/constants/pipeline';\nimport { CADENCE_TEMPLATES, TOUCH_TYPE_CONFIG, getCadenceTasks } from '@/features/leads/constants/cadences';\nimport { toast } from 'sonner';\nimport { useState } from 'react';\n\n/** Strips non-digit chars (keeps leading +) for tel: URI */\nfunction toTelUri(phone: string): string {\n  return `tel:${phone.replace(/[^+\\d]/g, '')}`;\n}\n\nconst activityIcons: Record<string, any> = {\n  'call': Phone,\n  'follow-up': Calendar,\n  'note': FileText,\n  'status-change': RefreshCw,\n  'email': Send,\n  'linkedin': Linkedin,\n  'cadence-touch': CheckCircle,\n};\n\nconst activityColors: Record<string, string> = {\n  'call': 'bg-success/10 text-success',\n  'follow-up': 'bg-warning/10 text-warning',\n  'note': 'bg-muted text-muted-foreground',\n  'status-change': 'bg-primary/10 text-primary',\n  'email': 'bg-blue-100/50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400',\n  'linkedin': 'bg-sky-100/50 text-sky-600 dark:bg-sky-900/30 dark:text-sky-400',\n  'cadence-touch': 'bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400',\n};\n\nexport default function LeadDetailPage() {\n  const params = useParams();\n  const leadId = params?.leadId as string | undefined;\n  const { data: lead, isLoading } = useLead(leadId ?? '');\n  const { data: allCalls = [] } = useCalls();\n  const completeFollowUp = useCompleteFollowUp();\n  const updateLead = useUpdateLead();\n  const createCall = useCreateCall();\n  const { user } = useAuth();\n  const { data: allLeads = [] } = useLeads();\n  const [editingNotes, setEditingNotes] = useState(false);\n  const [notes, setNotes] = useState('');\n  const [nextStepPrompt, setNextStepPrompt] = useState<{ status: LeadStatus } | null>(null);\n  const [nextStepDate, setNextStepDate] = useState('');\n  const [nextStepNote, setNextStepNote] = useState('');\n  const [activeTab, setActiveTab] = useState<'team' | 'activity'>('team');\n\n  const pathname = usePathname() ?? '';\n  const basePath = pathname.startsWith('/sdr') ? '/sdr' :\n    pathname.startsWith('/hr') ? '/hr' :\n      pathname.startsWith('/leadgen') ? '/leadgen' : '/admin';\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-20\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  if (!lead) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-20\">\n        <h2 className=\"text-xl font-bold text-foreground mb-2\">Lead not found</h2>\n        <Link href={`${basePath}/leads`}><Button variant=\"outline\">Back to Leads</Button></Link>\n      </div>\n    );\n  }\n\n  const leadCalls = allCalls.filter((c: any) => c.leadId === lead.id || c.leadId === lead._id);\n\n  const handleCall = async (phoneToCall?: string) => {\n    const phoneNumber = phoneToCall || lead.phone || lead.companyPhone;\n    if (!phoneNumber) {\n      toast.error('No phone number available');\n      return;\n    }\n\n    try {\n      await createCall.mutateAsync({\n        leadId: lead.id || lead._id,\n        leadName: lead.name,\n        agentName: user?.name || 'Unknown',\n        date: new Date(),\n        time: new Date().toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n        duration: '0 min',\n        status: 'Completed',\n        notes: 'Call initiated from Lead Details',\n        hasRecording: false,\n      });\n    } catch (error) {\n      console.error('Failed to log call:', error);\n    }\n\n    // Open the system dialer\n    window.location.href = toTelUri(phoneNumber);\n    toast.success('Call logged and opening dialer...');\n  };\n\n  const handleCompleteFollowUp = async () => {\n    try {\n      await completeFollowUp.mutateAsync(lead.id);\n      toast.success('Follow-up completed');\n    } catch {\n      toast.error('Failed to complete follow-up');\n    }\n  };\n\n  const NEXT_STEP_STAGES: LeadStatus[] = ['Qualified', 'Meeting Booked', 'Meeting Completed', 'Proposal Sent', 'Negotiation'];\n\n  const handleStatusChange = async (status: LeadStatus) => {\n    if (NEXT_STEP_STAGES.includes(status)) {\n      setNextStepDate('');\n      setNextStepNote('');\n      setNextStepPrompt({ status });\n      return;\n    }\n    try {\n      await updateLead.mutateAsync({ id: lead.id, data: { status } });\n      toast.success(`Status changed to ${status}`);\n    } catch {\n      toast.error('Failed to update status');\n    }\n  };\n\n  const confirmStatusWithNextStep = async () => {\n    if (!nextStepPrompt) return;\n    try {\n      const updateData: any = { status: nextStepPrompt.status };\n      if (nextStepDate) updateData.nextFollowUp = nextStepDate;\n      if (nextStepNote) {\n        updateData.activities = [...(lead.activities || []), {\n          type: 'note',\n          description: `Next step: ${nextStepNote}`,\n          timestamp: new Date().toISOString(),\n          agent: lead.assignedAgent || 'User',\n        }];\n      }\n      await updateLead.mutateAsync({ id: lead.id, data: updateData });\n      toast.success(`Status changed to ${nextStepPrompt.status}`);\n    } catch {\n      toast.error('Failed to update status');\n    } finally {\n      setNextStepPrompt(null);\n    }\n  };\n\n  const handleSaveNotes = async () => {\n    try {\n      let currentUserName = 'Current User';\n      try {\n        const storedUser = localStorage.getItem('insurelead_user');\n        if (storedUser) {\n          const parsed = JSON.parse(storedUser);\n          currentUserName = parsed.name || 'Current User';\n        }\n      } catch (e) { }\n\n      const newActivity = {\n        type: 'note',\n        description: notes,\n        timestamp: new Date().toISOString(),\n        agent: currentUserName,\n      };\n      await updateLead.mutateAsync({\n        id: lead.id,\n        data: {\n          activities: [newActivity, ...(lead.activities || [])]\n        }\n      });\n      setEditingNotes(false);\n      setNotes('');\n      toast.success('Notes saved');\n    } catch {\n      toast.error('Failed to save notes');\n    }\n  };\n\n  const handleFieldUpdate = async (data: any) => {\n    try {\n      await updateLead.mutateAsync({ id: lead.id, data });\n      toast.success('Updated');\n    } catch {\n      toast.error('Failed to update');\n    }\n  };\n\n  const handleQualificationToggle = async (field: 'rightPerson' | 'realNeed' | 'timing') => {\n    const current = lead.qualification || { rightPerson: false, realNeed: false, timing: false, qualifiedAt: null, qualifiedBy: '' };\n    const updated = { ...current, [field]: !current[field] };\n    // If all 3 are now true and weren't before, mark qualifiedAt\n    if (updated.rightPerson && updated.realNeed && updated.timing && !current.qualifiedAt) {\n      updated.qualifiedAt = new Date().toISOString() as any;\n      updated.qualifiedBy = lead.assignedAgent;\n    }\n    await handleFieldUpdate({ qualification: updated });\n  };\n\n  const checkCadenceTouch = async (touchIdx: number) => {\n    if (!lead.cadence) return;\n    const updatedTouches = [...lead.cadence.touches];\n    updatedTouches[touchIdx] = { ...updatedTouches[touchIdx], completed: true, completedAt: new Date().toISOString() };\n\n    // Create activity\n    const touch = updatedTouches[touchIdx];\n    const activityDesc = `Cadence touch completed: ${touch.type} (Day ${touch.day})`;\n\n    // Optimistic update\n    try {\n      await updateLead.mutateAsync({\n        id: lead.id,\n        data: {\n          cadence: { ...lead.cadence, touches: updatedTouches },\n          activities: [...(lead.activities || []), {\n            type: 'cadence-touch',\n            description: activityDesc,\n            timestamp: new Date().toISOString(),\n            agent: lead.assignedAgent || 'System',\n          }]\n        }\n      });\n      toast.success('Touch completed');\n    } catch {\n      toast.error('Failed to update cadence');\n    }\n  };\n\n  const qualityGate = checkQualityGate(lead);\n  const cadenceTasks = getCadenceTasks(lead.cadence);\n  const cadenceTemplate = lead.cadence ? CADENCE_TEMPLATES.find(t => t.key === lead.cadence!.type) : null;\n\n  // All phone numbers for display\n  const phones = [\n    { label: 'Work Direct', value: lead.workDirectPhone },\n    { label: 'Mobile', value: lead.mobilePhone },\n    { label: 'Home', value: lead.homePhone },\n    { label: 'Corporate', value: lead.corporatePhone },\n    { label: 'Company', value: lead.companyPhone },\n    { label: 'Other', value: lead.otherPhone },\n  ].filter(p => p.value);\n\n  // Warning: Meeting Completed with no next step\n  const showNoNextStepWarning =\n    (lead.status === 'Meeting Completed' || lead.status === 'Negotiation') &&\n    !lead.nextFollowUp;\n\n  // Normalize activities and stageHistory into a single timeline\n  const combinedHistory = [\n    ...(lead.activities || []),\n    ...(lead.stageHistory || []).map((sh: any, idx: number) => ({\n      id: `sh-${idx}-${sh.enteredAt}`,\n      type: 'status-change',\n      description: `Status changed to ${sh.stage}`,\n      timestamp: sh.enteredAt,\n      agent: sh.agent || 'System',\n    }))\n  ].sort((a: any, b: any) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n\n  const noteActivities = combinedHistory.filter((a: any) => a.type === 'note');\n  const nonNoteActivities = combinedHistory.filter((a: any) => a.type !== 'note');\n\n  return (\n    <div className=\"space-y-6\">\n      {/* No next-step warning */}\n      {showNoNextStepWarning && (\n        <div className=\"flex items-center gap-3 rounded-xl border border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-900/40 px-4 py-3\">\n          <AlertTriangle className=\"h-4 w-4 text-amber-600 shrink-0\" />\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm font-semibold text-amber-800 dark:text-amber-300\">No next step set</p>\n            <p className=\"text-xs text-amber-700 dark:text-amber-400\">This lead is in <strong>{lead.status}</strong> but has no follow-up date. Set one below to keep the deal moving.</p>\n          </div>\n        </div>\n      )}\n\n      {/* Next-step modal */}\n      {nextStepPrompt && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-foreground/40 backdrop-blur-sm p-4\">\n          <div className=\"w-full max-w-md rounded-2xl border border-border bg-card p-6 shadow-xl space-y-4\">\n            <h2 className=\"text-lg font-bold text-foreground\">Set Next Step</h2>\n            <p className=\"text-sm text-muted-foreground\">\n              Moving to <span className=\"font-semibold text-foreground\">{nextStepPrompt.status}</span> — define what happens next to keep momentum.\n            </p>\n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"block text-xs font-medium text-muted-foreground mb-1\">Follow-up Date</label>\n                <input\n                  type=\"date\"\n                  value={nextStepDate}\n                  onChange={e => setNextStepDate(e.target.value)}\n                  className=\"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm text-foreground\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-xs font-medium text-muted-foreground mb-1\">Next Step Note</label>\n                <input\n                  value={nextStepNote}\n                  onChange={e => setNextStepNote(e.target.value)}\n                  placeholder=\"e.g. Send proposal, Book demo, Follow up on budget...\"\n                  className=\"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm text-foreground placeholder:text-muted-foreground\"\n                />\n              </div>\n            </div>\n            <div className=\"flex gap-2 justify-end pt-2\">\n              <Button variant=\"outline\" onClick={() => setNextStepPrompt(null)}>Skip</Button>\n              <Button onClick={confirmStatusWithNextStep} disabled={updateLead.isPending}>\n                {updateLead.isPending ? 'Saving...' : 'Confirm & Save'}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3\">\n        <div className=\"flex items-center gap-3\">\n          <Link href={`${basePath}/leads`}>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-9 w-9\"><ArrowLeft className=\"h-4 w-4\" /></Button>\n          </Link>\n          <div>\n            <h1 className=\"text-xl sm:text-2xl font-bold text-foreground\">{lead.name}</h1>\n            <p className=\"text-sm text-muted-foreground\">\n              {lead.title && `${lead.title} · `}{lead.companyName || 'Lead Details'}\n            </p>\n          </div>\n        </div>\n        <div className=\"flex gap-2 ml-12 sm:ml-0\">\n          {lead.phone && (\n            <Button size=\"sm\" onClick={() => handleCall(lead.phone)}>\n              <PhoneCall className=\"h-4 w-4 mr-1\" />\n              Call Now\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* ── Company Card — Full Width ── */}\n      <div className=\"rounded-xl border border-border bg-card shadow-card p-4 sm:p-8\">\n        <div className=\"flex items-start gap-4 mb-5\">\n          <div className=\"flex h-14 w-14 items-center justify-center rounded-2xl bg-primary/10 shrink-0\">\n            <Building2 className=\"h-7 w-7 text-primary\" />\n          </div>\n          <div className=\"min-w-0 flex-1\">\n            <h3 className=\"text-xl font-bold text-foreground truncate\">{lead.companyName || 'Unknown Company'}</h3>\n          </div>\n          <select\n            value={lead.status}\n            onChange={(e) => handleStatusChange(e.target.value as LeadStatus)}\n            className={`cursor-pointer appearance-none outline-none inline-flex items-center rounded-full border px-3 py-1.5 text-xs font-semibold shrink-0 ${getStageBadgeClass(lead.status)}`}\n            style={{ paddingRight: '1rem' }}\n          >\n            {PIPELINE_STAGES.map(s => (\n              <option key={s.key} value={s.key} className=\"bg-background text-foreground\">{s.label}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4 pt-5 border-t border-border\">\n          {lead.employees && (\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                <Users className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n              <div>\n                <p className=\"text-xs text-muted-foreground\">Employees</p>\n                <p className=\"text-sm font-semibold text-foreground\">{lead.employees}</p>\n              </div>\n            </div>\n          )}\n          {lead.website && (\n            <div className=\"flex items-center gap-3 min-w-0\">\n              <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                <Globe className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n              <div className=\"min-w-0\">\n                <p className=\"text-xs text-muted-foreground\">Website</p>\n                <a href={lead.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sm font-semibold text-primary hover:underline truncate block\">{lead.website.replace(/^https?:\\/\\//, '')}</a>\n              </div>\n            </div>\n          )}\n          {lead.companyLinkedinUrl && (\n            <div className=\"flex items-center gap-3 min-w-0\">\n              <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                <Linkedin className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n              <div className=\"min-w-0\">\n                <p className=\"text-xs text-muted-foreground\">LinkedIn</p>\n                <a href={lead.companyLinkedinUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sm font-semibold text-primary hover:underline truncate block\">Company Page</a>\n              </div>\n            </div>\n          )}\n          {lead.companyPhone && (\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                <Phone className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n              <div>\n                <p className=\"text-xs text-muted-foreground\">Company Phone</p>\n                <button onClick={() => handleCall(lead.companyPhone)} className=\"text-sm font-semibold text-primary hover:underline\">{lead.companyPhone}</button>\n              </div>\n            </div>\n          )}\n          {((lead as any).address || lead.city || lead.state) && (\n            <div className=\"flex items-center gap-3 col-span-2 sm:col-span-4\">\n              <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                <MapPin className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n              <div className=\"min-w-0 flex-1\">\n                <p className=\"text-xs text-muted-foreground\">Address</p>\n                <p className=\"text-sm font-semibold text-foreground truncate\">\n                  {[(lead as any).address, lead.city, lead.state].filter(Boolean).join(', ')}\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"mt-8\">\n        <div className=\"border-b border-border\">\n          <div className=\"flex space-x-8 px-2\">\n            <button\n              onClick={() => setActiveTab('team')}\n              className={`pb-4 text-sm font-medium transition-colors relative ${activeTab === 'team' ? 'text-primary' : 'text-muted-foreground hover:text-foreground'}`}\n            >\n              Team & Qualifications\n              {activeTab === 'team' && (\n                <span className=\"absolute bottom-0 left-0 w-full h-0.5 bg-primary rounded-t-full\" />\n              )}\n            </button>\n            <button\n              onClick={() => setActiveTab('activity')}\n              className={`pb-4 text-sm font-medium transition-colors relative ${activeTab === 'activity' ? 'text-primary' : 'text-muted-foreground hover:text-foreground'}`}\n            >\n              Activity & Notes\n              {activeTab === 'activity' && (\n                <span className=\"absolute bottom-0 left-0 w-full h-0.5 bg-primary rounded-t-full\" />\n              )}\n            </button>\n          </div>\n        </div>\n\n        <div className=\"pt-6\">\n          {activeTab === 'team' ? (\n            <div className=\"space-y-6\">\n              {/* ── Person Profile Card ── */}\n              <div className=\"rounded-xl border border-border bg-card shadow-card p-4 sm:p-8 space-y-5\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"flex h-14 w-14 items-center justify-center rounded-full bg-primary text-primary-foreground text-lg font-bold shrink-0\">\n                    {lead.name?.split(' ').map((n: string) => n[0]).join('').slice(0, 2) || 'LD'}\n                  </div>\n                  <div className=\"min-w-0 flex-1\">\n                    <h3 className=\"text-xl font-bold text-foreground\">{lead.name}</h3>\n                    {lead.title && <p className=\"text-sm text-muted-foreground mt-0.5\">{lead.title}</p>}\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-5 border-t border-border\">\n                  {lead.email && (\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                        <Mail className=\"h-4 w-4 text-muted-foreground\" />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <p className=\"text-xs text-muted-foreground\">Email</p>\n                        <p className=\"text-sm font-medium text-foreground truncate\">{lead.email}</p>\n                      </div>\n                    </div>\n                  )}\n                  {lead.assignedAgent && (\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                        <User className=\"h-4 w-4 text-muted-foreground\" />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <p className=\"text-xs text-muted-foreground\">Assigned Agent</p>\n                        <p className=\"text-sm font-medium text-foreground truncate\">{lead.assignedAgent}</p>\n                      </div>\n                    </div>\n                  )}\n                  {lead.date && (\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                        <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <p className=\"text-xs text-muted-foreground\">Date Added</p>\n                        <p className=\"text-sm font-medium text-foreground\">{lead.date}</p>\n                      </div>\n                    </div>\n                  )}\n                  {lead.source && (\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-secondary shrink-0\">\n                        <RefreshCw className=\"h-4 w-4 text-muted-foreground\" />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <p className=\"text-xs text-muted-foreground\">Source</p>\n                        <p className=\"text-sm font-medium text-foreground\">{lead.source}</p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Company Team - Full Width */}\n              {lead.companyName && (() => {\n                const teamMembers = allLeads.filter((l: any) =>\n                  l.companyName === lead.companyName && (l.id || l._id) !== (lead.id || lead._id)\n                );\n                return (\n                  <div className=\"rounded-xl border border-border bg-card shadow-card p-6 space-y-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <h3 className=\"text-lg font-semibold text-foreground\">Company Team</h3>\n                      <span className=\"text-xs text-muted-foreground\">{teamMembers.length} contact{teamMembers.length !== 1 ? 's' : ''}</span>\n                    </div>\n                    {teamMembers.length > 0 ? (\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n                        {teamMembers.map((member: any) => (\n                          <Link\n                            key={member.id || member._id}\n                            href={`${basePath}/leads/${member.id || member._id}`}\n                            className=\"flex items-center gap-3 p-3 rounded-lg border border-border hover:bg-secondary/50 transition-colors\"\n                          >\n                            <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-secondary text-foreground text-sm font-medium shrink-0\">\n                              {member.name?.split(' ').map((n: string) => n[0]).join('').slice(0, 2) || '??'}\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <p className=\"text-sm font-semibold text-foreground truncate\">{member.name}</p>\n                              <p className=\"text-xs text-muted-foreground truncate\">{member.title || 'No title'}</p>\n                            </div>\n                            <span className={`inline-flex items-center rounded-full border px-2 py-0.5 text-[10px] font-medium shrink-0 ${getStageBadgeClass(member.status)}`}>\n                              {member.status}\n                            </span>\n                          </Link>\n                        ))}\n                      </div>\n                    ) : (\n                      <p className=\"text-sm text-muted-foreground\">No other contacts from {lead.companyName} yet.</p>\n                    )}\n                  </div>\n                );\n              })()}\n\n              <div className=\"grid md:grid-cols-2 gap-6\">\n                {/* Lead Classification & Qualification */}\n                <div className=\"rounded-xl border border-border bg-card shadow-card p-6 space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-foreground\">Classification & Qualification</h3>\n\n                  {/* Priority */}\n                  <div>\n                    <p className=\"text-xs text-muted-foreground mb-1.5\">Priority</p>\n                    <div className=\"flex gap-1.5\">\n                      {PRIORITIES.map(p => (\n                        <button\n                          key={p.key}\n                          onClick={() => handleFieldUpdate({ priority: p.key })}\n                          className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold transition-all ${lead.priority === p.key ? p.badgeClass + ' ring-2 ring-offset-1 ring-current' : 'bg-muted/50 text-muted-foreground border-border hover:bg-muted'\n                            }`}\n                        >\n                          {p.label}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Segment */}\n                  <div>\n                    <p className=\"text-xs text-muted-foreground mb-1.5\">Segment</p>\n                    <select\n                      value={lead.segment || ''}\n                      onChange={e => handleFieldUpdate({ segment: e.target.value })}\n                      className=\"w-full h-8 rounded-lg border border-input bg-background px-2 text-sm text-foreground\"\n                    >\n                      <option value=\"\">— Select —</option>\n                      {SEGMENTS.map(s => <option key={s} value={s}>{s}</option>)}\n                    </select>\n                  </div>\n\n                  {/* Source Channel */}\n                  <div>\n                    <p className=\"text-xs text-muted-foreground mb-1.5\">Source Channel</p>\n                    <select\n                      value={lead.sourceChannel || ''}\n                      onChange={e => handleFieldUpdate({ sourceChannel: e.target.value })}\n                      className=\"w-full h-8 rounded-lg border border-input bg-background px-2 text-sm text-foreground\"\n                    >\n                      <option value=\"\">— Select —</option>\n                      {SOURCE_CHANNELS.map(s => <option key={s} value={s}>{s}</option>)}\n                    </select>\n                  </div>\n\n                  {/* Quality Gate */}\n                  <div className=\"pt-3 border-t border-border\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      {qualityGate.pass ? (\n                        <ShieldCheck className=\"h-4 w-4 text-emerald-500\" />\n                      ) : (\n                        <AlertTriangle className=\"h-4 w-4 text-amber-500\" />\n                      )}\n                      <p className=\"text-xs font-semibold text-muted-foreground uppercase tracking-wide\">\n                        Quality Gate {qualityGate.pass ? '✓ Passed' : `— ${qualityGate.missing.length} missing`}\n                      </p>\n                    </div>\n                    {!qualityGate.pass && (\n                      <ul className=\"text-xs text-amber-600 dark:text-amber-400 space-y-0.5 ml-6 list-disc\">\n                        {qualityGate.missing.map(m => <li key={m}>{m}</li>)}\n                      </ul>\n                    )}\n                  </div>\n\n                  {/* Qualification — 3 Yes Rule */}\n                  <div className=\"pt-3 border-t border-border\">\n                    <p className=\"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-2\">3 Yes Rule</p>\n                    {[\n                      { key: 'rightPerson' as const, label: 'Right Person — Decision maker?' },\n                      { key: 'realNeed' as const, label: 'Real Need — Admin/quoting/COIs pain?' },\n                      { key: 'timing' as const, label: 'Timing — Open to change 30-90 days?' },\n                    ].map(q => (\n                      <label key={q.key} className=\"flex items-center gap-2.5 py-1.5 cursor-pointer group\">\n                        <input\n                          type=\"checkbox\"\n                          checked={lead.qualification?.[q.key] || false}\n                          onChange={() => handleQualificationToggle(q.key)}\n                          className=\"h-4 w-4 rounded border-border text-primary focus:ring-primary\"\n                        />\n                        <span className=\"text-sm text-foreground group-hover:text-primary transition-colors\">{q.label}</span>\n                      </label>\n                    ))}\n                    {lead.qualification?.qualifiedAt && (\n                      <p className=\"text-xs text-emerald-600 dark:text-emerald-400 mt-1\">\n                        ✓ Qualified on {new Date(lead.qualification.qualifiedAt).toLocaleDateString()} by {lead.qualification.qualifiedBy}\n                      </p>\n                    )}\n                  </div>\n                </div>\n\n                {/* Phone Numbers */}\n                {phones.length > 0 && (\n                  <div className=\"rounded-xl border border-border bg-card shadow-card p-6 space-y-3\">\n                    <h3 className=\"text-lg font-semibold text-foreground\">Phone Numbers</h3>\n                    {phones.map(p => (\n                      <div key={p.label} className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-secondary\">\n                            <Phone className=\"h-4 w-4 text-muted-foreground\" />\n                          </div>\n                          <div>\n                            <p className=\"text-xs text-muted-foreground\">{p.label}</p>\n                            <a href={toTelUri(p.value)} className=\"text-sm font-medium text-primary hover:underline\">{p.value}</a>\n                          </div>\n                        </div>\n                        <a href={toTelUri(p.value)} title=\"Call this number\">\n                          <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-primary\">\n                            <PhoneCall className=\"h-3.5 w-3.5\" />\n                          </Button>\n                        </a>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          ) : (\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              <div className=\"space-y-6\">\n                {/* Notes Entry */}\n                <div className=\"rounded-xl border border-border bg-card shadow-card p-6 space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-foreground\">Add Note</h3>\n                  <div className=\"space-y-2\">\n                    <textarea\n                      value={notes}\n                      onChange={(e) => setNotes(e.target.value)}\n                      placeholder=\"Type a note (visible across all panels)...\"\n                      className=\"w-full h-24 rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground resize-none focus:outline-none focus:ring-2 focus:ring-primary\"\n                    />\n                    <div className=\"flex justify-end\">\n                      <Button size=\"sm\" onClick={handleSaveNotes} disabled={!notes.trim()}>\n                        Post Note\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Global Notes History */}\n                <div className=\"rounded-xl border border-border bg-card shadow-card p-6 space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-foreground\">Global Notes History</h3>\n                  <div className=\"space-y-4\">\n                    {noteActivities.map((note: any) => (\n                      <div key={note.id || note.timestamp} className=\"p-4 bg-secondary/30 rounded-lg border border-border/50\">\n                        <p className=\"text-sm text-foreground whitespace-pre-wrap\">{note.description}</p>\n                        <p className=\"text-xs text-muted-foreground mt-2 font-medium flex items-center gap-1.5\">\n                          <span className=\"flex h-4 w-4 items-center justify-center rounded-full bg-primary/20 text-[8px] text-primary\">{note.agent?.[0] || '?'}</span>\n                          {note.agent} · {new Date(note.timestamp).toLocaleString()}\n                        </p>\n                      </div>\n                    ))}\n                    {noteActivities.length === 0 && (\n                      <p className=\"text-sm text-muted-foreground\">No notes recorded yet.</p>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"space-y-6\">\n                {/* Activity Timeline */}\n                <div className=\"rounded-xl border border-border bg-card shadow-card p-6\">\n                  <h3 className=\"text-lg font-semibold text-foreground mb-4\">Activity History</h3>\n                  <div className=\"space-y-4 max-h-[400px] overflow-y-auto pr-2\">\n                    {nonNoteActivities.map((activity: any) => {\n                      const Icon = activityIcons[activity.type] || FileText;\n                      return (\n                        <div key={activity.id || activity.timestamp} className=\"flex items-start gap-3\">\n                          <div className={`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg ${activityColors[activity.type] || 'bg-muted text-muted-foreground'}`}>\n                            <Icon className=\"h-4 w-4\" />\n                          </div>\n                          <div className=\"flex-1\">\n                            <p className=\"text-sm text-foreground\">{activity.description}</p>\n                            <p className=\"text-xs text-muted-foreground mt-0.5\">\n                              {activity.agent} · {new Date(activity.timestamp).toLocaleString()}\n                            </p>\n                          </div>\n                        </div>\n                      );\n                    })}\n                    {nonNoteActivities.length === 0 && (\n                      <p className=\"text-sm text-muted-foreground\">No activities recorded yet.</p>\n                    )}\n                  </div>\n                </div>\n\n                {/* Call History */}\n                <div className=\"rounded-xl border border-border bg-card shadow-card p-6\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"text-lg font-semibold text-foreground\">Call Logs</h3>\n                    <span className=\"text-sm text-muted-foreground\">{leadCalls.length} calls</span>\n                  </div>\n                  {leadCalls.length > 0 ? (\n                    <div className=\"space-y-3 max-h-[300px] overflow-y-auto pr-2\">\n                      {leadCalls.map((call: any) => (\n                        <Link key={call.id} href={`${basePath}/calls/${call.id}`} className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-secondary/50 transition-colors\">\n                          <div className={`flex h-8 w-8 items-center justify-center rounded-lg ${call.status === 'Completed' ? 'bg-success/10 text-success' : call.status === 'Missed' ? 'bg-destructive/10 text-destructive' : 'bg-warning/10 text-warning'}`}>\n                            <Phone className=\"h-4 w-4\" />\n                          </div>\n                          <div className=\"flex-1\">\n                            <p className=\"text-sm font-medium text-foreground\">{call.date} at {call.time} — {call.duration}</p>\n                            <p className=\"text-xs text-muted-foreground\">{call.notes}</p>\n                          </div>\n                          <span className={`inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium ${call.status === 'Completed' ? 'bg-success/10 text-success border-success/20' : call.status === 'Missed' ? 'bg-destructive/10 text-destructive border-destructive/20' : 'bg-warning/10 text-warning border-warning/20'}`}>\n                            {call.status}\n                          </span>\n                        </Link>\n                      ))}\n                    </div>\n                  ) : (\n                    <p className=\"text-sm text-muted-foreground\">No calls recorded yet.</p>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div >\n  );\n}\n"],"names":[],"mappings":"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"}}]
}