{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/leads/hooks/useLeads.ts"],"sourcesContent":["'use client';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { api } from '@/services/api';\r\n\r\nexport function useLeads(params?: { status?: string; search?: string; agent?: string }) {\r\n    return useQuery({\r\n        queryKey: ['leads', params],\r\n        queryFn: () => api.leads.list(params),\r\n        staleTime: 30_000,\r\n    });\r\n}\r\n\r\nexport function useLead(id: string) {\r\n    return useQuery({\r\n        queryKey: ['lead', id],\r\n        queryFn: () => api.leads.get(id),\r\n        enabled: !!id,\r\n    });\r\n}\r\n\r\nexport function useKPIs() {\r\n    return useQuery({\r\n        queryKey: ['kpis'],\r\n        queryFn: () => api.leads.kpis(),\r\n        staleTime: 30_000,\r\n    });\r\n}\r\n\r\nexport function useFunnel() {\r\n    return useQuery({\r\n        queryKey: ['funnel'],\r\n        queryFn: () => api.leads.funnel(),\r\n        staleTime: 60_000,\r\n    });\r\n}\r\n\r\n// ── Mutations ──\r\n\r\nexport function useCompleteFollowUp() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (leadId: string) => api.leads.completeFollowUp(leadId),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['leads'] });\r\n            qc.invalidateQueries({ queryKey: ['kpis'] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useScheduleFollowUp() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: ({ leadId, date }: { leadId: string; date: string }) =>\r\n            api.leads.scheduleFollowUp(leadId, date),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['leads'] });\r\n            qc.invalidateQueries({ queryKey: ['kpis'] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useUpdateLead() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: ({ id, data }: { id: string; data: any }) => api.leads.update(id, data),\r\n        onMutate: async ({ id, data }) => {\r\n            await qc.cancelQueries({ queryKey: ['leads'] });\r\n            await qc.cancelQueries({ queryKey: ['lead', id] });\r\n\r\n            const previousQueries = qc.getQueriesData({ queryKey: ['leads'] });\r\n            const previousLead = qc.getQueryData(['lead', id]);\r\n\r\n            if (data) {\r\n                qc.setQueryData(['lead', id], (old: any) => old ? { ...old, ...data } : old);\r\n                qc.setQueriesData({ queryKey: ['leads'] }, (old: any) => {\r\n                    if (!old) return old;\r\n                    if (Array.isArray(old)) {\r\n                        return old.map(lead => (lead._id === id || lead.id === id) ? { ...lead, ...data } : lead);\r\n                    }\r\n                    if (old.data && Array.isArray(old.data)) {\r\n                        return { ...old, data: old.data.map((lead: any) => (lead._id === id || lead.id === id) ? { ...lead, ...data } : lead) };\r\n                    }\r\n                    if (old.leads && Array.isArray(old.leads)) {\r\n                        return { ...old, leads: old.leads.map((lead: any) => (lead._id === id || lead.id === id) ? { ...lead, ...data } : lead) };\r\n                    }\r\n                    return old;\r\n                });\r\n            }\r\n\r\n            return { previousQueries, previousLead };\r\n        },\r\n        onError: (_err, { id }, context) => {\r\n            if (context?.previousLead) {\r\n                qc.setQueryData(['lead', id], context.previousLead);\r\n            }\r\n            if (context?.previousQueries) {\r\n                context.previousQueries.forEach(([queryKey, data]) => {\r\n                    qc.setQueryData(queryKey, data);\r\n                });\r\n            }\r\n        },\r\n        onSettled: (_data, _error, vars) => {\r\n            qc.invalidateQueries({ queryKey: ['leads'] });\r\n            qc.invalidateQueries({ queryKey: ['lead', vars.id] });\r\n            qc.invalidateQueries({ queryKey: ['kpis'] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useCreateLead() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (data: any) => api.leads.create(data),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['leads'] });\r\n            qc.invalidateQueries({ queryKey: ['kpis'] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useDeleteLead() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (id: string) => api.leads.delete(id),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['leads'] });\r\n            qc.invalidateQueries({ queryKey: ['kpis'] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useImportCSV() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (file: File) => api.leads.importCSV(file),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['leads'] });\r\n            qc.invalidateQueries({ queryKey: ['kpis'] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useBulkAssign() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: ({ leadIds, agentName }: { leadIds: string[]; agentName: string }) =>\r\n            api.leads.bulkAssign(leadIds, agentName),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['leads'] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useBulkDelete() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: ({ leadIds }: { leadIds: string[] }) =>\r\n            api.leads.bulkDelete(leadIds),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['leads'] });\r\n            qc.invalidateQueries({ queryKey: ['kpis'] });\r\n        },\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AACA;;AAFA;;;AAIO,SAAS,SAAS,MAA6D;;IAClF,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAS;SAAO;QAC3B,OAAO;iCAAE,IAAM,yIAAG,CAAC,KAAK,CAAC,IAAI,CAAC;;QAC9B,WAAW;IACf;AACJ;GANgB;;QACL,0LAAQ;;;AAOZ,SAAS,QAAQ,EAAU;;IAC9B,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAQ;SAAG;QACtB,OAAO;gCAAE,IAAM,yIAAG,CAAC,KAAK,CAAC,GAAG,CAAC;;QAC7B,SAAS,CAAC,CAAC;IACf;AACJ;IANgB;;QACL,0LAAQ;;;AAOZ,SAAS;;IACZ,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;SAAO;QAClB,OAAO;gCAAE,IAAM,yIAAG,CAAC,KAAK,CAAC,IAAI;;QAC7B,WAAW;IACf;AACJ;IANgB;;QACL,0LAAQ;;;AAOZ,SAAS;;IACZ,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;SAAS;QACpB,OAAO;kCAAE,IAAM,yIAAG,CAAC,KAAK,CAAC,MAAM;;QAC/B,WAAW;IACf;AACJ;IANgB;;QACL,0LAAQ;;;AASZ,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;+CAAE,CAAC,SAAmB,yIAAG,CAAC,KAAK,CAAC,gBAAgB,CAAC;;QAC3D,SAAS;+CAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBAC3C,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAO;gBAAC;YAC9C;;IACJ;AACJ;IATgB;;QACD,2MAAc;QAClB,gMAAW;;;AASf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;+CAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAoC,GAC3D,yIAAG,CAAC,KAAK,CAAC,gBAAgB,CAAC,QAAQ;;QACvC,SAAS;+CAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBAC3C,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAO;gBAAC;YAC9C;;IACJ;AACJ;IAVgB;;QACD,2MAAc;QAClB,gMAAW;;;AAUf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,EAAE,EAAE,EAAE,IAAI,EAA6B,GAAK,yIAAG,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI;;QAC9E,QAAQ;yCAAE,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE;gBACzB,MAAM,GAAG,aAAa,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBAC7C,MAAM,GAAG,aAAa,CAAC;oBAAE,UAAU;wBAAC;wBAAQ;qBAAG;gBAAC;gBAEhD,MAAM,kBAAkB,GAAG,cAAc,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBAChE,MAAM,eAAe,GAAG,YAAY,CAAC;oBAAC;oBAAQ;iBAAG;gBAEjD,IAAI,MAAM;oBACN,GAAG,YAAY,CAAC;wBAAC;wBAAQ;qBAAG;qDAAE,CAAC,MAAa,MAAM;gCAAE,GAAG,GAAG;gCAAE,GAAG,IAAI;4BAAC,IAAI;;oBACxE,GAAG,cAAc,CAAC;wBAAE,UAAU;4BAAC;yBAAQ;oBAAC;qDAAG,CAAC;4BACxC,IAAI,CAAC,KAAK,OAAO;4BACjB,IAAI,MAAM,OAAO,CAAC,MAAM;gCACpB,OAAO,IAAI,GAAG;iEAAC,CAAA,OAAQ,AAAC,KAAK,GAAG,KAAK,MAAM,KAAK,EAAE,KAAK,KAAM;4CAAE,GAAG,IAAI;4CAAE,GAAG,IAAI;wCAAC,IAAI;;4BACxF;4BACA,IAAI,IAAI,IAAI,IAAI,MAAM,OAAO,CAAC,IAAI,IAAI,GAAG;gCACrC,OAAO;oCAAE,GAAG,GAAG;oCAAE,MAAM,IAAI,IAAI,CAAC,GAAG;qEAAC,CAAC,OAAc,AAAC,KAAK,GAAG,KAAK,MAAM,KAAK,EAAE,KAAK,KAAM;gDAAE,GAAG,IAAI;gDAAE,GAAG,IAAI;4CAAC,IAAI;;gCAAM;4BAC1H;4BACA,IAAI,IAAI,KAAK,IAAI,MAAM,OAAO,CAAC,IAAI,KAAK,GAAG;gCACvC,OAAO;oCAAE,GAAG,GAAG;oCAAE,OAAO,IAAI,KAAK,CAAC,GAAG;qEAAC,CAAC,OAAc,AAAC,KAAK,GAAG,KAAK,MAAM,KAAK,EAAE,KAAK,KAAM;gDAAE,GAAG,IAAI;gDAAE,GAAG,IAAI;4CAAC,IAAI;;gCAAM;4BAC5H;4BACA,OAAO;wBACX;;gBACJ;gBAEA,OAAO;oBAAE;oBAAiB;gBAAa;YAC3C;;QACA,OAAO;yCAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACpB,IAAI,SAAS,cAAc;oBACvB,GAAG,YAAY,CAAC;wBAAC;wBAAQ;qBAAG,EAAE,QAAQ,YAAY;gBACtD;gBACA,IAAI,SAAS,iBAAiB;oBAC1B,QAAQ,eAAe,CAAC,OAAO;qDAAC,CAAC,CAAC,UAAU,KAAK;4BAC7C,GAAG,YAAY,CAAC,UAAU;wBAC9B;;gBACJ;YACJ;;QACA,SAAS;yCAAE,CAAC,OAAO,QAAQ;gBACvB,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBAC3C,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;wBAAQ,KAAK,EAAE;qBAAC;gBAAC;gBACnD,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAO;gBAAC;YAC9C;;IACJ;AACJ;IA9CgB;;QACD,2MAAc;QAClB,gMAAW;;;AA8Cf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,OAAc,yIAAG,CAAC,KAAK,CAAC,MAAM,CAAC;;QAC5C,SAAS;yCAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBAC3C,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAO;gBAAC;YAC9C;;IACJ;AACJ;IATgB;;QACD,2MAAc;QAClB,gMAAW;;;AASf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,KAAe,yIAAG,CAAC,KAAK,CAAC,MAAM,CAAC;;QAC7C,SAAS;yCAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBAC3C,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAO;gBAAC;YAC9C;;IACJ;AACJ;IATgB;;QACD,2MAAc;QAClB,gMAAW;;;AASf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;wCAAE,CAAC,OAAe,yIAAG,CAAC,KAAK,CAAC,SAAS,CAAC;;QAChD,SAAS;wCAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBAC3C,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAO;gBAAC;YAC9C;;IACJ;AACJ;IATgB;;QACD,2MAAc;QAClB,gMAAW;;;AASf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,EAAE,OAAO,EAAE,SAAS,EAA4C,GACzE,yIAAG,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS;;QAClC,SAAS;yCAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;YAC/C;;IACJ;AACJ;KATgB;;QACD,2MAAc;QAClB,gMAAW;;;AASf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,EAAE,OAAO,EAAyB,GAC3C,yIAAG,CAAC,KAAK,CAAC,UAAU,CAAC;;QACzB,SAAS;yCAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBAC3C,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAO;gBAAC;YAC9C;;IACJ;AACJ;KAVgB;;QACD,2MAAc;QAClB,gMAAW"}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/calls/hooks/useCalls.ts"],"sourcesContent":["'use client';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { api } from '@/services/api';\r\n\r\nexport function useCalls(params?: { status?: string; search?: string }) {\r\n    return useQuery({\r\n        queryKey: ['calls', params],\r\n        queryFn: () => api.calls.list(params),\r\n        staleTime: 30_000,\r\n    });\r\n}\r\n\r\nexport function useCall(id: string) {\r\n    return useQuery({\r\n        queryKey: ['call', id],\r\n        queryFn: () => api.calls.get(id),\r\n        enabled: !!id,\r\n    });\r\n}\r\n\r\nexport function useCreateCall() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (data: any) => api.calls.create(data),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['calls'] });\r\n            qc.invalidateQueries({ queryKey: ['leads'] });\r\n        },\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AACA;AAAA;AAAA;AACA;;AAFA;;;AAIO,SAAS,SAAS,MAA6C;;IAClE,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAS;SAAO;QAC3B,OAAO;iCAAE,IAAM,yIAAG,CAAC,KAAK,CAAC,IAAI,CAAC;;QAC9B,WAAW;IACf;AACJ;GANgB;;QACL,0LAAQ;;;AAOZ,SAAS,QAAQ,EAAU;;IAC9B,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAQ;SAAG;QACtB,OAAO;gCAAE,IAAM,yIAAG,CAAC,KAAK,CAAC,GAAG,CAAC;;QAC7B,SAAS,CAAC,CAAC;IACf;AACJ;IANgB;;QACL,0LAAQ;;;AAOZ,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,OAAc,yIAAG,CAAC,KAAK,CAAC,MAAM,CAAC;;QAC5C,SAAS;yCAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBAC3C,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;YAC/C;;IACJ;AACJ;IATgB;;QACD,2MAAc;QAClB,gMAAW"}},
    {"offset": {"line": 532, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/meetings/hooks/useMeetings.ts"],"sourcesContent":["'use client';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { api } from '@/services/api';\r\n\r\nexport function useMeetings() {\r\n    return useQuery({\r\n        queryKey: ['meetings'],\r\n        queryFn: () => api.meetings.list(),\r\n        staleTime: 30_000,\r\n    });\r\n}\r\n\r\nexport function useCreateMeeting() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (data: any) => api.meetings.create(data),\r\n        onSuccess: () => qc.invalidateQueries({ queryKey: ['meetings'] }),\r\n    });\r\n}\r\n\r\nexport function useUpdateMeeting() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: ({ id, data }: { id: string; data: any }) => api.meetings.update(id, data),\r\n        onSuccess: () => qc.invalidateQueries({ queryKey: ['meetings'] }),\r\n    });\r\n}\r\n\r\nexport function useDeleteMeeting() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (id: string) => api.meetings.delete(id),\r\n        onSuccess: () => qc.invalidateQueries({ queryKey: ['meetings'] }),\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AACA;;AAFA;;;AAIO,SAAS;;IACZ,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;SAAW;QACtB,OAAO;oCAAE,IAAM,yIAAG,CAAC,QAAQ,CAAC,IAAI;;QAChC,WAAW;IACf;AACJ;GANgB;;QACL,0LAAQ;;;AAOZ,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;4CAAE,CAAC,OAAc,yIAAG,CAAC,QAAQ,CAAC,MAAM,CAAC;;QAC/C,SAAS;4CAAE,IAAM,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAW;gBAAC;;IACnE;AACJ;IANgB;;QACD,2MAAc;QAClB,gMAAW;;;AAMf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;4CAAE,CAAC,EAAE,EAAE,EAAE,IAAI,EAA6B,GAAK,yIAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI;;QACjF,SAAS;4CAAE,IAAM,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAW;gBAAC;;IACnE;AACJ;IANgB;;QACD,2MAAc;QAClB,gMAAW;;;AAMf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;4CAAE,CAAC,KAAe,yIAAG,CAAC,QAAQ,CAAC,MAAM,CAAC;;QAChD,SAAS;4CAAE,IAAM,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAW;gBAAC;;IACnE;AACJ;IANgB;;QACD,2MAAc;QAClB,gMAAW"}},
    {"offset": {"line": 640, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/agents/hooks/useAgents.ts"],"sourcesContent":["'use client';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { api } from '@/services/api';\r\n\r\nexport function useAgents() {\r\n    return useQuery({\r\n        queryKey: ['agents'],\r\n        queryFn: () => api.agents.list(),\r\n        staleTime: 60_000,\r\n    });\r\n}\r\n\r\nexport function useCreateAgent() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (data: { name: string; email: string; password: string; role: 'admin' | 'sdr' | 'hr' | 'leadgen' }) =>\r\n            api.agents.create(data),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['agents'] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useDeleteAgent() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (id: string) => api.agents.delete(id),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['agents'] });\r\n        },\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AACA;AAAA;AAAA;AACA;;AAFA;;;AAIO,SAAS;;IACZ,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;SAAS;QACpB,OAAO;kCAAE,IAAM,yIAAG,CAAC,MAAM,CAAC,IAAI;;QAC9B,WAAW;IACf;AACJ;GANgB;;QACL,0LAAQ;;;AAOZ,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;0CAAE,CAAC,OACT,yIAAG,CAAC,MAAM,CAAC,MAAM,CAAC;;QACtB,SAAS;0CAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAS;gBAAC;YAChD;;IACJ;AACJ;IATgB;;QACD,2MAAc;QAClB,gMAAW;;;AASf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;0CAAE,CAAC,KAAe,yIAAG,CAAC,MAAM,CAAC,MAAM,CAAC;;QAC9C,SAAS;0CAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAS;gBAAC;YAChD;;IACJ;AACJ;IARgB;;QACD,2MAAc;QAClB,gMAAW"}},
    {"offset": {"line": 728, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/notifications/hooks/useNotifications.ts"],"sourcesContent":["'use client';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { api } from '@/services/api';\r\n\r\nexport function useNotifications() {\r\n    return useQuery({\r\n        queryKey: ['notifications'],\r\n        queryFn: () => api.notifications.list(),\r\n        staleTime: 15_000,\r\n        refetchInterval: 30_000,\r\n    });\r\n}\r\n\r\nexport function useMarkNotificationRead() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (id: string) => api.notifications.markRead(id),\r\n        onSuccess: () => qc.invalidateQueries({ queryKey: ['notifications'] }),\r\n    });\r\n}\r\n\r\nexport function useMarkAllNotificationsRead() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: () => api.notifications.markAllRead(),\r\n        onSuccess: () => qc.invalidateQueries({ queryKey: ['notifications'] }),\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AACA;AAAA;AAAA;AACA;;AAFA;;;AAIO,SAAS;;IACZ,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;SAAgB;QAC3B,OAAO;yCAAE,IAAM,yIAAG,CAAC,aAAa,CAAC,IAAI;;QACrC,WAAW;QACX,iBAAiB;IACrB;AACJ;GAPgB;;QACL,0LAAQ;;;AAQZ,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;mDAAE,CAAC,KAAe,yIAAG,CAAC,aAAa,CAAC,QAAQ,CAAC;;QACvD,SAAS;mDAAE,IAAM,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAgB;gBAAC;;IACxE;AACJ;IANgB;;QACD,2MAAc;QAClB,gMAAW;;;AAMf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;uDAAE,IAAM,yIAAG,CAAC,aAAa,CAAC,WAAW;;QAC/C,SAAS;uDAAE,IAAM,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAgB;gBAAC;;IACxE;AACJ;IANgB;;QACD,2MAAc;QAClB,gMAAW"}},
    {"offset": {"line": 813, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/hr/hooks/useHR.ts"],"sourcesContent":["'use client';\nimport { useQuery } from '@tanstack/react-query';\r\nimport { api } from '@/services/api';\r\n\r\nexport function useHRDashboard() {\r\n    return useQuery({\r\n        queryKey: ['hr-dashboard'],\r\n        queryFn: () => api.hr.dashboard(),\r\n        staleTime: 30_000,\r\n    });\r\n}\r\n\r\nexport function useHRLeads(params?: { status?: string; search?: string; agent?: string }) {\r\n    return useQuery({\r\n        queryKey: ['hr-leads', params],\r\n        queryFn: () => api.hr.leads(params),\r\n        staleTime: 30_000,\r\n    });\r\n}\r\n\r\nexport function useHRClosedLeads(params?: { search?: string; agent?: string }) {\r\n    return useQuery({\r\n        queryKey: ['hr-closed-leads', params],\r\n        queryFn: () => api.hr.closedLeads(params),\r\n        staleTime: 30_000,\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AACA;AACA;;AAFA;;;AAIO,SAAS;;IACZ,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;SAAe;QAC1B,OAAO;uCAAE,IAAM,yIAAG,CAAC,EAAE,CAAC,SAAS;;QAC/B,WAAW;IACf;AACJ;GANgB;;QACL,0LAAQ;;;AAOZ,SAAS,WAAW,MAA6D;;IACpF,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAY;SAAO;QAC9B,OAAO;mCAAE,IAAM,yIAAG,CAAC,EAAE,CAAC,KAAK,CAAC;;QAC5B,WAAW;IACf;AACJ;IANgB;;QACL,0LAAQ;;;AAOZ,SAAS,iBAAiB,MAA4C;;IACzE,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAmB;SAAO;QACrC,OAAO;yCAAE,IAAM,yIAAG,CAAC,EAAE,CAAC,WAAW,CAAC;;QAClC,WAAW;IACf;AACJ;IANgB;;QACL,0LAAQ"}},
    {"offset": {"line": 887, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/calendar/hooks/useTasks.ts"],"sourcesContent":["'use client';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { api } from '@/services/api';\r\n\r\nexport function useTasks(params?: { assignedTo?: string; status?: string; from?: string; to?: string; priority?: string }) {\r\n    return useQuery({\r\n        queryKey: ['tasks', params],\r\n        queryFn: () => api.tasks.list(params),\r\n        staleTime: 15_000,\r\n    });\r\n}\r\n\r\nexport function useCreateTask() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (data: any) => api.tasks.create(data),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['tasks'] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useUpdateTask() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: ({ id, data }: { id: string; data: any }) => api.tasks.update(id, data),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['tasks'] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useDeleteTask() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (id: string) => api.tasks.delete(id),\r\n        onSuccess: () => {\r\n            qc.invalidateQueries({ queryKey: ['tasks'] });\r\n        },\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AACA;;AAFA;;;AAIO,SAAS,SAAS,MAAgG;;IACrH,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAS;SAAO;QAC3B,OAAO;iCAAE,IAAM,yIAAG,CAAC,KAAK,CAAC,IAAI,CAAC;;QAC9B,WAAW;IACf;AACJ;GANgB;;QACL,0LAAQ;;;AAOZ,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,OAAc,yIAAG,CAAC,KAAK,CAAC,MAAM,CAAC;;QAC5C,SAAS;yCAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;YAC/C;;IACJ;AACJ;IARgB;;QACD,2MAAc;QAClB,gMAAW;;;AAQf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,EAAE,EAAE,EAAE,IAAI,EAA6B,GAAK,yIAAG,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI;;QAC9E,SAAS;yCAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;YAC/C;;IACJ;AACJ;IARgB;;QACD,2MAAc;QAClB,gMAAW;;;AAQf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,KAAe,yIAAG,CAAC,KAAK,CAAC,MAAM,CAAC;;QAC7C,SAAS;yCAAE;gBACP,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;YAC/C;;IACJ;AACJ;IARgB;;QACD,2MAAc;QAClB,gMAAW"}},
    {"offset": {"line": 1002, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/notes/hooks/useNotes.ts"],"sourcesContent":["'use client';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { api } from '@/services/api';\r\n\r\nexport function useNotes() {\r\n    return useQuery({\r\n        queryKey: ['notes'],\r\n        queryFn: () => api.notes.list(),\r\n        staleTime: 30_000,\r\n    });\r\n}\r\n\r\nexport function useCreateNote() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (content: string) => api.notes.create(content),\r\n        onSuccess: () => qc.invalidateQueries({ queryKey: ['notes'] }),\r\n    });\r\n}\r\n\r\nexport function useUpdateNote() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: ({ id, content }: { id: string; content: string }) => api.notes.update(id, content),\r\n        onSuccess: () => qc.invalidateQueries({ queryKey: ['notes'] }),\r\n    });\r\n}\r\n\r\nexport function useDeleteNote() {\r\n    const qc = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (id: string) => api.notes.delete(id),\r\n        onSuccess: () => qc.invalidateQueries({ queryKey: ['notes'] }),\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AACA;;AAFA;;;AAIO,SAAS;;IACZ,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;SAAQ;QACnB,OAAO;iCAAE,IAAM,yIAAG,CAAC,KAAK,CAAC,IAAI;;QAC7B,WAAW;IACf;AACJ;GANgB;;QACL,0LAAQ;;;AAOZ,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,UAAoB,yIAAG,CAAC,KAAK,CAAC,MAAM,CAAC;;QAClD,SAAS;yCAAE,IAAM,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;;IAChE;AACJ;IANgB;;QACD,2MAAc;QAClB,gMAAW;;;AAMf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,EAAE,EAAE,EAAE,OAAO,EAAmC,GAAK,yIAAG,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI;;QACvF,SAAS;yCAAE,IAAM,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;;IAChE;AACJ;IANgB;;QACD,2MAAc;QAClB,gMAAW;;;AAMf,SAAS;;IACZ,MAAM,KAAK,IAAA,2MAAc;IACzB,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;yCAAE,CAAC,KAAe,yIAAG,CAAC,KAAK,CAAC,MAAM,CAAC;;QAC7C,SAAS;yCAAE,IAAM,GAAG,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;;IAChE;AACJ;IANgB;;QACD,2MAAc;QAClB,gMAAW"}},
    {"offset": {"line": 1110, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/outreach/api/outreach.api.ts"],"sourcesContent":["import { request } from '@/services/api/client';\r\n\r\nexport interface OutreachStats {\r\n    totalEmails: number;\r\n    todayEmails: number;\r\n    todayDate: string;\r\n}\r\n\r\nexport const outreachApi = {\r\n    getStats: () =>\r\n        request<OutreachStats>('/outreach'),\r\n\r\n    logEmails: (count: number) =>\r\n        request('/outreach', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ count }),\r\n        }),\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAQO,MAAM,cAAc;IACvB,UAAU,IACN,IAAA,8IAAO,EAAgB;IAE3B,WAAW,CAAC,QACR,IAAA,8IAAO,EAAC,aAAa;YACjB,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAM;QACjC;AACR"}},
    {"offset": {"line": 1132, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/outreach/hooks/useOutreach.ts"],"sourcesContent":["'use client';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { outreachApi } from '../api/outreach.api';\r\n\r\nexport function useOutreachStats() {\r\n    return useQuery({\r\n        queryKey: ['outreach', 'stats'],\r\n        queryFn: outreachApi.getStats,\r\n    });\r\n}\r\n\r\nexport function useLogOutreach() {\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: outreachApi.logEmails,\r\n        onSuccess: () => {\r\n            queryClient.invalidateQueries({ queryKey: ['outreach', 'stats'] });\r\n        },\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;AACA;AAAA;AAAA;AACA;;AAFA;;;AAIO,SAAS;;IACZ,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAY;SAAQ;QAC/B,SAAS,uKAAW,CAAC,QAAQ;IACjC;AACJ;GALgB;;QACL,0LAAQ;;;AAMZ,SAAS;;IACZ,MAAM,cAAc,IAAA,2MAAc;IAElC,OAAO,IAAA,gMAAW,EAAC;QACf,YAAY,uKAAW,CAAC,SAAS;QACjC,SAAS;0CAAE;gBACP,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;wBAAY;qBAAQ;gBAAC;YACpE;;IACJ;AACJ;IATgB;;QACQ,2MAAc;QAE3B,gMAAW"}},
    {"offset": {"line": 1191, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/hooks/useApi.ts"],"sourcesContent":["// Barrel re-export — all existing `import { ... } from '@/hooks/useApi'` continue working.\nexport * from '@/features/leads/hooks/useLeads';\nexport * from '@/features/calls/hooks/useCalls';\nexport * from '@/features/meetings/hooks/useMeetings';\nexport * from '@/features/agents/hooks/useAgents';\nexport * from '@/features/notifications/hooks/useNotifications';\nexport * from '@/features/hr/hooks/useHR';\nexport * from '@/features/calendar/hooks/useTasks';\nexport * from '@/features/notes/hooks/useNotes';\nexport * from '@/features/outreach/hooks/useOutreach';\n"],"names":[],"mappings":";AAAA,2FAA2F;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1218, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAKF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBAAO,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7E;KAFS"}},
    {"offset": {"line": 1266, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/components/common/NotificationDropdown.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { Bell, Clock, AlertTriangle, UserPlus, Info, CheckCheck } from 'lucide-react';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Notification } from '@/features/leads/types/leads';\r\nimport { useMarkAllNotificationsRead } from '@/features/notifications/hooks/useNotifications';\r\n\r\nconst typeIcons = {\r\n  'follow-up': Clock,\r\n  'overdue': AlertTriangle,\r\n  'assignment': UserPlus,\r\n  'system': Info,\r\n};\r\n\r\nexport default function NotificationDropdown({ notifications, unreadCount }: { notifications: Notification[]; unreadCount: number }) {\r\n  const [open, setOpen] = useState(false);\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const markAllRead = useMarkAllNotificationsRead();\r\n\r\n  useEffect(() => {\r\n    const handler = (e: MouseEvent) => {\r\n      if (ref.current && !ref.current.contains(e.target as Node)) setOpen(false);\r\n    };\r\n    document.addEventListener('mousedown', handler);\r\n    return () => document.removeEventListener('mousedown', handler);\r\n  }, []);\r\n\r\n  // Auto-mark all as read when dropdown is opened\r\n  useEffect(() => {\r\n    if (open && unreadCount > 0) {\r\n      markAllRead.mutate();\r\n    }\r\n  }, [open]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  return (\r\n    <div ref={ref} className=\"relative\">\r\n      <button\r\n        onClick={() => setOpen(!open)}\r\n        className=\"relative flex h-9 w-9 items-center justify-center rounded-lg border border-border/60 bg-background/80 backdrop-blur-sm hover:bg-secondary hover:border-border transition-all duration-200\"\r\n      >\r\n        <Bell className=\"h-4 w-4 text-foreground\" />\r\n        {unreadCount > 0 && (\r\n          <span className=\"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-destructive text-destructive-foreground text-xs font-bold shadow-[0_0_8px_hsl(var(--destructive)/0.4)] animate-pulse-soft\">\r\n            {unreadCount}\r\n          </span>\r\n        )}\r\n      </button>\r\n      {open && (\r\n        <div className=\"absolute right-0 top-12 w-[calc(100vw-2rem)] sm:w-80 max-w-80 rounded-xl border border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.35)] z-50 overflow-hidden animate-slide-up\">\r\n          <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800\">\r\n            <span className=\"text-sm font-semibold text-gray-900 dark:text-zinc-100\">Notifications</span>\r\n            <div className=\"flex items-center gap-2\">\r\n              {unreadCount > 0 && (\r\n                <button\r\n                  onClick={() => markAllRead.mutate()}\r\n                  className=\"flex items-center gap-1 text-xs text-primary hover:text-primary/80 transition-colors\"\r\n                  title=\"Mark all as read\"\r\n                >\r\n                  <CheckCheck className=\"h-3.5 w-3.5\" />\r\n                  <span>Mark all read</span>\r\n                </button>\r\n              )}\r\n              <Badge variant=\"secondary\" className=\"text-xs\">{unreadCount} new</Badge>\r\n            </div>\r\n          </div>\r\n          <div className=\"max-h-80 overflow-y-auto\">\r\n            {notifications.length === 0 ? (\r\n              <div className=\"px-4 py-8 text-center text-sm text-gray-400 dark:text-zinc-500\">\r\n                No notifications yet\r\n              </div>\r\n            ) : (\r\n              notifications.map(n => {\r\n                const Icon = typeIcons[n.type];\r\n                return (\r\n                  <div key={n.id} className={`flex items-start gap-3 px-4 py-3 border-b border-gray-100 dark:border-zinc-800 last:border-0 transition-colors hover:bg-gray-50 dark:hover:bg-zinc-800 ${!n.read ? 'bg-orange-50/50 dark:bg-primary/[0.05]' : ''}`}>\r\n                    <div className={`mt-0.5 flex h-7 w-7 shrink-0 items-center justify-center rounded-lg ${n.type === 'overdue' ? 'bg-gradient-to-br from-destructive/20 to-destructive/5 text-destructive' : 'bg-gradient-to-br from-primary/15 to-primary/5 text-primary'}`}>\r\n                      <Icon className=\"h-3.5 w-3.5\" />\r\n                    </div>\r\n                    <div className=\"min-w-0\">\r\n                      <p className=\"text-sm font-medium text-gray-900 dark:text-zinc-100\">{n.title}</p>\r\n                      <p className=\"text-xs text-gray-500 dark:text-zinc-400 mt-0.5 line-clamp-2\">{n.message}</p>\r\n                      <p className=\"text-xs text-gray-400 dark:text-zinc-500 mt-1\">{n.timestamp}</p>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;;;AALA;;;;;AAOA,MAAM,YAAY;IAChB,aAAa,gNAAK;IAClB,WAAW,4OAAa;IACxB,cAAc,6NAAQ;IACtB,UAAU,6MAAI;AAChB;AAEe,SAAS,qBAAqB,EAAE,aAAa,EAAE,WAAW,EAA0D;;IACjI,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,MAAM,IAAA,uKAAM,EAAiB;IACnC,MAAM,cAAc,IAAA,+LAA2B;IAE/C,IAAA,0KAAS;0CAAC;YACR,MAAM;0DAAU,CAAC;oBACf,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAW,QAAQ;gBACtE;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;kDAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QACzD;yCAAG,EAAE;IAEL,gDAAgD;IAChD,IAAA,0KAAS;0CAAC;YACR,IAAI,QAAQ,cAAc,GAAG;gBAC3B,YAAY,MAAM;YACpB;QACF;yCAAG;QAAC;KAAK,GAAG,kDAAkD;IAE9D,qBACE,6LAAC;QAAI,KAAK;QAAK,WAAU;;0BACvB,6LAAC;gBACC,SAAS,IAAM,QAAQ,CAAC;gBACxB,WAAU;;kCAEV,6LAAC,6MAAI;wBAAC,WAAU;;;;;;oBACf,cAAc,mBACb,6LAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;YAIN,sBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAAyD;;;;;;0CACzE,6LAAC;gCAAI,WAAU;;oCACZ,cAAc,mBACb,6LAAC;wCACC,SAAS,IAAM,YAAY,MAAM;wCACjC,WAAU;wCACV,OAAM;;0DAEN,6LAAC,mOAAU;gDAAC,WAAU;;;;;;0DACtB,6LAAC;0DAAK;;;;;;;;;;;;kDAGV,6LAAC,6IAAK;wCAAC,SAAQ;wCAAY,WAAU;;4CAAW;4CAAY;;;;;;;;;;;;;;;;;;;kCAGhE,6LAAC;wBAAI,WAAU;kCACZ,cAAc,MAAM,KAAK,kBACxB,6LAAC;4BAAI,WAAU;sCAAiE;;;;;mCAIhF,cAAc,GAAG,CAAC,CAAA;4BAChB,MAAM,OAAO,SAAS,CAAC,EAAE,IAAI,CAAC;4BAC9B,qBACE,6LAAC;gCAAe,WAAW,CAAC,uJAAuJ,EAAE,CAAC,EAAE,IAAI,GAAG,2CAA2C,IAAI;;kDAC5O,6LAAC;wCAAI,WAAW,CAAC,oEAAoE,EAAE,EAAE,IAAI,KAAK,YAAY,4EAA4E,+DAA+D;kDACvP,cAAA,6LAAC;4CAAK,WAAU;;;;;;;;;;;kDAElB,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAE,WAAU;0DAAwD,EAAE,KAAK;;;;;;0DAC5E,6LAAC;gDAAE,WAAU;0DAAgE,EAAE,OAAO;;;;;;0DACtF,6LAAC;gDAAE,WAAU;0DAAiD,EAAE,SAAS;;;;;;;;;;;;;+BAPnE,EAAE,EAAE;;;;;wBAWlB;;;;;;;;;;;;;;;;;;AAOd;GA9EwB;;QAGF,+LAA2B;;;KAHzB"}},
    {"offset": {"line": 1517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/hooks/useSocket.ts"],"sourcesContent":["'use client';\r\nimport { useEffect, useRef } from 'react';\r\nimport { io, Socket } from 'socket.io-client';\r\nimport { useQueryClient } from '@tanstack/react-query';\r\n\r\n// Single shared socket instance\r\nlet socketInstance: Socket | null = null;\r\n\r\nfunction getSocket(): Socket {\r\n  if (!socketInstance) {\r\n    socketInstance = io(window.location.origin, {\r\n      path: '/socket.io',\r\n      transports: ['websocket', 'polling'],\r\n      reconnectionAttempts: 5,\r\n      reconnectionDelay: 2000,\r\n    });\r\n  }\r\n  return socketInstance;\r\n}\r\n\r\n/**\r\n * useSocket — connects to Socket.IO and invalidates React Query caches\r\n * when lead data changes on the server. Call this once per layout component.\r\n */\r\nexport function useSocket() {\r\n  const qc = useQueryClient();\r\n  const handlerRef = useRef<() => void>();\r\n\r\n  useEffect(() => {\r\n    const socket = getSocket();\r\n\r\n    handlerRef.current = () => {\r\n      qc.invalidateQueries({ queryKey: ['leads'] });\r\n      qc.invalidateQueries({ queryKey: ['kpis'] });\r\n      qc.invalidateQueries({ queryKey: ['hr-leads'] });\r\n      qc.invalidateQueries({ queryKey: ['hr-dashboard'] });\r\n      qc.invalidateQueries({ queryKey: ['hr-closed-leads'] });\r\n      qc.invalidateQueries({ queryKey: ['notifications'] });\r\n      qc.invalidateQueries({ queryKey: ['meetings'] });\r\n    };\r\n\r\n    socket.on('lead:changed', handlerRef.current);\r\n\r\n    return () => {\r\n      if (handlerRef.current) {\r\n        socket.off('lead:changed', handlerRef.current);\r\n      }\r\n    };\r\n  }, [qc]);\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;AAHA;;;;AAKA,gCAAgC;AAChC,IAAI,iBAAgC;AAEpC,SAAS;IACP,IAAI,CAAC,gBAAgB;QACnB,iBAAiB,IAAA,wLAAE,EAAC,OAAO,QAAQ,CAAC,MAAM,EAAE;YAC1C,MAAM;YACN,YAAY;gBAAC;gBAAa;aAAU;YACpC,sBAAsB;YACtB,mBAAmB;QACrB;IACF;IACA,OAAO;AACT;AAMO,SAAS;;IACd,MAAM,KAAK,IAAA,2MAAc;IACzB,MAAM,aAAa,IAAA,uKAAM;IAEzB,IAAA,0KAAS;+BAAC;YACR,MAAM,SAAS;YAEf,WAAW,OAAO;uCAAG;oBACnB,GAAG,iBAAiB,CAAC;wBAAE,UAAU;4BAAC;yBAAQ;oBAAC;oBAC3C,GAAG,iBAAiB,CAAC;wBAAE,UAAU;4BAAC;yBAAO;oBAAC;oBAC1C,GAAG,iBAAiB,CAAC;wBAAE,UAAU;4BAAC;yBAAW;oBAAC;oBAC9C,GAAG,iBAAiB,CAAC;wBAAE,UAAU;4BAAC;yBAAe;oBAAC;oBAClD,GAAG,iBAAiB,CAAC;wBAAE,UAAU;4BAAC;yBAAkB;oBAAC;oBACrD,GAAG,iBAAiB,CAAC;wBAAE,UAAU;4BAAC;yBAAgB;oBAAC;oBACnD,GAAG,iBAAiB,CAAC;wBAAE,UAAU;4BAAC;yBAAW;oBAAC;gBAChD;;YAEA,OAAO,EAAE,CAAC,gBAAgB,WAAW,OAAO;YAE5C;uCAAO;oBACL,IAAI,WAAW,OAAO,EAAE;wBACtB,OAAO,GAAG,CAAC,gBAAgB,WAAW,OAAO;oBAC/C;gBACF;;QACF;8BAAG;QAAC;KAAG;AACT;GAzBgB;;QACH,2MAAc"}},
    {"offset": {"line": 1616, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/admin/layout/AdminLayout.tsx"],"sourcesContent":["'use client';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport { ReactNode, useState, useRef, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport {\r\n  BarChart2, Calendar, Coffee, Home,\r\n  Layers, LogOut, Settings, StickyNote, Users, Zap, Menu, X, Clock, Phone, Shield, UserCog, CalendarCheck, Mic, ChevronDown, LogIn, Loader2\r\n} from 'lucide-react';\r\nimport { useNotifications, useAgents } from '@/hooks/useApi';\r\nimport NotificationDropdown from '@/components/common/NotificationDropdown';\r\nimport { useAuth } from '@/features/auth/context/AuthContext';\r\nimport { useSocket } from '@/hooks/useSocket';\r\nimport { api } from '@/services/api';\r\n\r\nconst ROLE_REDIRECT: Record<string, string> = {\r\n  admin: '/admin',\r\n  sdr: '/sdr',\r\n  hr: '/hr',\r\n  leadgen: '/leadgen',\r\n};\r\n\r\nconst ROLE_COLORS: Record<string, string> = {\r\n  admin: 'bg-primary text-primary-foreground',\r\n  sdr: 'bg-blue-500 text-white',\r\n  hr: 'bg-emerald-500 text-white',\r\n  leadgen: 'bg-amber-500 text-white',\r\n};\r\n\r\nconst adminNavItems = [\r\n  { icon: Home, label: 'Dashboard', path: '/admin' },\r\n  { icon: Coffee, label: 'Daily Huddle', path: '/admin/huddle' },\r\n  { icon: BarChart2, label: 'Funnel KPIs', path: '/admin/funnel' },\r\n  { icon: Users, label: 'All Leads', path: '/admin/leads' },\r\n  { icon: Phone, label: 'All Calls', path: '/admin/calls' },\r\n  { icon: Clock, label: 'Follow-ups', path: '/admin/follow-ups' },\r\n  { icon: Layers, label: 'Pipeline', path: '/admin/pipeline' },\r\n  { icon: UserCog, label: 'Team Management', path: '/admin/team' },\r\n  { icon: Calendar, label: 'Calendar', path: '/admin/calendar' },\r\n  { icon: CalendarCheck, label: 'Meetings', path: '/admin/meetings' },\r\n  { icon: StickyNote, label: 'My Notes', path: '/admin/notes' },\r\n  { icon: Settings, label: 'Settings', path: '/admin/settings' },\r\n];\r\n\r\nexport default function AdminLayout({ children }: { children: ReactNode }) {\r\n  const pathname = usePathname() ?? '';\r\n  const router = useRouter();\r\n  const { user, logout } = useAuth();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [authBootstrapped, setAuthBootstrapped] = useState(false);\r\n  const { data: notifications = [] } = useNotifications();\r\n  const unreadCount = notifications.filter((n: any) => !n.read).length;\r\n  useSocket();\r\n\r\n  // Dropdown states\r\n  const { data: agents = [] } = useAgents();\r\n  const [profileOpen, setProfileOpen] = useState(false);\r\n  const [impersonateOpen, setImpersonateOpen] = useState(false);\r\n  const [impersonating, setImpersonating] = useState<string | null>(null);\r\n  const profileRef = useRef<HTMLDivElement>(null);\r\n  const impersonateRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Close dropdowns on outside click\r\n  useEffect(() => {\r\n    const handler = (e: MouseEvent) => {\r\n      if (profileRef.current && !profileRef.current.contains(e.target as Node)) {\r\n        setProfileOpen(false);\r\n      }\r\n      if (impersonateRef.current && !impersonateRef.current.contains(e.target as Node)) {\r\n        setImpersonateOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handler);\r\n    return () => document.removeEventListener('mousedown', handler);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const hasStoredToken = typeof window !== 'undefined' && !!localStorage.getItem('insurelead_token');\r\n    if (!user && !hasStoredToken) {\r\n      router.replace('/login');\r\n      return;\r\n    }\r\n    setAuthBootstrapped(true);\r\n  }, [user, router]);\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n  };\r\n\r\n  const handleImpersonate = async (userId: string) => {\r\n    setImpersonating(userId);\r\n    try {\r\n      const result = await api.auth.impersonate(userId);\r\n      const currentToken = localStorage.getItem('insurelead_token');\r\n      const currentUser = localStorage.getItem('insurelead_user');\r\n      if (currentToken) localStorage.setItem('insurelead_admin_token', currentToken);\r\n      if (currentUser) localStorage.setItem('insurelead_admin_user', currentUser);\r\n      localStorage.setItem('insurelead_token', result.token);\r\n      localStorage.setItem('insurelead_user', JSON.stringify(result.user));\r\n      document.cookie = `insurelead_token=${result.token}; path=/; max-age=604800; samesite=lax`;\r\n      window.location.href = ROLE_REDIRECT[result.user.role] || '/login';\r\n    } catch {\r\n      setImpersonating(null);\r\n    }\r\n  };\r\n\r\n  if (!user || !authBootstrapped) {\r\n    return (\r\n      <div className=\"flex h-screen items-center justify-center bg-background\">\r\n        <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n          <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n          <p className=\"text-sm\">Loading workspace...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-background\">\r\n      {/* Sidebar */}\r\n      <aside className={`fixed inset-y-0 left-0 z-50 w-64 transform bg-sidebar border-r border-sidebar-border flex flex-col transition-transform lg:relative lg:translate-x-0 ${sidebarOpen ? 'translate-x-0' : '-translate-x-full'}`}>\r\n        {/* Subtle gradient mesh overlay */}\r\n        <div className=\"absolute inset-0 bg-gradient-to-b from-white/[0.03] via-transparent to-black/[0.05] pointer-events-none\" />\r\n\r\n        <div className=\"relative flex h-16 items-center gap-3 px-6 border-b border-sidebar-border\">\r\n          <div className=\"flex items-center justify-center rounded-lg bg-white/70 p-1.5 backdrop-blur-lg border border-white/30 shadow-sm\">\r\n            <img src=\"/team-united-logo.png\" alt=\"United Alliances\" className=\"h-6\" />\r\n          </div>\r\n          <span className=\"text-lg font-bold text-sidebar-foreground tracking-tight\">United Alliances</span>\r\n          <button className=\"ml-auto lg:hidden text-sidebar-foreground hover:text-white transition-colors\" onClick={() => setSidebarOpen(false)}>\r\n            <X className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Admin badge */}\r\n        <div className=\"relative px-4 py-3 border-b border-sidebar-border\">\r\n          <div className=\"flex items-center gap-2 rounded-lg bg-gradient-to-r from-primary/15 to-primary/5 border border-primary/20 px-3 py-2 backdrop-blur-sm\">\r\n            <Shield className=\"h-4 w-4 text-primary\" />\r\n            <span className=\"text-sm font-semibold text-primary\">Admin Panel</span>\r\n          </div>\r\n        </div>\r\n\r\n        <nav className=\"relative flex-1 px-3 py-4 space-y-0.5 overflow-y-auto\">\r\n          {adminNavItems.map(item => {\r\n            const active = pathname === item.path ||\r\n              (item.path !== '/admin' && pathname.startsWith(item.path));\r\n            return (\r\n              <Link\r\n                key={item.path}\r\n                href={item.path}\r\n                onClick={() => setSidebarOpen(false)}\r\n                className={`relative flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 group ${active\r\n                  ? 'bg-sidebar-accent text-sidebar-primary shadow-[inset_0_0_0_1px_hsl(var(--sidebar-primary)/0.15)]'\r\n                  : 'text-sidebar-foreground/75 hover:bg-sidebar-accent/60 hover:text-sidebar-accent-foreground'\r\n                  }`}\r\n              >\r\n                {/* Active indicator bar */}\r\n                {active && (\r\n                  <div className=\"absolute left-0 top-1/2 -translate-y-1/2 w-[3px] h-5 rounded-r-full bg-sidebar-primary shadow-[0_0_8px_hsl(var(--sidebar-primary)/0.5)]\" />\r\n                )}\r\n                <item.icon className={`h-4 w-4 transition-transform duration-200 ${active ? 'text-sidebar-primary' : 'group-hover:scale-110'}`} />\r\n                {item.label}\r\n              </Link>\r\n            );\r\n          })}\r\n        </nav>\r\n        <div className=\"relative p-3 border-t border-sidebar-border\">\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm text-sidebar-foreground/70 hover:bg-destructive/10 hover:text-destructive transition-all duration-200\"\r\n          >\r\n            <LogOut className=\"h-4 w-4\" />\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Overlay */}\r\n      {sidebarOpen && <div className=\"fixed inset-0 z-40 bg-foreground/20 lg:hidden\" onClick={() => setSidebarOpen(false)} />}\r\n\r\n      {/* Main */}\r\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n        <header className=\"relative z-20 flex h-16 items-center justify-between border-b border-border/50 px-6 bg-card/80 backdrop-blur-md shadow-[0_1px_3px_hsl(var(--foreground)/0.04)]\">\r\n          <button className=\"lg:hidden text-foreground\" onClick={() => setSidebarOpen(true)}>\r\n            <Menu className=\"h-5 w-5\" />\r\n          </button>\r\n          <div className=\"hidden lg:block\" />\r\n          <div className=\"flex items-center gap-3\">\r\n            <NotificationDropdown notifications={notifications} unreadCount={unreadCount} />\r\n\r\n            {/* Impersonate Dropdown */}\r\n            <div className=\"relative\" ref={impersonateRef}>\r\n              <button\r\n                onClick={() => setImpersonateOpen(!impersonateOpen)}\r\n                className=\"flex items-center gap-2 rounded-lg px-3 py-1.5 border border-primary/20 bg-primary/5 hover:bg-primary/10 text-primary transition-colors\"\r\n                title=\"Impersonate User\"\r\n              >\r\n                <Users className=\"h-4 w-4\" />\r\n                <span className=\"hidden sm:inline text-sm font-medium\">Switch User</span>\r\n                <ChevronDown className={`h-4 w-4 transition-transform ${impersonateOpen ? 'rotate-180' : ''}`} />\r\n              </button>\r\n\r\n              {impersonateOpen && (\r\n                <>\r\n                  <div className=\"fixed inset-0 z-40\" onClick={() => setImpersonateOpen(false)} />\r\n                  <div className=\"absolute right-0 top-full mt-2 w-72 rounded-xl border border-border bg-card shadow-lg z-50 overflow-hidden animate-slide-up\">\r\n                    <div className=\"px-4 py-3 border-b border-border bg-muted/30\">\r\n                      <p className=\"text-xs font-bold text-foreground py-1 uppercase tracking-wider\">Select Team Member</p>\r\n                    </div>\r\n                    <div className=\"max-h-64 overflow-y-auto divide-y divide-border\">\r\n                      {agents.map((agent: any) => (\r\n                        <button\r\n                          key={agent.id}\r\n                          disabled={impersonating === agent.id}\r\n                          onClick={() => handleImpersonate(agent.id)}\r\n                          className=\"flex items-center gap-3 w-full px-4 py-3 text-left hover:bg-muted/50 transition-colors disabled:opacity-50\"\r\n                        >\r\n                          <div className={`flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-xs font-medium shadow-sm ${ROLE_COLORS[agent.role] || 'bg-muted'}`}>\r\n                            {agent.avatar || agent.name?.split(' ').map((n: string) => n[0]).join('').slice(0, 2)}\r\n                          </div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-sm font-semibold text-foreground truncate\">{agent.name}</p>\r\n                            <p className=\"text-xs text-muted-foreground capitalize\">{agent.role}</p>\r\n                          </div>\r\n                          {impersonating === agent.id ? (\r\n                            <Loader2 className=\"h-4 w-4 animate-spin text-primary\" />\r\n                          ) : (\r\n                            <LogIn className=\"h-4 w-4 text-muted-foreground\" />\r\n                          )}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {/* Profile Dropdown */}\r\n            <div className=\"relative\" ref={profileRef}>\r\n              <button\r\n                onClick={() => setProfileOpen(!profileOpen)}\r\n                className=\"flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-secondary/50 transition-colors\"\r\n              >\r\n                <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium\">\r\n                  {user?.avatar || 'AD'}\r\n                </div>\r\n                <div className=\"hidden sm:block text-left\">\r\n                  <p className=\"text-sm font-medium text-foreground\">{user?.name || 'Admin'}</p>\r\n                  <p className=\"text-xs text-muted-foreground\">Admin</p>\r\n                </div>\r\n                <ChevronDown className={`h-4 w-4 text-muted-foreground transition-transform ${profileOpen ? 'rotate-180' : ''}`} />\r\n              </button>\r\n\r\n              {profileOpen && (\r\n                <>\r\n                  <div className=\"fixed inset-0 z-40\" onClick={() => setProfileOpen(false)} />\r\n                  <div className=\"absolute right-0 top-full mt-2 w-48 rounded-xl border border-border bg-card shadow-lg z-50 overflow-hidden animate-slide-up\">\r\n                    <div className=\"p-1\">\r\n                      <button\r\n                        onClick={handleLogout}\r\n                        className=\"flex items-center gap-2 w-full rounded-md px-3 py-2 text-sm font-medium text-destructive hover:bg-destructive/10 transition-colors\"\r\n                      >\r\n                        <LogOut className=\"h-4 w-4\" />\r\n                        Sign Out\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </header>\r\n        <main className=\"flex-1 overflow-y-auto p-3 sm:p-6\">\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}