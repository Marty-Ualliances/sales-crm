{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/leads/constants/pipeline.ts"],"sourcesContent":["/**\r\n * Pipeline stage definitions — single source of truth.\r\n * Import from here instead of hardcoding status strings.\r\n */\r\n\r\nexport const PIPELINE_STAGES = [\r\n    { key: 'New Lead', label: 'New Lead', color: 'bg-slate-400', textColor: 'text-slate-700', badgeClass: 'bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-900 dark:text-slate-300' },\r\n    { key: 'Working', label: 'Working', color: 'bg-blue-400', textColor: 'text-blue-700', badgeClass: 'bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900 dark:text-blue-300' },\r\n    { key: 'Connected', label: 'Connected', color: 'bg-cyan-400', textColor: 'text-cyan-700', badgeClass: 'bg-cyan-100 text-cyan-700 border-cyan-200 dark:bg-cyan-900 dark:text-cyan-300' },\r\n    { key: 'Qualified', label: 'Qualified', color: 'bg-violet-400', textColor: 'text-violet-700', badgeClass: 'bg-violet-100 text-violet-700 border-violet-200 dark:bg-violet-900 dark:text-violet-300' },\r\n    { key: 'Meeting Booked', label: 'Meeting Booked', color: 'bg-amber-400', textColor: 'text-amber-700', badgeClass: 'bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900 dark:text-amber-300' },\r\n    { key: 'Meeting Completed', label: 'Meeting Completed', color: 'bg-indigo-400', textColor: 'text-indigo-700', badgeClass: 'bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900 dark:text-indigo-300' },\r\n    { key: 'Proposal Sent', label: 'Proposal Sent', color: 'bg-orange-400', textColor: 'text-orange-700', badgeClass: 'bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900 dark:text-orange-300' },\r\n    { key: 'Negotiation', label: 'Negotiation', color: 'bg-pink-400', textColor: 'text-pink-700', badgeClass: 'bg-pink-100 text-pink-700 border-pink-200 dark:bg-pink-900 dark:text-pink-300' },\r\n    { key: 'Closed Won', label: 'Closed Won', color: 'bg-emerald-500', textColor: 'text-emerald-700', badgeClass: 'bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900 dark:text-emerald-300' },\r\n    { key: 'Closed Lost', label: 'Closed Lost', color: 'bg-red-400', textColor: 'text-red-700', badgeClass: 'bg-red-100 text-red-700 border-red-200 dark:bg-red-900 dark:text-red-300' },\r\n    { key: 'Nurture', label: 'Nurture', color: 'bg-teal-400', textColor: 'text-teal-700', badgeClass: 'bg-teal-100 text-teal-700 border-teal-200 dark:bg-teal-900 dark:text-teal-300' },\r\n] as const;\r\n\r\n/** All valid pipeline stage keys */\r\nexport type PipelineStageKey = typeof PIPELINE_STAGES[number]['key'];\r\n\r\n/** All stage keys as a plain array (useful for enums / dropdowns) */\r\nexport const STAGE_KEYS = PIPELINE_STAGES.map(s => s.key);\r\n\r\n/** Lookup helpers */\r\nexport const getStage = (key: string) => PIPELINE_STAGES.find(s => s.key === key);\r\nexport const getStageBadgeClass = (key: string) => getStage(key)?.badgeClass ?? 'bg-muted text-muted-foreground border-border';\r\nexport const getStageColor = (key: string) => getStage(key)?.color ?? 'bg-gray-400';\r\n\r\n/** Terminal stages (no further action expected) */\r\nexport const TERMINAL_STAGES: PipelineStageKey[] = ['Closed Won', 'Closed Lost', 'Nurture'];\r\n\r\n/** Stages where meetings are relevant */\r\nexport const MEETING_STAGES: PipelineStageKey[] = ['Meeting Booked', 'Meeting Completed'];\r\n\r\n/** Stages that trigger auto-recording flag on calls */\r\nexport const RECORDING_FLAG_STAGES: PipelineStageKey[] = ['Meeting Completed', 'Negotiation', 'Closed Won'];\r\n\r\n/* ── Lead Priorities (§6) ── */\r\nexport const PRIORITIES = [\r\n    { key: 'A', label: 'A – High', color: 'bg-red-500', badgeClass: 'bg-red-100 text-red-700 border-red-200 dark:bg-red-900 dark:text-red-300' },\r\n    { key: 'B', label: 'B – Medium', color: 'bg-amber-500', badgeClass: 'bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900 dark:text-amber-300' },\r\n    { key: 'C', label: 'C – Low', color: 'bg-slate-400', badgeClass: 'bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-800 dark:text-slate-300' },\r\n] as const;\r\nexport type LeadPriority = typeof PRIORITIES[number]['key'];\r\nexport const PRIORITY_KEYS: LeadPriority[] = ['A', 'B', 'C'];\r\nexport const getPriorityBadgeClass = (key: string) => PRIORITIES.find(p => p.key === key)?.badgeClass ?? 'bg-muted text-muted-foreground border-border';\r\n\r\n/* ── Segments ── */\r\nexport const SEGMENTS = ['Insurance', 'Accounting', 'Finance', 'Healthcare', 'Legal', 'Other'] as const;\r\nexport type LeadSegment = typeof SEGMENTS[number];\r\n\r\n/* ── Source Channels (§4) ── */\r\nexport const SOURCE_CHANNELS = [\r\n    'Cold – High Fit',\r\n    'Warm – Engaged',\r\n    'Cold – Quick Sourced',\r\n    'Cold – Bulk Data',\r\n    'CSV Import',\r\n    'Manual',\r\n    'LinkedIn',\r\n    'Referral',\r\n    'Other',\r\n] as const;\r\nexport type SourceChannel = typeof SOURCE_CHANNELS[number];\r\n\r\n/* ── Quality Gate (§5) — required fields before SDR assignment ── */\r\nexport const QUALITY_GATE_FIELDS = [\r\n    { field: 'companyName', label: 'Company Name' },\r\n    { field: 'websiteOrLinkedin', label: 'Website or LinkedIn URL', check: (l: any) => !!(l.website || l.companyLinkedinUrl || l.personLinkedinUrl) },\r\n    { field: 'state', label: 'Location (State)' },\r\n    { field: 'segment', label: 'Segment' },\r\n    { field: 'nameOrTitle', label: 'Decision-maker Name or Title', check: (l: any) => !!(l.name && (l.title || l.name)) },\r\n    { field: 'emailOrPhone', label: 'Valid Email or Phone', check: (l: any) => !!(l.email || l.workDirectPhone || l.mobilePhone || l.homePhone) },\r\n    { field: 'sourceChannel', label: 'Source Channel' },\r\n] as const;\r\n\r\nexport function checkQualityGate(lead: any): { pass: boolean; missing: string[] } {\r\n    const missing: string[] = [];\r\n    for (const rule of QUALITY_GATE_FIELDS) {\r\n        if ('check' in rule && rule.check) {\r\n            if (!rule.check(lead)) missing.push(rule.label);\r\n        } else {\r\n            if (!lead[rule.field]) missing.push(rule.label);\r\n        }\r\n    }\r\n    return { pass: missing.length === 0, missing };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marty/OneDrive%20-%20Ualliance%20Services/Documents/sales-crm/src/features/pipeline/pages/PipelinePage.tsx"],"sourcesContent":["'use client';\n\nimport { useLeads } from '@/hooks/useApi';\nimport { Badge } from '@/components/ui/badge';\nimport { Loader2 } from 'lucide-react';\nimport { PIPELINE_STAGES, getStageColor } from '@/features/leads/constants/pipeline';\n\nexport default function PipelinePage() {\n  const { data: leads = [], isLoading } = useLeads();\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-20\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-foreground\">Sales Pipeline</h1>\n        <p className=\"text-sm text-muted-foreground mt-1\">Kanban view of your lead funnel</p>\n      </div>\n      <div className=\"flex gap-4 overflow-x-auto pb-4\">\n        {PIPELINE_STAGES.map(stage => {\n          const colLeads = leads.filter((l: any) => l.status === stage.key);\n          return (\n            <div key={stage.key} className=\"min-w-[220px] flex-1\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <div className={`h-2.5 w-2.5 rounded-full ${stage.color}`} />\n                <span className=\"text-sm font-semibold text-foreground\">{stage.label}</span>\n                <Badge variant=\"secondary\" className=\"text-xs h-5 px-1.5\">{colLeads.length}</Badge>\n              </div>\n              <div className=\"space-y-2.5\">\n                {colLeads.map((lead: any) => (\n                  <div key={lead.id} className=\"rounded-lg border border-border bg-card p-3.5 shadow-card hover:shadow-card-hover transition-shadow\">\n                    <p className=\"font-medium text-foreground text-sm\">{lead.name}</p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">{lead.companyName || lead.phone}</p>\n                    <div className=\"flex items-center justify-between mt-3\">\n                      <span className=\"text-xs text-muted-foreground\">{lead.assignedAgent}</span>\n                      {lead.callCount > 0 && (\n                        <span className=\"text-xs text-muted-foreground\">{lead.callCount} calls</span>\n                      )}\n                    </div>\n                  </div>\n                ))}\n                {colLeads.length === 0 && (\n                  <div className=\"rounded-lg border border-dashed border-border p-6 text-center\">\n                    <p className=\"text-xs text-muted-foreground\">No leads</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,MAAM,QAAQ,EAAE,EAAE,SAAS,EAAE,GAAG,IAAA,4JAAQ;IAEhD,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,+NAAO;gBAAC,WAAU;;;;;;;;;;;IAGzB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCAAqC;;;;;;kCACnD,6LAAC;wBAAE,WAAU;kCAAqC;;;;;;;;;;;;0BAEpD,6LAAC;gBAAI,WAAU;0BACZ,uKAAe,CAAC,GAAG,CAAC,CAAA;oBACnB,MAAM,WAAW,MAAM,MAAM,CAAC,CAAC,IAAW,EAAE,MAAM,KAAK,MAAM,GAAG;oBAChE,qBACE,6LAAC;wBAAoB,WAAU;;0CAC7B,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAW,CAAC,yBAAyB,EAAE,MAAM,KAAK,EAAE;;;;;;kDACzD,6LAAC;wCAAK,WAAU;kDAAyC,MAAM,KAAK;;;;;;kDACpE,6LAAC,6IAAK;wCAAC,SAAQ;wCAAY,WAAU;kDAAsB,SAAS,MAAM;;;;;;;;;;;;0CAE5E,6LAAC;gCAAI,WAAU;;oCACZ,SAAS,GAAG,CAAC,CAAC,qBACb,6LAAC;4CAAkB,WAAU;;8DAC3B,6LAAC;oDAAE,WAAU;8DAAuC,KAAK,IAAI;;;;;;8DAC7D,6LAAC;oDAAE,WAAU;8DAAsC,KAAK,WAAW,IAAI,KAAK,KAAK;;;;;;8DACjF,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAK,WAAU;sEAAiC,KAAK,aAAa;;;;;;wDAClE,KAAK,SAAS,GAAG,mBAChB,6LAAC;4DAAK,WAAU;;gEAAiC,KAAK,SAAS;gEAAC;;;;;;;;;;;;;;2CAN5D,KAAK,EAAE;;;;;oCAWlB,SAAS,MAAM,KAAK,mBACnB,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;uBArB3C,MAAM,GAAG;;;;;gBA2BvB;;;;;;;;;;;;AAIR;GApDwB;;QACkB,4JAAQ;;;KAD1B"}}]
}