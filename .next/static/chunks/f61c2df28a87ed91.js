(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19455,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(91918),r=e.i(25913),l=e.i(75157);let d=(0,r.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=s.forwardRef(({className:e,variant:s,size:r,asChild:i=!1,...n},o)=>{let c=i?a.Slot:"button";return(0,t.jsx)(c,{className:(0,l.cn)(d({variant:s,size:r,className:e})),ref:o,...n})});i.displayName="Button",e.s(["Button",()=>i])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},92930,e=>{"use strict";let t=(0,e.i(75254).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],92930)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],55436)},24687,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let r=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));r.displayName="Textarea",e.s(["Textarea",()=>r])},78824,e=>{"use strict";var t=e.i(43476);e.i(64862);var s=e.i(82013),a=e.i(32693),r=e.i(43432);let l=(0,e.i(75254).default)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);var d=e.i(55436),i=e.i(31278),n=e.i(92930),o=e.i(87486),c=e.i(19455),u=e.i(76639),x=e.i(93479),m=e.i(10204),h=e.i(24687),g=e.i(67489),f=e.i(22016),p=e.i(71645),b=e.i(46696);function j(){let{user:e}=(0,a.useAuth)(),{data:j=[],isLoading:v}=(0,s.useCalls)(),y=j.filter(t=>t.agentName===e?.name),[N,w]=(0,p.useState)(""),[C,S]=(0,p.useState)("all"),[k,L]=(0,p.useState)(!1),[B,D]=(0,p.useState)(null),[T,z]=(0,p.useState)({status:"",notes:"",duration:""}),A=y.filter(e=>{let t=!N||e.leadName?.toLowerCase().includes(N.toLowerCase())||e.notes?.toLowerCase().includes(N.toLowerCase()),s="all"===C||e.status===C;return t&&s}),M=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-indigo-500"];return v?(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsx)(i.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,t.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"My Calls"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[y.length," calls total"]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(d.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)("input",{type:"text",placeholder:"Search calls...",value:N,onChange:e=>w(e.target.value),className:"w-full h-9 rounded-lg border border-input bg-background pl-9 pr-3 text-sm text-foreground placeholder:text-muted-foreground"})]}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:["all","Completed","Missed","Follow-up"].map(e=>(0,t.jsx)(c.Button,{variant:C===e?"default":"outline",size:"sm",onClick:()=>S(e),children:"all"===e?"All":e},e))})]}),(0,t.jsx)("div",{className:"rounded-xl border border-border bg-card shadow-card overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border bg-secondary/30",children:[(0,t.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground",children:"Lead"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground",children:"Date"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground",children:"Time"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground hidden sm:table-cell",children:"Duration"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground",children:"Status"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-medium text-muted-foreground hidden lg:table-cell",children:"Notes"}),(0,t.jsx)("th",{className:"text-right px-4 py-3 font-medium text-muted-foreground",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===A.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:7,className:"text-center py-12 text-muted-foreground",children:[(0,t.jsx)(r.Phone,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),(0,t.jsx)("p",{children:"No calls found"})]})}):A.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-border hover:bg-secondary/20 transition-all duration-200",style:{animationDelay:`${40*s}ms`},children:[(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-full text-white text-xs font-bold shadow ring-2 ring-white/80 transition-transform hover:scale-110 ${M[(e.leadName||"").charCodeAt(0)%M.length]}`,children:(e.leadName||"??").split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}),(0,t.jsxs)("div",{children:[e.leadId?(0,t.jsx)(f.default,{href:`/sdr/leads/${e.leadId}`,className:"font-medium text-foreground hover:text-primary transition-colors underline-offset-2 hover:underline",children:e.leadName}):(0,t.jsx)("span",{className:"font-medium text-foreground",children:e.leadName}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.agentName})]})]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-muted-foreground",children:e.date}),(0,t.jsx)("td",{className:"px-4 py-3 text-muted-foreground",children:e.time}),(0,t.jsx)("td",{className:"px-4 py-3 text-muted-foreground hidden sm:table-cell",children:e.duration}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)(o.Badge,{variant:"outline",className:`text-xs ${(e=>{switch(e){case"Completed":return"bg-success/10 text-success border-success/20";case"Missed":return"bg-destructive/10 text-destructive border-destructive/20";case"Follow-up":return"bg-warning/10 text-warning border-warning/20";default:return"bg-secondary text-foreground"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"px-4 py-3 text-muted-foreground hidden lg:table-cell max-w-[200px] truncate",children:e.notes}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[e.hasRecording&&(0,t.jsx)(c.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary hover:bg-primary/10",children:(0,t.jsx)(l,{className:"h-4 w-4"})}),(0,t.jsx)(c.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:bg-secondary hover:text-foreground",onClick:t=>{t.stopPropagation(),D(e),z({status:e.status,notes:e.notes||"",duration:e.duration||""}),L(!0)},title:"Edit call",children:(0,t.jsx)(n.Edit2,{className:"h-3.5 w-3.5"})})]})})]},e.id))})]})})}),(0,t.jsx)(u.Dialog,{open:k,onOpenChange:L,children:(0,t.jsxs)(u.DialogContent,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsx)(u.DialogTitle,{children:"Edit Call"}),(0,t.jsxs)(u.DialogDescription,{children:["Update call details for ",(0,t.jsx)("strong",{children:B?.leadName})]})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.Label,{children:"Status"}),(0,t.jsxs)(g.Select,{value:T.status,onValueChange:e=>z({...T,status:e}),children:[(0,t.jsx)(g.SelectTrigger,{children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"Completed",children:"Completed"}),(0,t.jsx)(g.SelectItem,{value:"Missed",children:"Missed"}),(0,t.jsx)(g.SelectItem,{value:"Follow-up",children:"Follow-up"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.Label,{children:"Duration"}),(0,t.jsx)(x.Input,{placeholder:"e.g. 5:30",value:T.duration,onChange:e=>z({...T,duration:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.Label,{children:"Notes"}),(0,t.jsx)(h.Textarea,{placeholder:"Add call notes...",value:T.notes,onChange:e=>z({...T,notes:e.target.value}),rows:4})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(c.Button,{variant:"outline",onClick:()=>L(!1),children:"Cancel"}),(0,t.jsx)(c.Button,{onClick:()=>{b.toast.success("Call updated successfully"),L(!1),D(null)},className:"gradient-primary border-0",children:"Save Changes"})]})]})})]})}e.s(["default",()=>j],78824)}]);