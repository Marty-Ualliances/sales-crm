(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19455,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(91918),i=e.i(25913),o=e.i(75157);let n=(0,i.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef(({className:e,variant:s,size:i,asChild:l=!1,...a},d)=>{let c=l?r.Slot:"button";return(0,t.jsx)(c,{className:(0,o.cn)(n({variant:s,size:i,className:e})),ref:d,...a})});l.displayName="Button",e.s(["Button",()=>l])},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},39180,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(78894),i=e.i(69638),o=e.i(3116),n=e.i(31278),l=e.i(19455),a=e.i(87486);e.i(64862);var d=e.i(9085),c=e.i(46696);function u(){let{data:e=[],isLoading:u}=(0,d.useLeads)(),x=new Date().toISOString().split("T")[0],[m,p]=(0,s.useState)("all"),h=(0,d.useCompleteFollowUp)(),g=e.filter(e=>e.nextFollowUp&&"Closed Won"!==e.status&&"Closed Lost"!==e.status).sort((e,t)=>e.nextFollowUp>t.nextFollowUp?1:-1),f=g.filter(e=>"overdue"===m?e.nextFollowUp<x:"today"===m?e.nextFollowUp===x:"upcoming"!==m||e.nextFollowUp>x),v=g.filter(e=>e.nextFollowUp<x).length,b=async(e,t)=>{try{await h.mutateAsync(e),c.toast.success(`Follow-up with ${t} completed`)}catch{c.toast.error("Failed to complete follow-up")}};return u?(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsx)(n.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Follow-up Pending"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[g.length," follow-ups • ",v," overdue"]})]}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:["all","overdue","today","upcoming"].map(e=>(0,t.jsxs)(l.Button,{variant:m===e?"default":"outline",size:"sm",onClick:()=>p(e),className:m===e&&"overdue"===e?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:["overdue"===e&&(0,t.jsx)(r.AlertTriangle,{className:"h-3.5 w-3.5 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1),"overdue"===e&&v>0&&(0,t.jsx)(a.Badge,{variant:"secondary",className:"ml-1.5 text-xs h-5 px-1.5",children:v})]},e))}),(0,t.jsxs)("div",{className:"space-y-3",children:[f.map(e=>{let s=e.nextFollowUp<x,n=e.nextFollowUp===x;return(0,t.jsxs)("div",{className:`rounded-xl border bg-card p-4 shadow-card flex items-center justify-between gap-4 ${s?"border-destructive/30 bg-destructive/5":"border-border"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 min-w-0",children:[(0,t.jsx)("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-full text-sm font-medium ${s?"bg-destructive/10 text-destructive":"bg-accent text-accent-foreground"}`,children:s?(0,t.jsx)(r.AlertTriangle,{className:"h-4 w-4"}):(0,t.jsx)(o.Clock,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.assignedAgent," • ",e.phone]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 shrink-0",children:[(0,t.jsxs)("div",{className:"text-right hidden sm:block",children:[(0,t.jsx)("p",{className:`text-sm font-medium ${s?"text-destructive":n?"text-primary":"text-foreground"}`,children:s?"OVERDUE":n?"TODAY":e.nextFollowUp}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.nextFollowUp})]}),(0,t.jsxs)(l.Button,{size:"sm",variant:s?"destructive":"default",onClick:()=>b(e.id,e.name),disabled:h.isPending,children:[(0,t.jsx)(i.CheckCircle,{className:"h-3.5 w-3.5 mr-1"}),h.isPending?"Completing...":"Complete"]})]})]},e.id)}),0===f.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,t.jsx)(o.Clock,{className:"h-10 w-10 mx-auto mb-3 opacity-30"}),(0,t.jsx)("p",{children:"No follow-ups in this category"})]})]})]})}e.s(["default",()=>u])}]);