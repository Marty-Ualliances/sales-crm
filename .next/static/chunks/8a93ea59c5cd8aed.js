(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89853,e=>{"use strict";let t=(0,e.i(75254).default)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);e.s(["CalendarDays",()=>t],89853)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},19455,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(91918),a=e.i(25913),s=e.i(75157);let i=(0,a.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef(({className:e,variant:n,size:a,asChild:l=!1,...o},c)=>{let d=l?r.Slot:"button";return(0,t.jsx)(d,{className:(0,s.cn)(i({variant:n,size:a,className:e})),ref:c,...o})});l.displayName="Button",e.s(["Button",()=>l])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},92930,e=>{"use strict";let t=(0,e.i(75254).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],92930)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},86318,3536,43531,e=>{"use strict";var t=e.i(71645);e.i(43476);var n=t.createContext(void 0);function r(e){let r=t.useContext(n);return e||r||"ltr"}e.s(["useDirection",()=>r],86318);var a=0;function s(){t.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??i()),document.body.insertAdjacentElement("beforeend",e[1]??i()),a++,()=>{1===a&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),a--}},[])}function i(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}e.s(["useFocusGuards",()=>s],3536);let l=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>l],43531)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},65491,e=>{"use strict";let t;var n=e.i(71645),r=e.i(20783),a=e.i(48425),s=e.i(30207),i=e.i(43476),l="focusScope.autoFocusOnMount",o="focusScope.autoFocusOnUnmount",c={bubbles:!1,cancelable:!0},d=n.forwardRef((e,t)=>{let{loop:d=!1,trapped:p=!1,onMountAutoFocus:g,onUnmountAutoFocus:x,...v}=e,[y,b]=n.useState(null),j=(0,s.useCallbackRef)(g),w=(0,s.useCallbackRef)(x),N=n.useRef(null),k=(0,r.useComposedRefs)(t,e=>b(e)),S=n.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;n.useEffect(()=>{if(p){let e=function(e){if(S.paused||!y)return;let t=e.target;y.contains(t)?N.current=t:m(N.current,{select:!0})},t=function(e){if(S.paused||!y)return;let t=e.relatedTarget;null!==t&&(y.contains(t)||m(N.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&m(y)});return y&&n.observe(y,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[p,y,S.paused]),n.useEffect(()=>{if(y){f.add(S);let e=document.activeElement;if(!y.contains(e)){let t=new CustomEvent(l,c);y.addEventListener(l,j),y.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let n=document.activeElement;for(let r of e)if(m(r,{select:t}),document.activeElement!==n)return}(u(y).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&m(y))}return()=>{y.removeEventListener(l,j),setTimeout(()=>{let t=new CustomEvent(o,c);y.addEventListener(o,w),y.dispatchEvent(t),t.defaultPrevented||m(e??document.body,{select:!0}),y.removeEventListener(o,w),f.remove(S)},0)}}},[y,j,w,S]);let C=n.useCallback(e=>{if(!d&&!p||S.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var r;let t,a=e.currentTarget,[s,i]=[h(t=u(r=a),r),h(t.reverse(),r)];s&&i?e.shiftKey||n!==i?e.shiftKey&&n===s&&(e.preventDefault(),d&&m(i,{select:!0})):(e.preventDefault(),d&&m(s,{select:!0})):n===a&&e.preventDefault()}},[d,p,S.paused]);return(0,i.jsx)(a.Primitive.div,{tabIndex:-1,...v,ref:k,onKeyDown:C})});function u(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function h(e,t){for(let n of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function m(e,{select:t=!1}={}){if(e&&e.focus){var n;let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}d.displayName="FocusScope";var f=(t=[],{add(e){let n=t[0];e!==n&&n?.pause(),(t=p(t,e)).unshift(e)},remove(e){t=p(t,e),t[0]?.resume()}});function p(e,t){let n=[...e],r=n.indexOf(t);return -1!==r&&n.splice(r,1),n}e.s(["FocusScope",()=>d])},85369,e=>{"use strict";var t,n,r,a,s,i,l,o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}"function"==typeof SuppressedError&&SuppressedError;var d=e.i(71645),u="right-scroll-bar-position",h="width-before-scroll-bar";function m(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var f="u">typeof window?d.useLayoutEffect:d.useEffect,p=new WeakMap,g=(void 0===t&&(t={}),(void 0===n&&(n=function(e){return e}),r=[],a=!1,s={read:function(){if(a)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:null},useMedium:function(e){var t=n(e,a);return r.push(t),function(){r=r.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(a=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){a=!0;var t=[];if(r.length){var n=r;r=[],n.forEach(e),t=r}var s=function(){var n=t;t=[],n.forEach(e)},i=function(){return Promise.resolve().then(s)};i(),r={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),r}}}}).options=o({async:!0,ssr:!1},t),s),x=function(){},v=d.forwardRef(function(e,t){var n,r,a,s,i=d.useRef(null),l=d.useState({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:x}),u=l[0],h=l[1],v=e.forwardProps,y=e.children,b=e.className,j=e.removeScrollBar,w=e.enabled,N=e.shards,k=e.sideCar,S=e.noRelative,C=e.noIsolation,T=e.inert,E=e.allowPinchZoom,D=e.as,M=e.gapMode,L=c(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=(n=[i,t],r=function(e){return n.forEach(function(t){return m(t,e)})},(a=(0,d.useState)(function(){return{value:null,callback:r,facade:{get current(){return a.value},set current(value){var e=a.value;e!==value&&(a.value=value,a.callback(value,e))}}}})[0]).callback=r,s=a.facade,f(function(){var e=p.get(s);if(e){var t=new Set(e),r=new Set(n),a=s.current;t.forEach(function(e){r.has(e)||m(e,null)}),r.forEach(function(e){t.has(e)||m(e,a)})}p.set(s,n)},[n]),s),A=o(o({},L),u);return d.createElement(d.Fragment,null,w&&d.createElement(k,{sideCar:g,removeScrollBar:j,shards:N,noRelative:S,noIsolation:C,inert:T,setCallbacks:h,allowPinchZoom:!!E,lockRef:i,gapMode:M}),v?d.cloneElement(d.Children.only(y),o(o({},A),{ref:I})):d.createElement(void 0===D?"div":D,o({},A,{className:b,ref:I}),y))});v.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},v.classNames={fullWidth:h,zeroRight:u};var y=function(e){var t=e.sideCar,n=c(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw Error("Sidecar medium not found");return d.createElement(r,o({},n))};y.isSideCarExport=!0;var b=function(){var e=0,t=null;return{add:function(n){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=l||("u">typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var r,a;(r=t).styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),a=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(a)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},j=function(){var e=b();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},w=function(){var e=j();return function(t){return e(t.styles,t.dynamic),null}},N={left:0,top:0,right:0,gap:0},k=function(e){return parseInt(e||"",10)||0},S=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[k(n),k(r),k(a)]},C=function(e){if(void 0===e&&(e="margin"),"u"<typeof window)return N;var t=S(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},T=w(),E="data-scroll-locked",D=function(e,t,n,r){var a=e.left,s=e.top,i=e.right,l=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(l,"px ").concat(r,";\n  }\n  body[").concat(E,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(u," {\n    right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(h," {\n    margin-right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(u," .").concat(u," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(h," .").concat(h," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(E,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},M=function(){var e=parseInt(document.body.getAttribute(E)||"0",10);return isFinite(e)?e:0},L=function(){d.useEffect(function(){return document.body.setAttribute(E,(M()+1).toString()),function(){var e=M()-1;e<=0?document.body.removeAttribute(E):document.body.setAttribute(E,e.toString())}},[])},I=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=void 0===r?"margin":r;L();var s=d.useMemo(function(){return C(a)},[a]);return d.createElement(T,{styles:D(s,!t,a,n?"":"!important")})},A=!1;if("u">typeof window)try{var R=Object.defineProperty({},"passive",{get:function(){return A=!0,!0}});window.addEventListener("test",R,R),window.removeEventListener("test",R,R)}catch(e){A=!1}var P=!!A&&{passive:!1},B=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&(n.overflowY!==n.overflowX||"TEXTAREA"===e.tagName||"visible"!==n[t])},F=function(e,t){var n=t.ownerDocument,r=t;do{if("u">typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),O(e,r)){var a=$(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==n.body)return!1},O=function(e,t){return"v"===e?B(t,"overflowY"):B(t,"overflowX")},$=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},z=function(e,t,n,r,a){var s,i=(s=window.getComputedStyle(t).direction,"h"===e&&"rtl"===s?-1:1),l=i*r,o=n.target,c=t.contains(o),d=!1,u=l>0,h=0,m=0;do{if(!o)break;var f=$(e,o),p=f[0],g=f[1]-f[2]-i*p;(p||g)&&O(e,o)&&(h+=g,m+=p);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&o!==document.body||c&&(t.contains(o)||t===o))return u&&(a&&1>Math.abs(h)||!a&&l>h)?d=!0:!u&&(a&&1>Math.abs(m)||!a&&-l>m)&&(d=!0),d},_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},V=function(e){return[e.deltaX,e.deltaY]},W=function(e){return e&&"current"in e?e.current:e},U=0,K=[];let Y=(i=function(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),a=d.useState(U++)[0],s=d.useState(w)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=(function(e,t,n){if(n||2==arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(W),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var a,s=_(e),l=n.current,o="deltaX"in e?e.deltaX:l[0]-s[0],c="deltaY"in e?e.deltaY:l[1]-s[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=F(u,d);if(!h)return!0;if(h?a=u:(a="v"===u?"h":"v",h=F(u,d)),!h)return!1;if(!r.current&&"changedTouches"in e&&(o||c)&&(r.current=a),!a)return!0;var m=r.current||a;return z(m,t,e,"h"===m?o:c,!0)},[]),o=d.useCallback(function(e){if(K.length&&K[K.length-1]===s){var n="deltaY"in e?V(e):_(e),r=t.current.filter(function(t){var r;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(r=t.delta,r[0]===n[0]&&r[1]===n[1])})[0];if(r&&r.should){e.cancelable&&e.preventDefault();return}if(!r){var a=(i.current.shards||[]).map(W).filter(Boolean).filter(function(t){return t.contains(e.target)});(a.length>0?l(e,a[0]):!i.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=d.useCallback(function(e,n,r,a){var s={name:e,delta:n,target:r,should:a,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(r)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),u=d.useCallback(function(e){n.current=_(e),r.current=void 0},[]),h=d.useCallback(function(t){c(t.type,V(t),t.target,l(t,e.lockRef.current))},[]),m=d.useCallback(function(t){c(t.type,_(t),t.target,l(t,e.lockRef.current))},[]);d.useEffect(function(){return K.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",o,P),document.addEventListener("touchmove",o,P),document.addEventListener("touchstart",u,P),function(){K=K.filter(function(e){return e!==s}),document.removeEventListener("wheel",o,P),document.removeEventListener("touchmove",o,P),document.removeEventListener("touchstart",u,P)}},[]);var f=e.removeScrollBar,p=e.inert;return d.createElement(d.Fragment,null,p?d.createElement(s,{styles:"\n  .block-interactivity-".concat(a," {pointer-events: none;}\n  .allow-interactivity-").concat(a," {pointer-events: all;}\n")}):null,f?d.createElement(I,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},g.useMedium(i),y);var H=d.forwardRef(function(e,t){return d.createElement(v,o({},e,{ref:t,sideCar:Y}))});H.classNames=v.classNames,e.s(["RemoveScroll",0,H],85369)},86312,e=>{"use strict";var t=new WeakMap,n=new WeakMap,r={},a=0,s=function(e){return e&&(e.host||s(e.parentNode))},i=function(e,i,l,o){var c=(Array.isArray(e)?e:[e]).map(function(e){if(i.contains(e))return e;var t=s(e);return t&&i.contains(t)?t:(console.error("aria-hidden",e,"in not contained inside",i,". Doing nothing"),null)}).filter(function(e){return!!e});r[l]||(r[l]=new WeakMap);var d=r[l],u=[],h=new Set,m=new Set(c),f=function(e){!e||h.has(e)||(h.add(e),f(e.parentNode))};c.forEach(f);var p=function(e){!e||m.has(e)||Array.prototype.forEach.call(e.children,function(e){if(h.has(e))p(e);else try{var r=e.getAttribute(o),a=null!==r&&"false"!==r,s=(t.get(e)||0)+1,i=(d.get(e)||0)+1;t.set(e,s),d.set(e,i),u.push(e),1===s&&a&&n.set(e,!0),1===i&&e.setAttribute(l,"true"),a||e.setAttribute(o,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return p(i),h.clear(),a++,function(){u.forEach(function(e){var r=t.get(e)-1,a=d.get(e)-1;t.set(e,r),d.set(e,a),r||(n.has(e)||e.removeAttribute(o),n.delete(e)),a||e.removeAttribute(l)}),--a||(t=new WeakMap,t=new WeakMap,n=new WeakMap,r={})}},l=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||("u"<typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),i(r,a,n,"aria-hidden")):function(){return null}};e.s(["hideOthers",()=>l])},63059,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},14683,e=>{"use strict";let t=(0,e.i(75254).default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Circle",()=>t],14683)},73375,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],73375)},24687,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(75157);let a=n.forwardRef(({className:e,...n},a)=>(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...n}));a.displayName="Textarea",e.s(["Textarea",()=>a])},91834,e=>{"use strict";var t=e.i(43476);e.i(64862);var n=e.i(34075),r=e.i(13424),a=e.i(9085),s=e.i(32693),i=e.i(31278),l=e.i(73375),o=e.i(63059),c=e.i(7233),d=e.i(37727),u=e.i(95468),h=e.i(14683),m=e.i(3116),f=e.i(27612),p=e.i(92930),g=e.i(75254);let x=(0,g.default)("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);var v=e.i(89853);let y=(0,g.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var b=e.i(76639),j=e.i(19455),w=e.i(93479),N=e.i(10204),k=e.i(24687),S=e.i(67489),C=e.i(87486),T=e.i(71645),E=e.i(46696);let D={low:"bg-muted text-muted-foreground",medium:"bg-primary/10 text-primary",high:"bg-warning/10 text-warning",urgent:"bg-destructive/10 text-destructive"},M={todo:h.Circle,"in-progress":m.Clock,completed:u.CheckCircle2,cancelled:d.X},L={"follow-up":"Follow-up",call:"Call",meeting:"Meeting",email:"Email",research:"Research",admin:"Admin",other:"Other"},I={title:"",description:"",dueDate:"",priority:"medium",assignedTo:"",category:"other",leadId:"",leadName:""};function A(){let{user:e}=(0,s.useAuth)(),{data:u=[],isLoading:m}=(0,n.useTasks)(),{data:g=[]}=(0,r.useAgents)(),{data:A=[]}=(0,a.useLeads)(),R=(0,n.useCreateTask)(),P=(0,n.useUpdateTask)(),B=(0,n.useDeleteTask)(),F=new Date,[O,$]=(0,T.useState)({year:F.getFullYear(),month:F.getMonth()}),[z,_]=(0,T.useState)(null),[V,W]=(0,T.useState)("calendar"),[U,K]=(0,T.useState)("all"),[Y,H]=(0,T.useState)("all"),[X,q]=(0,T.useState)(!1),[Z,G]=(0,T.useState)(null),[J,Q]=(0,T.useState)(I),[ee,et]=(0,T.useState)(null),{year:en,month:er}=O,ea=new Date(en,er+1,0).getDate(),es=new Date(en,er,1).getDay(),ei=`${F.getFullYear()}-${String(F.getMonth()+1).padStart(2,"0")}-${String(F.getDate()).padStart(2,"0")}`,el=new Date(en,er,1).toLocaleString("default",{month:"long"}),eo=(0,T.useMemo)(()=>u.reduce((e,t)=>{let n=new Date(t.dueDate);if(n.getFullYear()===en&&n.getMonth()===er){let r=n.getDate();e[r]=e[r]||[],e[r].push(t)}return e},{}),[u,en,er]),ec=z&&eo[z]||[],ed=(0,T.useMemo)(()=>u.filter(e=>("all"===U||e.status===U)&&("all"===Y||e.priority===Y)),[u,U,Y]),eu=Object.values(eo).flat().length,eh=u.filter(e=>"completed"===e.status).length,em=u.filter(e=>"completed"!==e.status&&"cancelled"!==e.status&&new Date(e.dueDate).toISOString().split("T")[0]<ei).length,ef=t=>{G(null);let n=t?`${en}-${String(er+1).padStart(2,"0")}-${String(t).padStart(2,"0")}`:ei;Q({...I,dueDate:n,assignedTo:e?.name||""}),q(!0)},ep=e=>{G(e),Q({title:e.title,description:e.description||"",dueDate:e.dueDate?.split("T")[0]||"",priority:e.priority,assignedTo:e.assignedTo,category:e.category,leadId:e.leadId||"",leadName:e.leadName||""}),q(!0)},eg=async()=>{if(!J.title||!J.dueDate||!J.assignedTo)return void E.toast.error("Title, due date, and assigned agent are required");try{Z?(await P.mutateAsync({id:Z.id,data:J}),E.toast.success("Task updated")):(await R.mutateAsync(J),E.toast.success("Task created")),q(!1),Q(I),G(null)}catch(e){E.toast.error(e.message||"Failed to save task")}},ex=async e=>{let t="completed"===e.status?"todo":"completed";try{await P.mutateAsync({id:e.id,data:{status:t}}),E.toast.success("completed"===t?"Task completed!":"Task reopened")}catch{E.toast.error("Failed to update task")}},ev=async()=>{if(ee)try{await B.mutateAsync(ee.id),E.toast.success("Task deleted"),et(null)}catch{E.toast.error("Failed to delete task")}};if(m)return(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsx)(i.Loader2,{className:"h-8 w-8 animate-spin text-primary"})});let ey=(e,n=!1)=>{let r="completed"!==e.status&&"cancelled"!==e.status&&e.dueDate?.split("T")[0]<ei,a="completed"===e.status,s=M[e.status]||h.Circle;return n?(0,t.jsx)("div",{className:`rounded px-1.5 py-0.5 text-xs truncate cursor-pointer hover:opacity-80 transition-opacity
            ${a?"bg-success/10 text-success line-through opacity-60":r?"bg-destructive/10 text-destructive":"bg-primary/10 text-primary"}
          `,onClick:t=>{t.stopPropagation(),ep(e)},children:e.title},e.id):(0,t.jsx)("div",{className:`rounded-lg border border-border p-3 transition-colors ${a?"opacity-60":"hover:bg-secondary/40"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("button",{className:"mt-0.5 shrink-0",onClick:()=>ex(e),children:(0,t.jsx)(s,{className:`h-4 w-4 ${a?"text-success":r?"text-destructive":"text-muted-foreground"}`})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("p",{className:`text-sm font-medium text-foreground truncate ${a?"line-through":""}`,children:e.title})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[(0,t.jsx)(C.Badge,{className:`text-xs ${D[e.priority]}`,children:e.priority}),(0,t.jsx)(C.Badge,{variant:"outline",className:"text-xs",children:L[e.category]||e.category}),r&&(0,t.jsx)(C.Badge,{variant:"destructive",className:"text-xs",children:"Overdue"}),e.assignedTo&&(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e.assignedTo})]}),e.description&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:e.description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[(0,t.jsx)(j.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>ep(e),children:(0,t.jsx)(p.Edit2,{className:"h-3.5 w-3.5"})}),(0,t.jsx)(j.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-destructive",onClick:()=>et(e),children:(0,t.jsx)(f.Trash2,{className:"h-3.5 w-3.5"})})]})]})},e.id)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Task Manager"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[u.length," task",1!==u.length?"s":""," · ",eh," completed · ",em>0?`${em} overdue`:"none overdue"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex rounded-lg border border-border overflow-hidden",children:[(0,t.jsxs)(j.Button,{variant:"calendar"===V?"default":"ghost",size:"sm",className:"rounded-none gap-1.5",onClick:()=>W("calendar"),children:[(0,t.jsx)(v.CalendarDays,{className:"h-4 w-4"}),"Calendar"]}),(0,t.jsxs)(j.Button,{variant:"list"===V?"default":"ghost",size:"sm",className:"rounded-none gap-1.5",onClick:()=>W("list"),children:[(0,t.jsx)(x,{className:"h-4 w-4"}),"List"]})]}),(0,t.jsx)(j.Button,{variant:"outline",size:"sm",onClick:()=>{$({year:F.getFullYear(),month:F.getMonth()}),_(F.getDate())},className:"px-3",children:"Today"}),(0,t.jsxs)(j.Button,{onClick:()=>ef(),className:"gradient-primary border-0 gap-1.5",size:"sm",children:[(0,t.jsx)(c.Plus,{className:"h-4 w-4"}),"New Task"]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 auto-rows-fr",children:[{label:"Total Tasks",value:u.length,color:"text-foreground"},{label:"To Do",value:u.filter(e=>"todo"===e.status).length,color:"text-primary"},{label:"In Progress",value:u.filter(e=>"in-progress"===e.status).length,color:"text-warning"},{label:"Completed",value:eh,color:"text-success"}].map(e=>(0,t.jsxs)("div",{className:"rounded-xl border border-border bg-card p-3 shadow-card text-center h-full flex flex-col justify-center",children:[(0,t.jsx)("p",{className:`text-2xl font-bold ${e.color}`,children:e.value}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.label})]},e.label))}),"calendar"===V?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Button,{variant:"outline",size:"sm",onClick:()=>{$(e=>0===e.month?{year:e.year-1,month:11}:{year:e.year,month:e.month-1}),_(null)},children:(0,t.jsx)(l.ChevronLeft,{className:"h-4 w-4"})}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-foreground min-w-[140px] text-center",children:[el," ",en]}),(0,t.jsx)(j.Button,{variant:"outline",size:"sm",onClick:()=>{$(e=>11===e.month?{year:e.year+1,month:0}:{year:e.year,month:e.month+1}),_(null)},children:(0,t.jsx)(o.ChevronRight,{className:"h-4 w-4"})}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:[eu," task",1!==eu?"s":""," this month"]})]}),(0,t.jsxs)("div",{className:"flex gap-4 flex-col lg:flex-row",children:[(0,t.jsx)("div",{className:"flex-1 rounded-xl border border-border bg-card shadow-card overflow-hidden",children:(0,t.jsxs)("div",{className:"grid grid-cols-7",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,t.jsx)("div",{className:"border-b border-r border-border px-2 py-2 text-center text-xs font-medium text-muted-foreground bg-secondary/50",children:e},e)),Array.from({length:es}).map((e,n)=>(0,t.jsx)("div",{className:"border-b border-r border-border min-h-[90px] bg-muted/20"},`e-${n}`)),Array.from({length:ea}).map((e,n)=>{let r=n+1,a=`${en}-${String(er+1).padStart(2,"0")}-${String(r).padStart(2,"0")}`,s=a===ei,i=z===r,l=eo[r]||[],o=l.some(e=>"completed"!==e.status&&"cancelled"!==e.status&&a<ei);return(0,t.jsxs)("div",{className:`border-b border-r border-border min-h-[90px] p-1.5 cursor-pointer transition-colors
                        ${s?"bg-accent":""}
                        ${i?"ring-2 ring-inset ring-primary":""}
                        ${!s&&!i?"hover:bg-secondary/30":""}
                      `,onClick:()=>_(r===z?null:r),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-xs font-medium
                          ${s?"gradient-primary text-primary-foreground font-bold":"text-foreground"}
                        `,children:r}),l.length>0&&(0,t.jsx)("span",{className:`text-xs font-medium px-1.5 rounded-full ${o?"bg-destructive/10 text-destructive":"bg-primary/10 text-primary"}`,children:l.length})]}),(0,t.jsxs)("div",{className:"mt-1 space-y-0.5",children:[l.slice(0,2).map(e=>ey(e,!0)),l.length>2&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground pl-1",children:["+",l.length-2]})]})]},r)})]})}),null!==z&&(0,t.jsxs)("div",{className:"lg:w-80 rounded-xl border border-border bg-card shadow-card p-4 space-y-3 h-fit",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"font-semibold text-foreground",children:[el," ",z]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(j.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>ef(z),children:(0,t.jsx)(c.Plus,{className:"h-4 w-4"})}),(0,t.jsx)(j.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>_(null),children:(0,t.jsx)(d.X,{className:"h-4 w-4"})})]})]}),0===ec.length?(0,t.jsxs)("div",{className:"text-center py-6",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"No tasks on this day"}),(0,t.jsxs)(j.Button,{variant:"outline",size:"sm",onClick:()=>ef(z),className:"gap-1.5",children:[(0,t.jsx)(c.Plus,{className:"h-3.5 w-3.5"}),"Add Task"]})]}):(0,t.jsx)("div",{className:"space-y-2",children:ec.map(e=>ey(e))})]})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(y,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Filters:"})]}),(0,t.jsxs)(S.Select,{value:U,onValueChange:K,children:[(0,t.jsx)(S.SelectTrigger,{className:"w-[140px] h-8 text-xs",children:(0,t.jsx)(S.SelectValue,{})}),(0,t.jsxs)(S.SelectContent,{children:[(0,t.jsx)(S.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(S.SelectItem,{value:"todo",children:"To Do"}),(0,t.jsx)(S.SelectItem,{value:"in-progress",children:"In Progress"}),(0,t.jsx)(S.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(S.SelectItem,{value:"cancelled",children:"Cancelled"})]})]}),(0,t.jsxs)(S.Select,{value:Y,onValueChange:H,children:[(0,t.jsx)(S.SelectTrigger,{className:"w-[140px] h-8 text-xs",children:(0,t.jsx)(S.SelectValue,{})}),(0,t.jsxs)(S.SelectContent,{children:[(0,t.jsx)(S.SelectItem,{value:"all",children:"All Priorities"}),(0,t.jsx)(S.SelectItem,{value:"urgent",children:"Urgent"}),(0,t.jsx)(S.SelectItem,{value:"high",children:"High"}),(0,t.jsx)(S.SelectItem,{value:"medium",children:"Medium"}),(0,t.jsx)(S.SelectItem,{value:"low",children:"Low"})]})]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground ml-auto",children:[ed.length," task",1!==ed.length?"s":""]})]}),(0,t.jsx)("div",{className:"rounded-xl border border-border bg-card shadow-card overflow-hidden",children:0===ed.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(x,{className:"h-10 w-10 mx-auto mb-3 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"No tasks found"}),(0,t.jsxs)(j.Button,{onClick:()=>ef(),className:"gradient-primary border-0 gap-1.5",size:"sm",children:[(0,t.jsx)(c.Plus,{className:"h-4 w-4"}),"Create First Task"]})]}):(0,t.jsx)("div",{className:"divide-y divide-border",children:ed.map(e=>{let n="completed"!==e.status&&"cancelled"!==e.status&&e.dueDate?.split("T")[0]<ei,r="completed"===e.status,a=M[e.status]||h.Circle;return(0,t.jsxs)("div",{className:`flex items-center gap-3 px-4 py-3 transition-colors ${r?"opacity-60":"hover:bg-secondary/30"}`,children:[(0,t.jsx)("button",{onClick:()=>ex(e),className:"shrink-0",children:(0,t.jsx)(a,{className:`h-5 w-5 ${r?"text-success":n?"text-destructive":"text-muted-foreground"}`})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:`text-sm font-medium text-foreground truncate ${r?"line-through":""}`,children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,t.jsx)(C.Badge,{className:`text-xs ${D[e.priority]}`,children:e.priority}),(0,t.jsx)(C.Badge,{variant:"outline",className:"text-xs",children:L[e.category]||e.category}),n&&(0,t.jsx)(C.Badge,{variant:"destructive",className:"text-xs",children:"Overdue"})]})]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground hidden sm:block shrink-0",children:e.assignedTo}),(0,t.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[(0,t.jsx)(j.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>ep(e),children:(0,t.jsx)(p.Edit2,{className:"h-3.5 w-3.5"})}),(0,t.jsx)(j.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-destructive",onClick:()=>et(e),children:(0,t.jsx)(f.Trash2,{className:"h-3.5 w-3.5"})})]})]},e.id)})})})]}),(0,t.jsx)(b.Dialog,{open:X,onOpenChange:q,children:(0,t.jsxs)(b.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(b.DialogHeader,{children:[(0,t.jsx)(b.DialogTitle,{children:Z?"Edit Task":"New Task"}),(0,t.jsx)(b.DialogDescription,{children:Z?"Update the task details below":"Create a new task and assign it to a team member"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.Label,{htmlFor:"taskTitle",children:"Title *"}),(0,t.jsx)(w.Input,{id:"taskTitle",placeholder:"e.g. Follow up with John Smith",value:J.title,onChange:e=>Q({...J,title:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.Label,{htmlFor:"taskDueDate",children:"Due Date *"}),(0,t.jsx)(w.Input,{id:"taskDueDate",type:"date",value:J.dueDate,onChange:e=>Q({...J,dueDate:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.Label,{children:"Priority"}),(0,t.jsxs)(S.Select,{value:J.priority,onValueChange:e=>Q({...J,priority:e}),children:[(0,t.jsx)(S.SelectTrigger,{children:(0,t.jsx)(S.SelectValue,{})}),(0,t.jsxs)(S.SelectContent,{children:[(0,t.jsx)(S.SelectItem,{value:"low",children:"Low"}),(0,t.jsx)(S.SelectItem,{value:"medium",children:"Medium"}),(0,t.jsx)(S.SelectItem,{value:"high",children:"High"}),(0,t.jsx)(S.SelectItem,{value:"urgent",children:"Urgent"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.Label,{children:"Assign To *"}),(0,t.jsxs)(S.Select,{value:J.assignedTo,onValueChange:e=>Q({...J,assignedTo:e}),children:[(0,t.jsx)(S.SelectTrigger,{children:(0,t.jsx)(S.SelectValue,{placeholder:"Select agent..."})}),(0,t.jsx)(S.SelectContent,{children:g.map(e=>(0,t.jsx)(S.SelectItem,{value:e.name,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.Label,{children:"Category"}),(0,t.jsxs)(S.Select,{value:J.category,onValueChange:e=>Q({...J,category:e}),children:[(0,t.jsx)(S.SelectTrigger,{children:(0,t.jsx)(S.SelectValue,{})}),(0,t.jsx)(S.SelectContent,{children:Object.entries(L).map(([e,n])=>(0,t.jsx)(S.SelectItem,{value:e,children:n},e))})]})]})]}),Z&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.Label,{children:"Status"}),(0,t.jsxs)(S.Select,{value:Z.status,onValueChange:async e=>{try{await P.mutateAsync({id:Z.id,data:{status:e}}),G({...Z,status:e}),E.toast.success("Status updated")}catch{E.toast.error("Failed to update status")}},children:[(0,t.jsx)(S.SelectTrigger,{children:(0,t.jsx)(S.SelectValue,{})}),(0,t.jsxs)(S.SelectContent,{children:[(0,t.jsx)(S.SelectItem,{value:"todo",children:"To Do"}),(0,t.jsx)(S.SelectItem,{value:"in-progress",children:"In Progress"}),(0,t.jsx)(S.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(S.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.Label,{children:"Link to Lead (optional)"}),(0,t.jsxs)(S.Select,{value:J.leadId||"none",onValueChange:e=>{if("none"===e)Q({...J,leadId:"",leadName:""});else{let t=A.find(t=>t.id===e||t._id===e);Q({...J,leadId:e,leadName:t?.name||""})}},children:[(0,t.jsx)(S.SelectTrigger,{children:(0,t.jsx)(S.SelectValue,{placeholder:"No lead linked"})}),(0,t.jsxs)(S.SelectContent,{children:[(0,t.jsx)(S.SelectItem,{value:"none",children:"No lead"}),A.slice(0,50).map(e=>(0,t.jsx)(S.SelectItem,{value:e.id||e._id,children:e.name},e.id||e._id))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.Label,{htmlFor:"taskDesc",children:"Description"}),(0,t.jsx)(k.Textarea,{id:"taskDesc",placeholder:"Task details...",value:J.description,onChange:e=>Q({...J,description:e.target.value}),rows:3})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(j.Button,{variant:"outline",onClick:()=>q(!1),children:"Cancel"}),(0,t.jsx)(j.Button,{onClick:eg,disabled:R.isPending||P.isPending,className:"gradient-primary border-0",children:R.isPending||P.isPending?"Saving...":Z?"Update Task":"Create Task"})]})]})}),(0,t.jsx)(b.Dialog,{open:!!ee,onOpenChange:e=>!e&&et(null),children:(0,t.jsxs)(b.DialogContent,{className:"max-w-sm",children:[(0,t.jsxs)(b.DialogHeader,{children:[(0,t.jsx)(b.DialogTitle,{children:"Delete Task"}),(0,t.jsxs)(b.DialogDescription,{children:['Are you sure you want to delete "',(0,t.jsx)("span",{className:"font-semibold text-foreground",children:ee?.title}),'"? This cannot be undone.']})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,t.jsx)(j.Button,{variant:"outline",onClick:()=>et(null),children:"Cancel"}),(0,t.jsx)(j.Button,{variant:"destructive",onClick:ev,disabled:B.isPending,children:B.isPending?"Deleting...":"Delete"})]})]})})]})}e.s(["default",()=>A],91834)}]);