(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19455,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(91918),r=e.i(25913),d=e.i(75157);let n=(0,r.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef(({className:e,variant:a,size:r,asChild:l=!1,...i},o)=>{let c=l?s.Slot:"button";return(0,t.jsx)(c,{className:(0,d.cn)(n({variant:a,size:r,className:e})),ref:o,...i})});l.displayName="Button",e.s(["Button",()=>l])},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},92930,e=>{"use strict";let t=(0,e.i(75254).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],92930)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},9879,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(87316),r=e.i(7233),d=e.i(27612),n=e.i(92930),l=e.i(31278),i=e.i(3116),o=e.i(84614),c=e.i(75254);let m=(0,c.default)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var u=e.i(37727),x=e.i(69638);let h=(0,c.default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var p=e.i(87486),g=e.i(19455);e.i(64862);var b=e.i(2059),f=e.i(9085);let v={title:"",description:"",date:new Date().toISOString().split("T")[0],time:"09:00",duration:30,leadId:"",leadName:"",agenda:"",confirmationSent:!1,nextStep:"",outcome:""};function j(){let{data:e=[],isLoading:c}=(0,b.useMeetings)(),{data:j=[]}=(0,f.useLeads)(),N=(0,b.useCreateMeeting)(),y=(0,b.useDeleteMeeting)(),k=(0,b.useUpdateMeeting)(),[w,C]=(0,a.useState)(!1),[S,M]=(0,a.useState)(null),[A,T]=(0,a.useState)({...v}),[B,I]=(0,a.useState)("all"),D=new Date().toISOString().split("T")[0],P=(0,a.useMemo)(()=>{let t=[...e];return"today"===B?t=t.filter(e=>e.date===D):"upcoming"===B&&(t=t.filter(e=>e.date>=D&&"scheduled"===e.status)),t.sort((e,t)=>e.date===t.date?e.time<t.time?-1:1:e.date<t.date?-1:1)},[e,B,D]),U=(0,a.useMemo)(()=>e.filter(e=>e.date===D),[e,D]),z=async()=>{if(!A.title||!A.date||!A.time)return;let e=A.leadName;if(A.leadId){let t=j.find(e=>e.id===A.leadId);e=t?.name||""}let t={...A,leadName:e};S?await k.mutateAsync({id:S,data:t}):await N.mutateAsync(t),T({...v}),C(!1),M(null)},L=async e=>{confirm("Delete this meeting?")&&await y.mutateAsync(e)},O=async(e,t)=>{await k.mutateAsync({id:e,data:{status:t}})};return c?(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsx)(l.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Meetings"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[U.length," meeting",1!==U.length?"s":""," scheduled today"]})]}),(0,t.jsxs)(g.Button,{onClick:()=>{T({...v}),M(null),C(!0)},children:[(0,t.jsx)(r.Plus,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:["all","today","upcoming"].map(e=>(0,t.jsx)("button",{onClick:()=>I(e),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${B===e?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:"all"===e?"All Meetings":"today"===e?"Today":"Upcoming"},e))}),w&&(0,t.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6 shadow-card",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-base font-semibold text-foreground",children:S?"Edit Meeting":"Schedule New Meeting"}),(0,t.jsx)("button",{onClick:()=>{C(!1),M(null)},className:"text-muted-foreground hover:text-foreground",children:(0,t.jsx)(u.X,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Title *"}),(0,t.jsx)("input",{className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:A.title,onChange:e=>T(t=>({...t,title:e.target.value})),placeholder:"Meeting title..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Date *"}),(0,t.jsx)("input",{type:"date",className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:A.date,onChange:e=>T(t=>({...t,date:e.target.value}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Time *"}),(0,t.jsx)("input",{type:"time",className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:A.time,onChange:e=>T(t=>({...t,time:e.target.value}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Duration (min)"}),(0,t.jsx)("input",{type:"number",className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:A.duration,onChange:e=>T(t=>({...t,duration:Number(e.target.value)||30}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Attach Lead (optional)"}),(0,t.jsxs)("select",{className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:A.leadId,onChange:e=>T(t=>({...t,leadId:e.target.value})),children:[(0,t.jsx)("option",{value:"",children:"No lead attached"}),j.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," â€” ",e.companyName||e.email]},e.id))]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Description / Prep Notes"}),(0,t.jsx)("textarea",{className:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm min-h-[60px]",value:A.description,onChange:e=>T(t=>({...t,description:e.target.value})),placeholder:"Internal prep notes..."})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Agenda (sent to prospect)"}),(0,t.jsx)("textarea",{className:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm min-h-[80px]",value:A.agenda,onChange:e=>T(t=>({...t,agenda:e.target.value})),placeholder:"1. Introductions 2. Pain points 3. Solution overview 4. Next steps..."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"confirmationSent",checked:A.confirmationSent,onChange:e=>T(t=>({...t,confirmationSent:e.target.checked})),className:"h-4 w-4 rounded border-border text-primary"}),(0,t.jsx)("label",{htmlFor:"confirmationSent",className:"text-sm text-foreground cursor-pointer",children:"Confirmation email sent to prospect"})]}),S&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Next Step"}),(0,t.jsx)("input",{className:"w-full h-9 rounded-lg border border-input bg-background px-3 text-sm",value:A.nextStep,onChange:e=>T(t=>({...t,nextStep:e.target.value})),placeholder:"What happens after this meeting?"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Outcome / Notes"}),(0,t.jsx)("textarea",{className:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm min-h-[60px]",value:A.outcome,onChange:e=>T(t=>({...t,outcome:e.target.value})),placeholder:"What happened? What was agreed?"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end mt-4 gap-2",children:[(0,t.jsx)(g.Button,{variant:"outline",onClick:()=>{C(!1),M(null)},children:"Cancel"}),(0,t.jsx)(g.Button,{onClick:z,disabled:!A.title||!A.date||!A.time,children:S?"Update":"Schedule"})]})]}),(0,t.jsx)("div",{className:"space-y-3",children:0===P.length?(0,t.jsxs)("div",{className:"rounded-xl border border-dashed border-border p-12 text-center",children:[(0,t.jsx)(s.Calendar,{className:"h-10 w-10 text-muted-foreground mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"No meetings found"})]}):P.map(e=>(0,t.jsx)("div",{className:"rounded-xl border border-border bg-card p-5 shadow-card hover:shadow-card-hover transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-foreground truncate",children:e.title}),(0,t.jsx)(p.Badge,{variant:"completed"===e.status?"default":"cancelled"===e.status?"destructive":"secondary",className:"text-xs",children:e.status})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(s.Calendar,{className:"h-3.5 w-3.5"}),e.date]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(i.Clock,{className:"h-3.5 w-3.5"}),e.time," (",e.duration,"min)"]}),e.createdByName&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(o.User,{className:"h-3.5 w-3.5"}),e.createdByName]}),e.leadName&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(m,{className:"h-3.5 w-3.5"}),"Lead: ",e.leadName]})]}),e.description&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:e.description}),e.agenda&&(0,t.jsxs)("div",{className:"mt-2 rounded-md bg-secondary/40 px-2.5 py-1.5",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-0.5",children:"Agenda"}),(0,t.jsx)("p",{className:"text-xs text-foreground whitespace-pre-line",children:e.agenda})]}),"completed"===e.status&&e.nextStep&&(0,t.jsxs)("div",{className:"mt-2 flex items-start gap-1.5",children:[(0,t.jsx)(x.CheckCircle,{className:"h-3.5 w-3.5 text-emerald-500 mt-0.5 shrink-0"}),(0,t.jsxs)("p",{className:"text-xs text-foreground",children:[(0,t.jsx)("span",{className:"font-medium",children:"Next step:"})," ",e.nextStep]})]}),"completed"===e.status&&!e.nextStep&&(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-1.5 rounded-md bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-900/40 px-2.5 py-1.5",children:[(0,t.jsx)(h,{className:"h-3.5 w-3.5 text-amber-500 shrink-0"}),(0,t.jsx)("p",{className:"text-xs text-amber-700 dark:text-amber-400 font-medium",children:"No next step recorded â€” edit to add one"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:["scheduled"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>O(e.id,"completed"),className:"p-1.5 rounded-md text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-950 transition-colors",title:"Mark completed",children:(0,t.jsx)(x.CheckCircle,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>O(e.id,"cancelled"),className:"p-1.5 rounded-md text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-950 transition-colors",title:"Cancel",children:(0,t.jsx)(h,{className:"h-4 w-4"})})]}),(0,t.jsx)("button",{onClick:()=>{T({title:e.title,description:e.description||"",date:e.date,time:e.time,duration:e.duration||30,leadId:e.leadId||"",leadName:e.leadName||"",agenda:e.agenda||"",confirmationSent:e.confirmationSent||!1,nextStep:e.nextStep||"",outcome:e.outcome||""}),M(e.id),C(!0)},className:"p-1.5 rounded-md text-muted-foreground hover:bg-muted transition-colors",title:"Edit",children:(0,t.jsx)(n.Edit2,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>L(e.id),className:"p-1.5 rounded-md text-red-500 hover:bg-red-50 dark:hover:bg-red-950 transition-colors",title:"Delete",children:(0,t.jsx)(d.Trash2,{className:"h-4 w-4"})})]})]})},e.id))})]})}e.s(["default",()=>j],9879)}]);