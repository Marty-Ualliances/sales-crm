(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18685,e=>{"use strict";let t=[{key:"New Lead",label:"New Lead",color:"bg-slate-400",textColor:"text-slate-700",badgeClass:"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-900 dark:text-slate-300"},{key:"Working",label:"Working",color:"bg-blue-400",textColor:"text-blue-700",badgeClass:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900 dark:text-blue-300"},{key:"Connected",label:"Connected",color:"bg-cyan-400",textColor:"text-cyan-700",badgeClass:"bg-cyan-100 text-cyan-700 border-cyan-200 dark:bg-cyan-900 dark:text-cyan-300"},{key:"Qualified",label:"Qualified",color:"bg-violet-400",textColor:"text-violet-700",badgeClass:"bg-violet-100 text-violet-700 border-violet-200 dark:bg-violet-900 dark:text-violet-300"},{key:"Meeting Booked",label:"Meeting Booked",color:"bg-amber-400",textColor:"text-amber-700",badgeClass:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900 dark:text-amber-300"},{key:"Meeting Completed",label:"Meeting Completed",color:"bg-indigo-400",textColor:"text-indigo-700",badgeClass:"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900 dark:text-indigo-300"},{key:"Proposal Sent",label:"Proposal Sent",color:"bg-orange-400",textColor:"text-orange-700",badgeClass:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900 dark:text-orange-300"},{key:"Negotiation",label:"Negotiation",color:"bg-pink-400",textColor:"text-pink-700",badgeClass:"bg-pink-100 text-pink-700 border-pink-200 dark:bg-pink-900 dark:text-pink-300"},{key:"Closed Won",label:"Closed Won",color:"bg-emerald-500",textColor:"text-emerald-700",badgeClass:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900 dark:text-emerald-300"},{key:"Closed Lost",label:"Closed Lost",color:"bg-red-400",textColor:"text-red-700",badgeClass:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900 dark:text-red-300"},{key:"Nurture",label:"Nurture",color:"bg-teal-400",textColor:"text-teal-700",badgeClass:"bg-teal-100 text-teal-700 border-teal-200 dark:bg-teal-900 dark:text-teal-300"}],a=t.map(e=>e.key),r=[{key:"A",label:"A â€“ High",color:"bg-red-500",badgeClass:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900 dark:text-red-300"},{key:"B",label:"B â€“ Medium",color:"bg-amber-500",badgeClass:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900 dark:text-amber-300"},{key:"C",label:"C â€“ Low",color:"bg-slate-400",badgeClass:"bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-800 dark:text-slate-300"}],l=[{field:"companyName",label:"Company Name"},{field:"websiteOrLinkedin",label:"Website or LinkedIn URL",check:e=>!!(e.website||e.companyLinkedinUrl||e.personLinkedinUrl)},{field:"state",label:"Location (State)"},{field:"segment",label:"Segment"},{field:"nameOrTitle",label:"Decision-maker Name or Title",check:e=>!!(e.name&&(e.title||e.name))},{field:"emailOrPhone",label:"Valid Email or Phone",check:e=>!!(e.email||e.workDirectPhone||e.mobilePhone||e.homePhone)},{field:"sourceChannel",label:"Source Channel"}];function s(e){let t=[];for(let a of l)"check"in a&&a.check?a.check(e)||t.push(a.label):e[a.field]||t.push(a.label);return{pass:0===t.length,missing:t}}e.s(["PIPELINE_STAGES",0,t,"PRIORITIES",0,r,"PRIORITY_KEYS",0,["A","B","C"],"SEGMENTS",0,["Insurance","Accounting","Finance","Healthcare","Legal","Other"],"SOURCE_CHANNELS",0,["Cold â€“ High Fit","Warm â€“ Engaged","Cold â€“ Quick Sourced","Cold â€“ Bulk Data","CSV Import","Manual","LinkedIn","Referral","Other"],"STAGE_KEYS",0,a,"TERMINAL_STAGES",0,["Closed Won","Closed Lost","Nurture"],"checkQualityGate",()=>s,"getPriorityBadgeClass",0,e=>r.find(t=>t.key===e)?.badgeClass??"bg-muted text-muted-foreground border-border","getStageBadgeClass",0,e=>t.find(t=>t.key===e)?.badgeClass??"bg-muted text-muted-foreground border-border"])},25652,e=>{"use strict";let t=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],25652)},89853,e=>{"use strict";let t=(0,e.i(75254).default)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);e.s(["CalendarDays",()=>t],89853)},17973,e=>{"use strict";var t=e.i(43476),a=e.i(89853);function r(e,t,a="date"){if("allTime"===t)return e;let l=new Date,s=new Date(l.getFullYear(),l.getMonth(),l.getDate()),d=new Date(s);d.setDate(d.getDate()-1);let o=new Date(s);o.setDate(o.getDate()-6);let n=new Date(l.getFullYear(),l.getMonth(),1);return e.filter(e=>{let r=e[a]||e.createdAt;if(!r)return!1;let l=new Date(r);switch(t){case"today":return l>=s;case"yesterday":return l>=d&&l<s;case"last7days":return l>=o;case"thisMonth":return l>=n;default:return!0}})}function l({value:e,onChange:r}){return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center text-primary shrink-0",children:(0,t.jsx)(a.CalendarDays,{className:"h-4 w-4"})}),(0,t.jsxs)("select",{value:e,onChange:e=>r(e.target.value),className:"h-8 rounded-md border border-input bg-background px-3 text-sm font-medium text-foreground outline-none focus:ring-1 focus:ring-primary/50",children:[(0,t.jsx)("option",{value:"today",children:"Today"}),(0,t.jsx)("option",{value:"yesterday",children:"Yesterday"}),(0,t.jsx)("option",{value:"last7days",children:"Last 7 Days"}),(0,t.jsx)("option",{value:"thisMonth",children:"This Month"}),(0,t.jsx)("option",{value:"allTime",children:"All Time"})]})]})}e.s(["default",()=>l,"filterByDateRange",()=>r])},20278,e=>{"use strict";let t=(0,e.i(75254).default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Target",()=>t],20278)},12426,e=>{"use strict";let t=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],12426)},99298,e=>{"use strict";var t=e.i(43476);e.i(64862);var a=e.i(9085),r=e.i(31278),l=e.i(25652),s=e.i(12426),d=e.i(61911);let o=(0,e.i(75254).default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var n=e.i(20278),i=e.i(87486),c=e.i(18685),x=e.i(17973),m=e.i(71645);function b({label:e,value:a,sub:r,icon:l,accent:s}){return(0,t.jsxs)("div",{className:"rounded-xl border border-border bg-card p-5 shadow-card",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:e}),(0,t.jsx)("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg ${s||"bg-primary/10"}`,children:(0,t.jsx)(l,{className:`h-4 w-4 ${s?"text-white":"text-primary"}`})})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:a}),r&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:r})]})}function g(){let{data:e,isLoading:g}=(0,a.useFunnel)(),{data:u}=(0,a.useKPIs)(),[h,p]=(0,m.useState)("last7days");if(g)return(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsx)(r.Loader2,{className:"h-8 w-8 animate-spin text-primary"})});let y=e?.stages||[],f=e?.byAgent||[];return y.map(e=>e.count),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Funnel Dashboard"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"End-to-end pipeline health and conversion metrics"})]}),(0,t.jsx)(x.default,{value:h,onChange:p})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(b,{label:"Total Leads",value:e?.totalLeads??0,icon:n.Target,sub:"in pipeline"}),(0,t.jsx)(b,{label:"Closed Won",value:e?.closedWon??0,sub:`${e?.conversionRate??0}% conversion`,icon:l.TrendingUp,accent:"bg-emerald-500"}),(0,t.jsx)(b,{label:"Total Revenue",value:`$${((e?.totalRevenue??0)/1e3).toFixed(1)}k`,sub:"from closed deals",icon:s.DollarSign,accent:"bg-primary"}),(0,t.jsx)(b,{label:"Avg Days (New)",value:e?.avgDaysNew??0,sub:"days since created",icon:d.Users})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6 shadow-card",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:[(0,t.jsx)(o,{className:"h-5 w-5 text-primary"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Agent Leaderboard"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border",children:[(0,t.jsx)("th",{className:"text-left py-2 pr-4 text-muted-foreground font-medium",children:"Agent"}),(0,t.jsx)("th",{className:"text-center py-2 px-3 text-muted-foreground font-medium",children:"Total"}),(0,t.jsx)("th",{className:"text-center py-2 px-3 text-muted-foreground font-medium",children:"Meetings"}),(0,t.jsx)("th",{className:"text-center py-2 px-3 text-muted-foreground font-medium",children:"Closed Won"}),(0,t.jsx)("th",{className:"text-center py-2 px-3 text-muted-foreground font-medium",children:"Win Rate"})]})}),(0,t.jsxs)("tbody",{children:[f.map((e,a)=>{let r=e.total>0?Math.round(e.closedWon/e.total*100):0;return(0,t.jsxs)("tr",{className:"border-b border-border/50 hover:bg-secondary/30 transition-colors",children:[(0,t.jsx)("td",{className:"py-3 pr-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[0===a&&(0,t.jsx)("span",{className:"text-amber-500 text-base",children:"ðŸ¥‡"}),1===a&&(0,t.jsx)("span",{className:"text-slate-400 text-base",children:"ðŸ¥ˆ"}),2===a&&(0,t.jsx)("span",{className:"text-orange-400 text-base",children:"ðŸ¥‰"}),(0,t.jsx)("span",{className:"font-medium text-foreground",children:e.name})]})}),(0,t.jsx)("td",{className:"py-3 px-3 text-center font-semibold text-foreground",children:e.total}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-foreground",children:e.meetings}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-emerald-600 font-semibold",children:e.closedWon}),(0,t.jsx)("td",{className:"py-3 px-3 text-center",children:(0,t.jsxs)(i.Badge,{className:`text-xs ${r>=20?"bg-emerald-100 text-emerald-700 border-emerald-200":r>=10?"bg-amber-100 text-amber-700 border-amber-200":"bg-muted text-muted-foreground"}`,variant:"outline",children:[r,"%"]})})]},e.name)}),0===f.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"py-8 text-center text-muted-foreground text-sm",children:"No data yet"})})]})]})})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6 shadow-card",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Stage-to-Stage Conversion"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 items-center",children:y.filter(e=>e.count>0).map((e,a,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium ${(0,c.getStageBadgeClass)(e.stage)}`,children:e.label}),(0,t.jsx)("span",{className:"text-xs font-bold text-foreground mt-1",children:e.count})]}),a<r.length-1&&(0,t.jsxs)("span",{className:"text-muted-foreground text-sm font-medium",children:["â†’ ",r[a+1].count>0?Math.round(r[a+1].count/e.count*100):0,"%"]})]},e.stage))})]})]})}e.s(["default",()=>g],99298)}]);